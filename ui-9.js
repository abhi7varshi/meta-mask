LavaPack.loadBundle([[4160,{"../../../../../shared/constants/metametrics":3263,"../../../../../shared/constants/transaction":3271,"../../../../../shared/modules/string-utils":3295,"../../../../components/app/token-list-display":3574,"../../../../components/app/user-preferenced-currency-display":3617,"../../../../components/ui/identicon":3787,"../../../../components/ui/token-balance":3862,"../../../../helpers/constants/common":3900,"../send-row-wrapper":4170,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=m(e("prop-types")),s=m(e("../send-row-wrapper")),o=m(e("../../../../components/ui/identicon")),i=m(e("../../../../components/ui/token-balance")),l=m(e("../../../../components/app/token-list-display")),c=m(e("../../../../components/app/user-preferenced-currency-display")),u=e("../../../../helpers/constants/common"),d=e("../../../../../shared/modules/string-utils"),f=e("../../../../../shared/constants/metametrics"),p=e("../../../../../shared/constants/transaction");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function h(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class _ extends n.Component{constructor(...e){super(...e),h(this,"state",{isShowingDropdown:!1,sendableTokens:[],sendableCollectibles:[]}),h(this,"openDropdown",(()=>this.setState({isShowingDropdown:!0}))),h(this,"closeDropdown",(()=>this.setState({isShowingDropdown:!1}))),h(this,"getAssetSelected",((e,t)=>{switch(e){case p.AssetType.native:return this.props.nativeCurrency;case p.AssetType.token:return p.TokenStandard.ERC20;case p.AssetType.NFT:return null==t?void 0:t.standard;default:return null}})),h(this,"selectToken",((e,t)=>{this.setState({isShowingDropdown:!1},(()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.TRANSACTIONS,event:'User clicks "Assets" dropdown',properties:{action:"Send Screen",legacy_event:!0,assetSelected:this.getAssetSelected(e,t)}}),this.props.updateSendAsset({type:e,details:e===p.AssetType.native?null:t})}))}))}async componentDidMount(){const e=this.props.tokens.filter((e=>!e.isERC721)),t=this.props.collectibles.filter((e=>e.isCurrentlyOwned&&e.standard===p.TokenStandard.ERC721));this.setState({sendableTokens:e,sendableCollectibles:t})}render(){const{t:e}=this.context;return n.default.createElement(s.default,{label:`${e("asset")}:`},n.default.createElement("div",{className:"send-v2__asset-dropdown"},n.default.createElement("div",{className:"send-v2__asset-dropdown__input-wrapper",onClick:this.openDropdown},this.renderSendAsset()),[...this.state.sendableTokens,...this.state.sendableCollectibles].length>0?this.renderAssetDropdown():null))}renderSendAsset(){const{sendAsset:{details:e,type:t},tokens:a,collectibles:n}=this.props;if(t===p.AssetType.token){const t=a.find((({address:t})=>(0,d.isEqualCaseInsensitive)(t,e.address)));if(t)return this.renderToken(t)}else if(t===p.AssetType.NFT){const t=n.find((({address:t,tokenId:a})=>(0,d.isEqualCaseInsensitive)(t,e.address)&&a===e.tokenId));if(t)return this.renderCollectible(t)}return this.renderNativeCurrency()}renderAssetDropdown(){return this.state.isShowingDropdown&&n.default.createElement("div",null,n.default.createElement("div",{className:"send-v2__asset-dropdown__close-area",onClick:this.closeDropdown}),n.default.createElement("div",{className:"send-v2__asset-dropdown__list"},this.renderNativeCurrency(!0),n.default.createElement(l.default,{clickHandler:e=>this.selectToken(p.AssetType.token,e)}),this.state.sendableCollectibles.map((e=>this.renderCollectible(e,!0)))))}renderNativeCurrency(e=!1){const{t:t}=this.context,{accounts:a,selectedAddress:r,nativeCurrency:s,nativeCurrencyImage:i}=this.props,{sendableTokens:l,sendableCollectibles:d}=this.state,f=a[r]?a[r].balance:"",m=[...l,...d];return n.default.createElement("div",{className:m.length>0?"send-v2__asset-dropdown__asset":"send-v2__asset-dropdown__single-asset",onClick:()=>this.selectToken(p.AssetType.native)},n.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},n.default.createElement(o.default,{diameter:36,image:i,address:s})),n.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},n.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},s),n.default.createElement("div",{className:"send-v2__asset-dropdown__name"},n.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${t("balance")}:`),n.default.createElement(c.default,{value:f,type:u.PRIMARY}))),!e&&m.length>0&&n.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}renderToken(e,t=!1){const{address:a,symbol:r,image:s}=e,{t:l}=this.context;return n.default.createElement("div",{key:a,className:"send-v2__asset-dropdown__asset",onClick:()=>this.selectToken(p.AssetType.token,e)},n.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},n.default.createElement(o.default,{address:a,diameter:36,image:s})),n.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},n.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},r),n.default.createElement("div",{className:"send-v2__asset-dropdown__name"},n.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${l("balance")}:`),n.default.createElement(i.default,{token:e}))),!t&&n.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}renderCollectible(e,t=!1){const{address:a,name:r,image:s,tokenId:i}=e,{t:l}=this.context,c=this.props.collections.find((e=>e.address===a));return n.default.createElement("div",{key:a,className:"send-v2__asset-dropdown__asset",onClick:()=>this.selectToken(p.AssetType.NFT,e)},n.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},n.default.createElement(o.default,{address:a,diameter:36,image:s})),n.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},n.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},c.name||r),n.default.createElement("div",{className:"send-v2__asset-dropdown__name"},n.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${l("tokenId")}:`),i)),!t&&n.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}}a.default=_,h(_,"propTypes",{tokens:r.default.arrayOf(r.default.shape({address:r.default.string,decimals:r.default.oneOfType([r.default.string,r.default.number]),symbol:r.default.string,image:r.default.string})).isRequired,accounts:r.default.object.isRequired,selectedAddress:r.default.string.isRequired,sendAsset:r.default.object,updateSendAsset:r.default.func.isRequired,nativeCurrency:r.default.string,nativeCurrencyImage:r.default.string,collectibles:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collections:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,name:r.default.string}))}),h(_,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-asset-row\\send-asset-row.component.js"}],[4161,{"../../../../ducks/metamask/metamask":3894,"../../../../ducks/send":3896,"../../../../selectors":4306,"./send-asset-row.component":4160,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../../ducks/metamask/metamask"),o=e("../../../../selectors"),i=e("../../../../ducks/send"),l=(n=e("./send-asset-row.component"))&&n.__esModule?n:{default:n};var c=(0,r.connect)((function(e){return{tokens:e.metamask.tokens,selectedAddress:e.metamask.selectedAddress,collectibles:(0,s.getCollectibles)(e),collections:(0,s.getCollectibleContracts)(e),sendAsset:(0,i.getSendAsset)(e),accounts:(0,o.getMetaMaskAccounts)(e),nativeCurrency:(0,s.getNativeCurrency)(e),nativeCurrencyImage:(0,o.getNativeCurrencyImage)(e)}}),(function(e){return{updateSendAsset:({type:t,details:a})=>e((0,i.updateSendAsset)({type:t,details:a}))}}))(l.default);a.default=c}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-asset-row\\send-asset-row.container.js"}],[4162,{"../../../../shared/constants/transaction":3271,"../../../components/ui/actionable-message":3706,"../../../components/ui/dialog":3733,"../../../components/ui/page-container/page-container-content.component":3825,"../../../helpers/constants/common":3900,"../../../helpers/constants/error-keys":3903,"../gas-display":4145,"./send-amount-row":4156,"./send-asset-row":4159,"./send-gas-row":4164,"./send-hex-data-row":4167,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=h(e("prop-types")),s=h(e("../../../components/ui/page-container/page-container-content.component")),o=h(e("../../../components/ui/dialog")),i=h(e("../../../components/ui/actionable-message")),l=e("../../../helpers/constants/error-keys"),c=e("../../../../shared/constants/transaction"),u=e("../../../helpers/constants/common"),d=h(e("../gas-display")),f=h(e("./send-amount-row")),p=h(e("./send-hex-data-row")),m=h(e("./send-asset-row")),g=h(e("./send-gas-row"));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function E(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class v extends n.Component{render(){const{warning:e,error:t,gasIsExcessive:a,isEthGasPrice:r,noGasPrice:o,networkOrAccountNotSupports1559:i,getIsBalanceInsufficient:u,asset:h,assetError:_,recipient:E,recipientWarningAcknowledged:v}=this.props;let T;a?T=l.GAS_PRICE_EXCESSIVE_ERROR_KEY:o?T=l.GAS_PRICE_FETCH_FAILURE_ERROR_KEY:u&&(T=l.INSUFFICIENT_FUNDS_FOR_GAS_ERROR_KEY);const b=this.props.showHexData&&h.type!==c.AssetType.token&&h.type!==c.AssetType.NFT,w="knownAddressRecipient"===E.warning;return n.default.createElement(s.default,null,n.default.createElement("div",{className:"send-v2__form"},_?this.renderError(_):null,r?this.renderWarning(l.ETH_GAS_PRICE_FETCH_WARNING_KEY):null,t?this.renderError(t):null,e?this.renderWarning():null,w&&!v?this.renderRecipientWarning():null,n.default.createElement(m.default,null),n.default.createElement(f.default,null),i?n.default.createElement(g.default,null):null,b?n.default.createElement(p.default,null):null,n.default.createElement(d.default,{gasError:T})))}renderWarning(e=""){const{t:t}=this.context,{warning:a}=this.props;return n.default.createElement(o.default,{type:"warning",className:"send__error-dialog"},t(""===e?a:e))}renderRecipientWarning(){const{acknowledgeRecipientWarning:e}=this.props,{t:t}=this.context;return n.default.createElement("div",{className:"send__warning-container","data-testid":"send-warning"},n.default.createElement(i.default,{type:"danger",useIcon:!0,iconFillColor:"var(--color-error-default)",primaryActionV2:{label:t("tooltipApproveButton"),onClick:e},message:t("sendingToTokenContractWarning",[n.default.createElement("a",{key:"contractWarningSupport",target:"_blank",rel:"noopener noreferrer",className:"send__warning-container__link",href:u.CONTRACT_ADDRESS_LINK},t("learnMoreUpperCase"))]),roundedButtons:!0}))}renderError(e){const{t:t}=this.context;return n.default.createElement(o.default,{type:"error",className:"send__error-dialog"},t(e))}}a.default=v,E(v,"contextTypes",{t:r.default.func}),E(v,"propTypes",{showHexData:r.default.bool,warning:r.default.string,error:r.default.string,gasIsExcessive:r.default.bool.isRequired,isEthGasPrice:r.default.bool,noGasPrice:r.default.bool,networkOrAccountNotSupports1559:r.default.bool,getIsBalanceInsufficient:r.default.bool,asset:r.default.object,assetError:r.default.string,recipient:r.default.object,acknowledgeRecipientWarning:r.default.func,recipientWarningAcknowledged:r.default.bool})}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-content.component.js"}],[4163,{"../../../ducks/send":3896,"../../../selectors":4306,"./send-content.component":4162,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../selectors"),o=e("../../../ducks/send"),i=(n=e("./send-content.component"))&&n.__esModule?n:{default:n};var l=(0,r.connect)((function(e){const t=(0,o.getRecipient)(e),a=(0,o.getRecipientWarningAcknowledgement)(e);return{isEthGasPrice:(0,s.getIsEthGasPriceFetched)(e),noGasPrice:(0,s.getNoGasPriceFetched)(e),networkOrAccountNotSupports1559:(0,s.checkNetworkOrAccountNotSupports1559)(e),getIsBalanceInsufficient:(0,o.getIsBalanceInsufficient)(e),asset:(0,o.getSendAsset)(e),assetError:(0,o.getAssetError)(e),recipient:t,recipientWarningAcknowledged:a}}),(function(e){return{acknowledgeRecipientWarning:()=>e((0,o.acknowledgeRecipientWarning)())}}))(i.default);a.default=l}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-content.container.js"}],[4164,{"./send-gas-row.container":4166},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./send-gas-row.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-gas-row\\index.js"}],[4165,{"../../../../components/app/advanced-gas-inputs":3327,"../../../../ducks/send":3896,"../send-row-wrapper":4170,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=l(e("prop-types")),s=l(e("../send-row-wrapper")),o=l(e("../../../../components/app/advanced-gas-inputs")),i=e("../../../../ducks/send");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class d extends n.Component{render(){const{updateGasPrice:e,updateGasLimit:t,gasPrice:a,gasLimit:r,insufficientBalance:l,minimumGasLimit:c,gasInputMode:u}=this.props;return u!==i.GAS_INPUT_MODES.INLINE?null:n.default.createElement(s.default,null,n.default.createElement(o.default,{updateCustomGasPrice:e,updateCustomGasLimit:t,customGasPrice:a,customGasLimit:r,insufficientBalance:l,minimumGasLimit:c,customPriceIsSafe:!0,isSpeedUp:!1}))}}a.default=d,u(d,"propTypes",{updateGasPrice:r.default.func,updateGasLimit:r.default.func,gasInputMode:r.default.oneOf(Object.values(i.GAS_INPUT_MODES)),gasPrice:r.default.string,gasLimit:r.default.string,insufficientBalance:r.default.bool,minimumGasLimit:r.default.string}),u(d,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-gas-row\\send-gas-row.component.js"}],[4166,{"../../../../../shared/modules/conversion.utils":3285,"../../../../ducks/gas/gas.duck":3890,"../../../../ducks/send":3896,"./send-gas-row.component":4165,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../../ducks/send"),o=e("../../../../ducks/gas/gas.duck"),i=e("../../../../../shared/modules/conversion.utils"),l=(n=e("./send-gas-row.component"))&&n.__esModule?n:{default:n};var c=(0,r.connect)((function(e){const t=(0,s.getGasPrice)(e),a=(0,s.getGasLimit)(e),n=(0,s.getMinimumGasLimitForSend)(e);return{minimumGasLimit:(0,i.hexToDecimal)(n),gasFeeError:(0,s.gasFeeIsInError)(e),gasLoadingError:(0,s.isSendStateInitialized)(e),gasInputMode:(0,s.getGasInputMode)(e),gasPrice:t,gasLimit:a,insufficientBalance:(0,s.getIsBalanceInsufficient)(e)}}),(function(e){return{updateGasPrice:t=>{e((0,s.updateGasPrice)(t)),e((0,o.setCustomGasPrice)(t))},updateGasLimit:t=>{e((0,s.updateGasLimit)(t)),e((0,o.setCustomGasLimit)(t))}}}))(l.default);a.default=c}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-gas-row\\send-gas-row.container.js"}],[4167,{"./send-hex-data-row.container":4169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./send-hex-data-row.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-hex-data-row\\index.js"}],[4168,{"../send-row-wrapper":4170,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=o(e("prop-types")),s=o(e("../send-row-wrapper"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function l(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends n.Component{constructor(...e){super(...e),l(this,"onInput",(e=>{const{updateSendHexData:t}=this.props;t(e.target.value.replace(/\n/gu,"")||null)}))}render(){const{inError:e,data:t}=this.props,{t:a}=this.context;return n.default.createElement(s.default,{label:`${a("hexData")}:`,showError:e,errorType:"amount"},n.default.createElement("textarea",{onInput:this.onInput,placeholder:a("optional"),className:"send-v2__hex-data__input",defaultValue:t||""}))}}a.default=c,l(c,"propTypes",{inError:r.default.bool,data:r.default.string,updateSendHexData:r.default.func.isRequired}),l(c,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-hex-data-row\\send-hex-data-row.component.js"}],[4169,{"../../../../ducks/send":3896,"./send-hex-data-row.component":4168,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../../ducks/send"),o=(n=e("./send-hex-data-row.component"))&&n.__esModule?n:{default:n};var i=(0,r.connect)((function(e){return{data:(0,s.getSendHexData)(e)}}),(function(e){return{updateSendHexData:t=>e((0,s.updateSendHexData)(t))}}))(o.default);a.default=i}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-hex-data-row\\send-hex-data-row.container.js"}],[4170,{"./send-row-wrapper.component":4174},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./send-row-wrapper.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-row-wrapper\\index.js"}],[4171,{"./send-row-error-message.container":4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./send-row-error-message.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-row-wrapper\\send-row-error-message\\index.js"}],[4172,{classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=o(e("prop-types")),s=o(e("classnames"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function l(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends n.Component{render(){const{errors:e,errorType:t}=this.props,a=e[t];return a?n.default.createElement("div",{className:(0,s.default)("send-v2__error",{"send-v2__error-amount":"amount"===t})},this.context.t(a)):null}}a.default=c,l(c,"propTypes",{errors:r.default.object,errorType:r.default.string}),l(c,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-row-wrapper\\send-row-error-message\\send-row-error-message.component.js"}],[4173,{"../../../../../ducks/send":3896,"./send-row-error-message.component":4172,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../../../ducks/send"),o=(n=e("./send-row-error-message.component"))&&n.__esModule?n:{default:n};var i=(0,r.connect)((function(e,t){return{errors:(0,s.getSendErrors)(e),errorType:t.errorType}}))(o.default);a.default=i}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-row-wrapper\\send-row-error-message\\send-row-error-message.container.js"}],[4174,{"./send-row-error-message":4171,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=o(e("prop-types")),s=o(e("./send-row-error-message"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function l(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends n.Component{renderAmountFormRow(){const{children:e,errorType:t="",label:a,showError:r=!1}=this.props,o=Array.isArray(e)?e[1]||e[0]:e,i=e.length>1?e[0]:null;return n.default.createElement("div",{className:"send-v2__form-row"},n.default.createElement("div",{className:"send-v2__form-label"},a,i),n.default.createElement("div",{className:"send-v2__form-field-container"},n.default.createElement("div",{className:"send-v2__form-field"},o),n.default.createElement("div",null,r?n.default.createElement(s.default,{errorType:t}):null)))}renderFormRow(){const{children:e,errorType:t="",label:a,showError:r=!1}=this.props,o=Array.isArray(e)?e[1]||e[0]:e,i=(Array.isArray(e)&&e.length)>1?e[0]:null;return n.default.createElement("div",{className:"send-v2__form-row"},n.default.createElement("div",{className:"send-v2__form-label"},a,r?n.default.createElement(s.default,{errorType:t}):null,i),n.default.createElement("div",{className:"send-v2__form-field"},o))}render(){const{errorType:e=""}=this.props;return"amount"===e?this.renderAmountFormRow():this.renderFormRow()}}a.default=c,l(c,"propTypes",{children:r.default.node,errorType:r.default.string,label:r.default.string,showError:r.default.bool}),l(c,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui\\pages\\send\\send-content\\send-row-wrapper\\send-row-wrapper.component.js"}],[4175,{"./send-footer.container":4177},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./send-footer.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\send\\send-footer\\index.js"}],[4176,{"../../../../shared/constants/metametrics":3263,"../../../components/ui/page-container/page-container-footer":3826,"../../../ducks/send":3896,"../../../helpers/constants/routes":3906,lodash:2730,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=u(e("prop-types")),s=e("lodash"),o=u(e("../../../components/ui/page-container/page-container-footer")),i=e("../../../helpers/constants/routes"),l=e("../../../../shared/constants/metametrics"),c=e("../../../ducks/send");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function f(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends n.Component{onCancel(){const{cancelTx:e,draftTransactionID:t,history:a,mostRecentOverviewPage:n,resetSendState:r,sendStage:s}=this.props;t&&e({id:t}),r();const o=s===c.SEND_STAGES.EDIT?i.DEFAULT_ROUTE:n;a.push(o)}async onSubmit(e){e.preventDefault();const{addToAddressBookIfNew:t,sign:a,to:n,toAccounts:r,history:s}=this.props,{trackEvent:o}=this.context;await t(n,r);const c=a();Promise.resolve(c).then((()=>{o({category:l.EVENT.CATEGORIES.TRANSACTIONS,event:"Complete",properties:{action:"Edit Screen",legacy_event:!0}}),s.push(i.CONFIRM_TRANSACTION_ROUTE)}))}componentDidUpdate(e){const{sendErrors:t}=this.props,{trackEvent:a}=this.context;if(Object.keys(t).length>0&&!1===(0,s.isEqual)(t,e.sendErrors)){const e=Object.keys(t).find((e=>t[e])),n=t[e];a({category:l.EVENT.CATEGORIES.TRANSACTIONS,event:"Error",properties:{action:"Edit Screen",legacy_event:!0,errorField:e,errorMessage:n}})}}render(){const{t:e}=this.context,{sendStage:t}=this.props;return n.default.createElement(o.default,{onCancel:()=>this.onCancel(),onSubmit:e=>this.onSubmit(e),disabled:this.props.disabled,cancelText:t===c.SEND_STAGES.EDIT?e("reject"):e("cancel")})}}a.default=p,f(p,"propTypes",{addToAddressBookIfNew:r.default.func,resetSendState:r.default.func,disabled:r.default.bool.isRequired,history:r.default.object,sign:r.default.func,to:r.default.string,toAccounts:r.default.array,sendStage:r.default.string,sendErrors:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,cancelTx:r.default.func,draftTransactionID:r.default.string}),f(p,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui\\pages\\send\\send-footer\\send-footer.component.js"}],[4177,{"../../../../app/scripts/lib/util":87,"../../../ducks/history/history":3891,"../../../ducks/metamask/metamask":3894,"../../../ducks/send":3896,"../../../store/actions":4313,"./send-footer.component":4176,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../store/actions"),o=e("../../../ducks/send"),i=e("../../../ducks/history/history"),l=e("../../../../app/scripts/lib/util"),c=e("../../../ducks/metamask/metamask"),u=(n=e("./send-footer.component"))&&n.__esModule?n:{default:n};var d=(0,r.connect)((function(e){return{disabled:(0,o.isSendFormInvalid)(e),to:(0,o.getSendTo)(e),toAccounts:(0,c.getSendToAccounts)(e),sendStage:(0,o.getSendStage)(e),sendErrors:(0,o.getSendErrors)(e),draftTransactionID:(0,o.getDraftTransactionID)(e),mostRecentOverviewPage:(0,i.getMostRecentOverviewPage)(e)}}),(function(e){return{resetSendState:()=>e((0,o.resetSendState)()),cancelTx:t=>e((0,s.cancelTx)(t)),sign:()=>e((0,o.signTransaction)()),addToAddressBookIfNew:(t,a,n="")=>{const r=(0,l.addHexPrefix)(t);(function(e,t){const a=t.toLowerCase();return!e.some((({address:e})=>e.toLowerCase()===a))})(a,r)&&e((0,s.addToAddressBook)(r,n))}}}))(u.default);a.default=d}}},{package:"$root$",file:"ui\\pages\\send\\send-footer\\send-footer.container.js"}],[4178,{"./send-header.component":4179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./send-header.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\send\\send-header\\index.js"}],[4179,{"../../../../shared/constants/transaction":3271,"../../../components/ui/page-container/page-container-header":3828,"../../../ducks/history/history":3891,"../../../ducks/send":3896,"../../../hooks/useI18nContext":3961,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,r.useHistory)(),t=(0,s.useSelector)(i.getMostRecentOverviewPage),a=(0,s.useDispatch)(),d=(0,s.useSelector)(c.getSendStage),f=(0,s.useSelector)(c.getSendAsset),p=(0,l.useI18nContext)(),m=(0,s.useSelector)(c.getDraftTransactionExists);let g=(null==f?void 0:f.type)===u.AssetType.native?p("send"):p("sendTokens");!1===m||[c.SEND_STAGES.ADD_RECIPIENT,c.SEND_STAGES.INACTIVE].includes(d)?g=p("sendTo"):d===c.SEND_STAGES.EDIT&&(g=p("edit"));return n.default.createElement(o.default,{className:"send__header",onClose:()=>{a((0,c.resetSendState)()),e.push(t)},title:g,headerCloseText:d===c.SEND_STAGES.EDIT?p("cancelEdit"):p("cancel"),hideClose:d===c.SEND_STAGES.DRAFT})};var n=d(e("react")),r=e("react-router-dom"),s=e("react-redux"),o=d(e("../../../components/ui/page-container/page-container-header")),i=e("../../../ducks/history/history"),l=e("../../../hooks/useI18nContext"),c=e("../../../ducks/send"),u=e("../../../../shared/constants/transaction");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui\\pages\\send\\send-header\\send-header.component.js"}],[4180,{"../../../shared/constants/common":3259,"../../../shared/constants/gas":3260,"../../../shared/modules/Numeric":3281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.TOKEN_TRANSFER_FUNCTION_SIGNATURE=a.REQUIRED_ERROR=a.RECIPIENT_TYPES=a.NEGATIVE_ETH_ERROR=a.MIN_GAS_TOTAL=a.MIN_GAS_PRICE_HEX=a.MIN_GAS_PRICE_GWEI=a.MIN_GAS_PRICE_DEC=a.MIN_GAS_LIMIT_DEC=a.MAX_GAS_LIMIT_DEC=a.KNOWN_RECIPIENT_ADDRESS_WARNING=a.INVALID_RECIPIENT_ADDRESS_NOT_ETH_NETWORK_ERROR=a.INVALID_RECIPIENT_ADDRESS_ERROR=a.INSUFFICIENT_TOKENS_ERROR=a.INSUFFICIENT_FUNDS_FOR_GAS_ERROR=a.INSUFFICIENT_FUNDS_ERROR=a.HIGH_FEE_WARNING_MULTIPLIER=a.ENS_UNKNOWN_ERROR=a.ENS_REGISTRATION_ERROR=a.ENS_NO_ADDRESS_FOR_NAME=a.ENS_NOT_SUPPORTED_ON_NETWORK=a.ENS_NOT_FOUND_ON_NETWORK=a.ENS_ILLEGAL_CHARACTER=a.CONTRACT_ADDRESS_ERROR=a.CONFUSING_ENS_ERROR=a.COLLECTIBLE_TRANSFER_FROM_FUNCTION_SIGNATURE=void 0;var n=e("../../../shared/constants/gas"),r=e("../../../shared/modules/Numeric"),s=e("../../../shared/constants/common");a.MIN_GAS_PRICE_DEC="0";const o=parseInt("0",10).toString(16);a.MIN_GAS_PRICE_HEX=o;const i=new r.Numeric("21000",10);a.MIN_GAS_LIMIT_DEC=i;a.MAX_GAS_LIMIT_DEC="7920027";a.HIGH_FEE_WARNING_MULTIPLIER=1.5;const l=new r.Numeric(o,16,s.EtherDenomination.WEI).toDenomination(s.EtherDenomination.GWEI).round(1).toPrefixedHexString();a.MIN_GAS_PRICE_GWEI=l;const c=new r.Numeric(n.MIN_GAS_LIMIT_HEX,16).times(new r.Numeric(o,16,s.EtherDenomination.WEI)).toPrefixedHexString();a.MIN_GAS_TOTAL=c;a.TOKEN_TRANSFER_FUNCTION_SIGNATURE="0xa9059cbb";a.COLLECTIBLE_TRANSFER_FROM_FUNCTION_SIGNATURE="0x23b872dd";a.INSUFFICIENT_FUNDS_ERROR="insufficientFunds";a.INSUFFICIENT_FUNDS_FOR_GAS_ERROR="insufficientFundsForGas";a.INSUFFICIENT_TOKENS_ERROR="insufficientTokens";a.NEGATIVE_ETH_ERROR="negativeETH";a.INVALID_RECIPIENT_ADDRESS_ERROR="invalidAddressRecipient";a.INVALID_RECIPIENT_ADDRESS_NOT_ETH_NETWORK_ERROR="invalidAddressRecipientNotEthNetwork";a.REQUIRED_ERROR="required";a.KNOWN_RECIPIENT_ADDRESS_WARNING="knownAddressRecipient";a.CONTRACT_ADDRESS_ERROR="contractAddressError";a.CONFUSING_ENS_ERROR="confusingEnsDomain";a.ENS_NO_ADDRESS_FOR_NAME="noAddressForName";a.ENS_NOT_FOUND_ON_NETWORK="ensNotFoundOnCurrentNetwork";a.ENS_NOT_SUPPORTED_ON_NETWORK="ensNotSupportedOnNetwork";a.ENS_ILLEGAL_CHARACTER="ensIllegalCharacter";a.ENS_UNKNOWN_ERROR="ensUnknownError";a.ENS_REGISTRATION_ERROR="ensRegistrationError";a.RECIPIENT_TYPES={SMART_CONTRACT:"SMART_CONTRACT",NON_CONTRACT:"NON_CONTRACT"}}}},{package:"$root$",file:"ui\\pages\\send\\send.constants.js"}],[4181,{"../../../shared/constants/metametrics":3263,"../../../shared/constants/transaction":3271,"../../contexts/metametrics":3880,"../../ducks/metamask/metamask":3894,"../../ducks/send":3896,"../../selectors":4306,"../../store/actions":4313,"./send-content":4153,"./send-content/add-recipient":4152,"./send-content/add-recipient/domain-input":4151,"./send-footer":4175,"./send-header":4178,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.useHistory)(),t=(0,n.useRef)(!1),a=(0,r.useSelector)(o.getSendStage),i=(0,r.useSelector)(T),E=(0,r.useSelector)(o.getIsUsingMyAccountForRecipientSearch),v=(0,r.useSelector)(o.getRecipient),b=(0,r.useSelector)(l.getSendHexDataFeatureFlagState),w=(0,r.useSelector)(o.getRecipientUserInput),y=(0,r.useSelector)(o.getDraftTransactionExists),k=(0,s.useLocation)(),S=(0,n.useContext)(u.MetaMetricsContext),C=(0,r.useDispatch)(),N=(0,n.useCallback)((()=>{C((0,o.resetSendState)())}),[C]);let O;(0,n.useEffect)((()=>{!1===y&&!1===t.current&&(t.current=!0,C((0,o.startNewDraftTransaction)({type:f.AssetType.native})))}),[y,C]),(0,n.useEffect)((()=>{window.addEventListener("beforeunload",N)}),[N]),(0,n.useEffect)((()=>{if("?scan=true"===k.search){C((0,c.showQrScanner)());const e=window.location.href.split("?")[0];window.history.pushState({},null,`${e}`),window.location.hash="#send"}}),[k,C]),(0,n.useEffect)((()=>()=>{C((0,o.resetSendState)()),window.removeEventListener("beforeunload",N)}),[C,N]),O=y&&[o.SEND_STAGES.EDIT,o.SEND_STAGES.DRAFT].includes(a)?n.default.createElement(n.default.Fragment,null,n.default.createElement(g.default,{showHexData:b,gasIsExcessive:i}),n.default.createElement(h.default,{key:"send-footer",history:e})):n.default.createElement(m.default,null);return n.default.createElement("div",{className:"page-container"},n.default.createElement(p.default,{history:e}),n.default.createElement(_.default,{userInput:w,className:"send__to-row",onChange:e=>C((0,o.updateRecipientUserInput)(e)),onValidAddressTyped:async e=>{C((0,o.addHistoryEntry)(`sendFlow - Valid address typed ${e}`)),await C((0,o.updateRecipientUserInput)(e)),C((0,o.updateRecipient)({address:e,nickname:""}))},internalSearch:E,selectedAddress:v.address,selectedName:v.nickname,onPaste:e=>{C((0,o.addHistoryEntry)(`sendFlow - User pasted ${e} into address field`))},onReset:()=>C((0,o.resetRecipientInput)()),scanQrCode:()=>{S({event:"Used QR scanner",category:d.EVENT.CATEGORIES.TRANSACTIONS,properties:{action:"Edit Screen",legacy_event:!0}}),C((0,c.showQrScanner)())}}),O)};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=e("../../ducks/send"),i=e("../../selectors"),l=e("../../ducks/metamask/metamask"),c=e("../../store/actions"),u=e("../../contexts/metametrics"),d=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/transaction"),p=E(e("./send-header")),m=E(e("./send-content/add-recipient")),g=E(e("./send-content")),h=E(e("./send-footer")),_=E(e("./send-content/add-recipient/domain-input"));function E(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const T=e=>(0,i.isCustomPriceExcessive)(e,!0)}}},{package:"$root$",file:"ui\\pages\\send\\send.js"}],[4182,{"../../../app/scripts/lib/util":87,"../../../shared/constants/transaction":3271,"../../../shared/modules/Numeric":3281,"./send.constants":4180,"ethereumjs-abi":1994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.addGasBuffer=function(e,t,a=1.5){const n=new i.Numeric(e,16),r=new i.Numeric(t,16).times(new i.Numeric(.9,10)).round(0),s=n.times(new i.Numeric(a,10)).round(0);if(n.greaterThanOrEqualTo(r))return e;if(s.lessThan(r))return s.toString();return r.toString()},a.ellipsify=function(e,t=6,a=4){if(!e)return"";return`${e.slice(0,t)}...${e.slice(-a)}`},a.generateERC20TransferData=c,a.generateERC721TransferData=u,a.getAssetTransferData=function({sendToken:e,fromAddress:t,toAddress:a,amount:n}){switch(e.standard){case o.TokenStandard.ERC721:return u({toAddress:a,fromAddress:t,tokenId:e.tokenId});case o.TokenStandard.ERC20:default:return c({toAddress:a,amount:n,sendToken:e})}},a.isBalanceSufficient=function({amount:e="0x0",balance:t="0x0",conversionRate:a=1,gasTotal:n="0x0",primaryCurrency:r}){let s=new i.Numeric(e,16).add(new i.Numeric(n,16)),o=new i.Numeric(t,16);null!=r&&(s=s.applyConversionRate(a),o=o.applyConversionRate(a));return o.greaterThanOrEqualTo(s)},a.isTokenBalanceSufficient=function({amount:e="0x0",tokenBalance:t,decimals:a}){const n=new i.Numeric(e,16).shiftedBy(a);return new i.Numeric(t,16).greaterThanOrEqualTo(n)};var n,r=(n=e("ethereumjs-abi"))&&n.__esModule?n:{default:n},s=e("../../../app/scripts/lib/util"),o=e("../../../shared/constants/transaction"),i=e("../../../shared/modules/Numeric"),l=e("./send.constants");function c({toAddress:e="0x0",amount:t="0x0",sendToken:a}){return a?l.TOKEN_TRANSFER_FUNCTION_SIGNATURE+Array.prototype.map.call(r.default.rawEncode(["address","uint256"],[(0,s.addHexPrefix)(e),(0,s.addHexPrefix)(t)]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}function u({toAddress:e="0x0",fromAddress:t="0x0",tokenId:a}){return a?l.COLLECTIBLE_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call(r.default.rawEncode(["address","address","uint256"],[(0,s.addHexPrefix)(t),(0,s.addHexPrefix)(e),a]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}}}},{package:"$root$",file:"ui\\pages\\send\\send.utils.js"}],[4183,{"../../../../app/scripts/lib/util":87,"../../../../shared/constants/app":3258,"../../../../shared/constants/hardware-wallets":3261,"../../../../shared/constants/metametrics":3263,"../../../components/ui/actionable-message":3706,"../../../components/ui/button":3713,"../../../components/ui/dialog":3733,"../../../components/ui/dropdown":3737,"../../../components/ui/text-field":3857,"../../../components/ui/toggle-button":3860,"../../../helpers/constants/routes":3906,"../../../helpers/constants/zendesk-url":3909,"../../../helpers/utils/export-utils":3924,"../../../helpers/utils/settings-search":3937,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=v(e("prop-types")),s=v(e("../../../components/ui/toggle-button")),o=v(e("../../../components/ui/text-field")),i=v(e("../../../components/ui/button")),l=e("../../../helpers/constants/routes"),c=v(e("../../../components/ui/dropdown")),u=v(e("../../../components/ui/dialog")),d=e("../../../../app/scripts/lib/util"),f=e("../../../../shared/constants/app"),p=e("../../../helpers/utils/settings-search"),m=e("../../../../shared/constants/hardware-wallets"),g=e("../../../../shared/constants/metametrics"),h=e("../../../helpers/utils/export-utils"),_=v(e("../../../components/ui/actionable-message")),E=v(e("../../../helpers/constants/zendesk-url"));function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function b(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const w="CORRUPT_JSON_FILE";class y extends n.PureComponent{constructor(...e){super(...e),b(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,lockTimeError:"",showLedgerTransportWarning:!1,showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null}),b(this,"settingsRefs",Array((0,p.getNumberOfSettingsInSection)(this.context.t,this.context.t("advanced"))).fill(undefined).map((()=>n.default.createRef()))),b(this,"backupUserData",(async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,h.exportAsFile)(e,t),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})}))}componentDidUpdate(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}async getTextFromFile(e){return new Promise(((t,a)=>{const n=new window.FileReader;n.onload=e=>{const a=e.target.result;t(a)},n.onerror=e=>{a(e)},n.readAsText(e)}))}async handleFileUpload(e){e.persist();const t=e.target.files[0],a=await this.getTextFromFile(t);e.target.value="";try{const e=await this.props.restoreUserData(a);this.setState({showResultMessage:!0,restoreSuccessful:e,restoreMessage:null})}catch(e){e.message.match(/Unexpected.+JSON/iu)&&this.setState({showResultMessage:!0,restoreSuccessful:!1,restoreMessage:w})}}renderStateLogs(){const{t:e}=this.context,{displayWarning:t}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row","data-testid":"advanced-setting-state-logs"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("stateLogs")),n.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(i.default,{type:"secondary",large:!0,onClick:()=>{window.logStateString(((a,n)=>{a?t(e("stateLogError")):(0,h.exportAsFile)(`${e("stateLogFileName")}.json`,n)}))}},e("downloadStateLogs")))))}renderMobileSync(){const{t:e}=this.context,{history:t}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row","data-testid":"advanced-setting-mobile-sync"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("syncWithMobile"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(i.default,{type:"secondary",large:!0,onClick:e=>{e.preventDefault(),t.push(l.MOBILE_SYNC_ROUTE)}},e("syncWithMobile")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-reset-account"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("resetAccount")),n.default.createElement("span",{className:"settings-page__content-description"},e("resetAccountDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(i.default,{type:"danger",large:!0,className:"settings-tab__button--red",onClick:e=>{e.preventDefault(),this.context.trackEvent({category:g.EVENT.CATEGORIES.SETTINGS,event:g.EVENT_NAMES.ACCOUNT_RESET,properties:{}}),t()}},e("resetAccount")))))}renderAdvancedGasInputInline(){const{t:e}=this.context,{advancedInlineGas:t,setAdvancedInlineGasFeatureFlag:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-advanced-gas-inline"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("showAdvancedGasInline")),n.default.createElement("div",{className:"settings-page__content-description"},e("showAdvancedGasInlineDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-hex-data"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("showHexData")),n.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("showFiatConversionInTestnets")),n.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("showTestnetNetworks")),n.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderUseNonceOptIn(){const{t:e}=this.context,{useNonceField:t,setUseNonceField:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-custom-nonce"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("nonceField")),n.default.createElement("div",{className:"settings-page__content-description"},e("nonceFieldDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("autoLockTimeLimit")),n.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{type:"number",id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"5",value:this.state.autoLockTimeLimit,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),n.default.createElement(i.default,{type:"primary","data-testid":"auto-lockout-button",className:"settings-tab__rpc-save-button",disabled:""!==t,onClick:()=>{a(this.state.autoLockTimeLimit)}},e("save")))))}renderLedgerLiveControl(){const{t:e}=this.context,{ledgerTransportType:t,setLedgerTransportPreference:a,userHasALedgerAccount:r}=this.props,s={LIVE:e("ledgerLive"),WEBHID:e("webhid"),U2F:e("u2f")},o=[{name:s.LIVE,value:m.LedgerTransportTypes.live},{name:s.U2F,value:m.LedgerTransportTypes.u2f}];window.navigator.hid&&o.push({name:s.WEBHID,value:m.LedgerTransportTypes.webhid});const l=window.navigator.hid?s.WEBHID:s.U2F;return n.default.createElement("div",{ref:this.settingsRefs[9],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("preferredLedgerConnectionType")),n.default.createElement("div",{className:"settings-page__content-description"},e("ledgerConnectionPreferenceDescription",[l,n.default.createElement(i.default,{key:"ledger-connection-settings-learn-more",type:"link",href:E.default.HARDWARE_CONNECTION,target:"_blank",rel:"noopener noreferrer",className:"settings-page__inline-link"},e("learnMore"))]))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{id:"select-ledger-transport-type",options:o,selectedOption:t,onChange:async e=>{t===m.LedgerTransportTypes.live&&e===m.LedgerTransportTypes.webhid&&this.setState({showLedgerTransportWarning:!0}),a(e),e===m.LedgerTransportTypes.webhid&&r&&await window.navigator.hid.requestDevice({filters:[{vendorId:m.LEDGER_USB_VENDOR_ID}]})}}),this.state.showLedgerTransportWarning?n.default.createElement(u.default,{type:"message"},n.default.createElement("div",{className:"settings-page__content-item-dialog"},e("ledgerTransportChangeWarning"))):null)))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("dismissReminderField")),n.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}handleLockChange(e){const{t:t}=this.context,a=Math.max(Number(e),0);this.setState((()=>{let e="";return a>10080&&(e=t("lockTimeTooGreat")),{autoLockTimeLimit:a,lockTimeError:e}}))}renderUserDataBackup(){const{t:e}=this.context;return n.default.createElement("div",{ref:this.settingsRefs[11],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("backupUserData")),n.default.createElement("span",{className:"settings-page__content-description"},e("backupUserDataDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(i.default,{"data-testid":"backup-button",type:"secondary",large:!0,onClick:()=>this.backupUserData()},e("backup")))))}renderRestoreUserData(){const{t:e}=this.context,{showResultMessage:t,restoreSuccessful:a,restoreMessage:r}=this.state,s=e(a?"restoreSuccessful":"restoreFailed"),o=r===w?e("dataBackupSeemsCorrupt"):s;return n.default.createElement("div",{ref:this.settingsRefs[12],className:"settings-page__content-row","data-testid":"advanced-setting-data-restore"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("restoreUserData")),n.default.createElement("span",{className:"settings-page__content-description"},e("restoreUserDataDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement("label",{htmlFor:"restore-file",className:"button btn btn--rounded btn-secondary btn--large settings-page__button"},e("restore")),n.default.createElement("input",{id:"restore-file","data-testid":"restore-file",style:{visibility:"hidden"},type:"file",accept:".json",onChange:e=>this.handleFileUpload(e)})),t&&n.default.createElement(_.default,{type:a?"success":"danger",message:o,primaryActionV2:{label:e("dismiss"),onClick:()=>{this.setState({showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null})}}})))}render(){const{warning:e}=this.props,t=(0,d.getPlatform)()!==f.PLATFORM_FIREFOX;return n.default.createElement("div",{className:"settings-page__body"},e?n.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderMobileSync(),this.renderResetAccount(),this.renderAdvancedGasInputInline(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderUseNonceOptIn(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderRestoreUserData(),t?this.renderLedgerLiveControl():null,this.renderDismissSeedBackupReminderControl())}}a.default=y,b(y,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),b(y,"propTypes",{setUseNonceField:r.default.func,useNonceField:r.default.bool,setHexDataFeatureFlag:r.default.func,displayWarning:r.default.func,showResetAccountConfirmationModal:r.default.func,warning:r.default.string,history:r.default.object,sendHexData:r.default.bool,setAdvancedInlineGasFeatureFlag:r.default.func,advancedInlineGas:r.default.bool,showFiatInTestnets:r.default.bool,showTestNetworks:r.default.bool,autoLockTimeLimit:r.default.number,setAutoLockTimeLimit:r.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:r.default.func.isRequired,setShowTestNetworks:r.default.func.isRequired,ledgerTransportType:r.default.oneOf(Object.values(m.LedgerTransportTypes)),setLedgerTransportPreference:r.default.func.isRequired,setDismissSeedBackUpReminder:r.default.func.isRequired,dismissSeedBackUpReminder:r.default.bool.isRequired,userHasALedgerAccount:r.default.bool.isRequired,backupUserData:r.default.func.isRequired,restoreUserData:r.default.func.isRequired})}}},{package:"$root$",file:"ui\\pages\\settings\\advanced-tab\\advanced-tab.component.js"}],[4184,{"../../../ducks/metamask/metamask":3894,"../../../selectors":4306,"../../../store/actions":4313,"./advanced-tab.component":4183,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.mapStateToProps=a.mapDispatchToProps=a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../ducks/metamask/metamask"),u=(n=e("./advanced-tab.component"))&&n.__esModule?n:{default:n};const d=e=>{const{appState:{warning:t},metamask:a}=e,{featureFlags:{sendHexData:n,advancedInlineGas:r}={},useNonceField:s,ledgerTransportType:o,dismissSeedBackUpReminder:i}=a,{showFiatInTestnets:u,showTestNetworks:d,autoLockTimeLimit:f=0}=(0,l.getPreferences)(e);return{warning:t,sendHexData:n,advancedInlineGas:r,showFiatInTestnets:u,showTestNetworks:d,autoLockTimeLimit:f,useNonceField:s,ledgerTransportType:o,dismissSeedBackUpReminder:i,userHasALedgerAccount:(0,c.doesUserHaveALedgerAccount)(e)}};a.mapStateToProps=d;const f=e=>({backupUserData:()=>(0,i.backupUserData)(),restoreUserData:e=>(0,i.restoreUserData)(e),setHexDataFeatureFlag:t=>e((0,i.setFeatureFlag)("sendHexData",t)),displayWarning:t=>e((0,i.displayWarning)(t)),showResetAccountConfirmationModal:()=>e((0,i.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setAdvancedInlineGasFeatureFlag:t=>e((0,i.setFeatureFlag)("advancedInlineGas",t)),setUseNonceField:t=>e((0,i.setUseNonceField)(t)),setShowFiatConversionOnTestnetsPreference:t=>e((0,i.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,i.setShowTestNetworks)(t)),setAutoLockTimeLimit:t=>e((0,i.setAutoLockTimeLimit)(t)),setLedgerTransportPreference:t=>e((0,i.setLedgerTransportPreference)(t)),setDismissSeedBackUpReminder:t=>e((0,i.setDismissSeedBackUpReminder)(t))});a.mapDispatchToProps=f;var p=(0,r.compose)(o.withRouter,(0,s.connect)(d,f))(u.default);a.default=p}}},{package:"$root$",file:"ui\\pages\\settings\\advanced-tab\\advanced-tab.container.js"}],[4185,{"./advanced-tab.container":4184},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./advanced-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\advanced-tab\\index.js"}],[4186,{"../../../../shared/constants/alerts":3257,"../../../components/ui/toggle-button":3860,"../../../components/ui/tooltip":3867,"../../../ducks/metamask/metamask":3894,"../../../helpers/utils/settings-search":3937,"../../../hooks/useI18nContext":3961,"../../../store/actions":4313,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=p(e("prop-types")),s=e("react-redux"),o=e("../../../../shared/constants/alerts"),i=p(e("../../../components/ui/tooltip")),l=p(e("../../../components/ui/toggle-button")),c=e("../../../store/actions"),u=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/useI18nContext"),f=e("../../../helpers/utils/settings-search");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=({alertId:e,description:t,title:a})=>{const r=(0,d.useI18nContext)(),o=(0,n.useRef)();(0,n.useEffect)((()=>{(0,f.handleSettingsRefs)(r,r("alerts"),o)}),[o,r]);const p=(0,s.useSelector)((t=>(0,u.getAlertEnabledness)(t)[e]));return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{ref:o,className:"alerts-tab__item"},n.default.createElement("span",null,a),n.default.createElement("div",{className:"alerts-tab__description-container"},n.default.createElement(i.default,{position:"top",title:t,wrapperClassName:"alerts-tab__description"},n.default.createElement("i",{className:"fa fa-info-circle alerts-tab__description__icon"})),n.default.createElement(l.default,{offLabel:r("off"),onLabel:r("on"),onToggle:()=>(0,c.setAlertEnabledness)(e,!p),value:p}))))};g.propTypes={alertId:r.default.string.isRequired,description:r.default.string.isRequired,title:r.default.string.isRequired};var h=()=>{const e=(0,d.useI18nContext)(),t={[o.AlertTypes.unconnectedAccount]:{title:e("alertSettingsUnconnectedAccount"),description:e("alertSettingsUnconnectedAccountDescription")},[o.AlertTypes.web3ShimUsage]:{title:e("alertSettingsWeb3ShimUsage"),description:e("alertSettingsWeb3ShimUsageDescription")}};return n.default.createElement("div",{className:"alerts-tab__body"},Object.entries(t).map((([e,{title:t,description:a}],r)=>n.default.createElement(g,{alertId:e,description:a,key:e,title:t}))))};a.default=h}}},{package:"$root$",file:"ui\\pages\\settings\\alerts-tab\\alerts-tab.js"}],[4187,{"./alerts-tab":4186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./alerts-tab"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\alerts-tab\\index.js"}],[4188,{"../../../../../shared/modules/hexstring-utils":3288,"../../../../components/ui/identicon":3787,"../../../../components/ui/page-container/page-container-footer":3826,"../../../../components/ui/text-field":3857,"../../../../helpers/constants/routes":3906,"../../../../helpers/utils/util":3941,"../../../send/send-content/add-recipient/domain-input":4151,"../../../send/send.constants":4180,lodash:2730,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=m(e("prop-types")),s=e("lodash"),o=m(e("../../../../components/ui/identicon")),i=m(e("../../../../components/ui/text-field")),l=e("../../../../helpers/constants/routes"),c=e("../../../../helpers/utils/util"),u=m(e("../../../send/send-content/add-recipient/domain-input")),d=m(e("../../../../components/ui/page-container/page-container-footer")),f=e("../../../../../shared/modules/hexstring-utils"),p=e("../../../send/send.constants");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function h(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class _ extends n.PureComponent{constructor(e){super(e),h(this,"state",{newName:"",ethAddress:"",error:"",input:""}),h(this,"validate",(e=>{const t=!(0,f.isBurnAddress)(e)&&(0,f.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),a=(0,c.isValidDomainName)(e);t||a||""===e?this.setState({error:"",ethAddress:e}):this.setState({error:p.INVALID_RECIPIENT_ADDRESS_ERROR})})),h(this,"onChange",(e=>{this.setState({input:e}),this.dValidate(e)})),this.dValidate=(0,s.debounce)(this.validate,500)}UNSAFE_componentWillReceiveProps(e){if(e.qrCodeData&&"address"===e.qrCodeData.type){const{domainResolution:t}=this.props,a=e.qrCodeData.values.address.toLowerCase();(t||this.state.ethAddress).toLowerCase()!==a&&(this.setState({input:a}),this.validate(a),this.props.qrCodeDetected(null))}}renderInput(){return n.default.createElement(u.default,{scanQrCode:e=>{this.props.scanQrCode()},onChange:this.onChange,onPaste:e=>{this.setState({input:e}),this.validate(e)},onReset:()=>{this.props.resetDomainResolution(),this.setState({ethAddress:"",input:""})},userInput:this.state.input})}render(){const{t:e}=this.context,{history:t,addToAddressBook:a,domainError:r,domainResolution:s}=this.props,c=r||this.state.error;return n.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},s&&n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement(o.default,{address:s,diameter:60}),n.default.createElement("div",{className:"address-book__view-contact__group__value"},s)),n.default.createElement("div",{className:"address-book__add-contact__content"},n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},e("userName")),n.default.createElement(i.default,{type:"text",id:"nickname",value:this.state.newName,onChange:e=>this.setState({newName:e.target.value}),fullWidth:!0,margin:"dense"})),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},e("ethereumPublicAddress")),this.renderInput(),c&&n.default.createElement("div",{className:"address-book__add-contact__error"},e(c)))),n.default.createElement(d.default,{cancelText:this.context.t("cancel"),disabled:Boolean(this.state.error||!this.state.ethAddress||!this.state.newName.trim()),onSubmit:async()=>{await a(s||this.state.ethAddress,this.state.newName),t.push(l.CONTACT_LIST_ROUTE)},onCancel:()=>{t.push(l.CONTACT_LIST_ROUTE)},submitText:this.context.t("save")}))}}a.default=_,h(_,"contextTypes",{t:r.default.func}),h(_,"propTypes",{addToAddressBook:r.default.func,history:r.default.object,scanQrCode:r.default.func,qrCodeData:r.default.object,qrCodeDetected:r.default.func,domainResolution:r.default.string,domainError:r.default.string,resetDomainResolution:r.default.func})}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\add-contact\\add-contact.component.js"}],[4189,{"../../../../ducks/app/app":3886,"../../../../ducks/domains":3888,"../../../../store/actions":4313,"./add-contact.component":4188,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../ducks/app/app"),c=e("../../../../ducks/domains"),u=(n=e("./add-contact.component"))&&n.__esModule?n:{default:n};var d=(0,r.compose)(o.withRouter,(0,s.connect)((e=>({qrCodeData:(0,l.getQrCodeData)(e),domainError:(0,c.getDomainError)(e),domainResolution:(0,c.getDomainResolution)(e)})),(e=>({addToAddressBook:(t,a)=>e((0,i.addToAddressBook)(t,a)),scanQrCode:()=>e((0,i.showQrScanner)()),qrCodeDetected:t=>e((0,i.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,c.resetDomainResolution)())}))))(u.default);a.default=d}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\add-contact\\add-contact.container.js"}],[4190,{"./add-contact.container":4189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./add-contact.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\add-contact\\index.js"}],[4191,{"../../../components/app/contact-list":3388,"../../../components/ui/button":3713,"../../../helpers/constants/routes":3906,"../../../helpers/utils/settings-search":3937,"./add-contact":4190,"./edit-contact":4195,"./view-contact":4197,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=p(e("prop-types")),s=p(e("classnames")),o=p(e("../../../components/app/contact-list")),i=e("../../../helpers/constants/routes"),l=p(e("../../../components/ui/button")),c=e("../../../helpers/utils/settings-search"),u=p(e("./edit-contact")),d=p(e("./add-contact")),f=p(e("./view-contact"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class h extends n.Component{constructor(...e){super(...e),g(this,"settingsRefs",Array((0,c.getNumberOfSettingsInSection)(this.context.t,this.context.t("contacts"))).fill(undefined).map((()=>n.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{addressBook:e,history:t,selectedAddress:a}=this.props,r=e.filter((({name:e})=>Boolean(e))),s=e.filter((({name:e})=>!e)),{t:l}=this.context;return e.length?n.default.createElement("div",null,n.default.createElement(o.default,{searchForContacts:()=>r,searchForRecents:()=>s,selectRecipient:e=>{t.push(`${i.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:a})):n.default.createElement("div",{className:"address-book__container"},n.default.createElement("div",null,n.default.createElement("i",{className:"fa fa-address-book fa-4x address-book__icon",title:l("addressBookIcon")}),n.default.createElement("h4",{className:"address-book__title"},l("buildContactList")),n.default.createElement("p",{className:"address-book__sub-title"},l("addFriendsAndAddresses")),n.default.createElement("button",{className:"address-book__link",onClick:()=>{t.push(i.CONTACT_ADD_ROUTE)}},"+ ",l("addContact"))))}renderAddButton(){const{history:e,viewingContact:t,editingContact:a}=this.props;return n.default.createElement("div",{className:"address-book-add-button"},n.default.createElement(l.default,{className:(0,s.default)({"address-book-add-button__button":!0,"address-book-add-button__button--hidden":t||a}),type:"secondary",onClick:()=>{e.push(i.CONTACT_ADD_ROUTE)}},this.context.t("addContact")))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:a,showContactContent:r}=this.props;if(!r)return null;let s=null;return e?s=f.default:t?s=u.default:a&&(s=d.default),s&&n.default.createElement("div",{className:"address-book-contact-content"},n.default.createElement(s,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:n.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,addressBook:t}=this.props;return n.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),!e&&t.length>0?this.renderAddButton():null)}}a.default=h,g(h,"contextTypes",{t:r.default.func}),g(h,"propTypes",{addressBook:r.default.array,history:r.default.object,selectedAddress:r.default.string,viewingContact:r.default.bool,editingContact:r.default.bool,addingContact:r.default.bool,showContactContent:r.default.bool,hideAddressBook:r.default.bool})}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\contact-list-tab.component.js"}],[4192,{"../../../../app/scripts/lib/util":87,"../../../../shared/constants/app":3258,"../../../helpers/constants/routes":3906,"../../../selectors":4306,"./contact-list-tab.component":4191,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../selectors"),l=e("../../../../shared/constants/app"),c=e("../../../../app/scripts/lib/util"),u=e("../../../helpers/constants/routes"),d=(n=e("./contact-list-tab.component"))&&n.__esModule?n:{default:n};var f=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:a}=t,{pathname:n}=a,r=n.match(/[^/]+$/u)[0],s=r.includes("0x"),o=Boolean(n.match(u.CONTACT_VIEW_ROUTE)),d=Boolean(n.match(u.CONTACT_EDIT_ROUTE)),f=Boolean(n.match(u.CONTACT_ADD_ROUTE)),p=(0,c.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP,m=p&&(o||d||f);return{viewingContact:o,editingContact:d,addingContact:f,addressBook:(0,i.getAddressBook)(e),selectedAddress:s?r:"",hideAddressBook:m,envIsPopup:p,showContactContent:!p||m}})))(d.default);a.default=f}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\contact-list-tab.container.js"}],[4193,{"../../../../../shared/modules/hexstring-utils":3288,"../../../../components/ui/button/button.component":3712,"../../../../components/ui/identicon":3787,"../../../../components/ui/page-container/page-container-footer":3826,"../../../../components/ui/text-field":3857,"prop-types":2833,react:3032,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=d(e("prop-types")),s=e("react-router-dom"),o=d(e("../../../../components/ui/identicon")),i=d(e("../../../../components/ui/button/button.component")),l=d(e("../../../../components/ui/text-field")),c=d(e("../../../../components/ui/page-container/page-container-footer")),u=e("../../../../../shared/modules/hexstring-utils");function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends n.PureComponent{constructor(...e){super(...e),p(this,"state",{newName:this.props.name,newAddress:this.props.address,newMemo:this.props.memo,error:""})}render(){const{t:e}=this.context,{address:t,addToAddressBook:a,chainId:r,history:d,listRoute:f,memo:p,name:m,removeFromAddressBook:g,viewRoute:h}=this.props;return t?n.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact"},n.default.createElement("div",{className:"settings-page__header address-book__header--edit"},n.default.createElement(o.default,{address:t,diameter:60}),n.default.createElement(i.default,{type:"link",className:"settings-page__address-book-button",onClick:async()=>{await g(r,t),d.push(f)}},e("deleteAccount"))),n.default.createElement("div",{className:"address-book__edit-contact__content"},n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},e("userName")),n.default.createElement(l.default,{type:"text",id:"nickname",placeholder:this.context.t("addAlias"),value:this.state.newName,onChange:e=>this.setState({newName:e.target.value}),fullWidth:!0,margin:"dense"})),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},e("ethereumPublicAddress")),n.default.createElement(l.default,{type:"text",id:"address",value:this.state.newAddress,error:this.state.error,onChange:e=>this.setState({newAddress:e.target.value}),fullWidth:!0,multiline:!0,rows:4,margin:"dense",classes:{inputMultiline:"address-book__view-contact__address__text-area",inputRoot:"address-book__view-contact__address"}})),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},e("memo")),n.default.createElement(l.default,{type:"text",id:"memo",placeholder:p,value:this.state.newMemo,onChange:e=>this.setState({newMemo:e.target.value}),fullWidth:!0,margin:"dense",multiline:!0,rows:3,classes:{inputMultiline:"address-book__view-contact__text-area",inputRoot:"address-book__view-contact__text-area-wrapper"}}))),n.default.createElement(c.default,{cancelText:this.context.t("cancel"),onSubmit:async()=>{""!==this.state.newAddress&&this.state.newAddress!==t?!(0,u.isBurnAddress)(this.state.newAddress)&&(0,u.isValidHexAddress)(this.state.newAddress,{mixedCaseUseChecksum:!0})?(await g(r,t),await a(this.state.newAddress,this.state.newName||m,this.state.newMemo||p),d.push(f)):this.setState({error:this.context.t("invalidAddress")}):(await a(t,this.state.newName||m,this.state.newMemo||p),d.push(f))},onCancel:()=>{d.push(`${h}/${t}`)},submitText:this.context.t("save"),disabled:this.state.newName===m&&this.state.newAddress===t&&this.state.newMemo===p})):n.default.createElement(s.Redirect,{to:{pathname:f}})}}a.default=m,p(m,"contextTypes",{t:r.default.func}),p(m,"propTypes",{addToAddressBook:r.default.func,removeFromAddressBook:r.default.func,history:r.default.object,name:r.default.string,address:r.default.string,chainId:r.default.string,memo:r.default.string,viewRoute:r.default.string,listRoute:r.default.string}),p(m,"defaultProps",{name:"",memo:""})}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\edit-contact\\edit-contact.component.js"}],[4194,{"../../../../helpers/constants/routes":3906,"../../../../selectors":4306,"../../../../store/actions":4313,"./edit-contact.component":4193,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),l=e("../../../../helpers/constants/routes"),c=e("../../../../store/actions"),u=(n=e("./edit-contact.component"))&&n.__esModule?n:{default:n};var d=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:a}=t,{pathname:n}=a,r=n.match(/[^/]+$/u)[0],s=r.includes("0x")?r.toLowerCase():t.match.params.id,o=(0,i.getAddressBookEntry)(e,s)||e.metamask.identities[s],{memo:c,name:u}=o||{},{chainId:d}=e.metamask.provider;return{address:o?s:null,chainId:d,name:u,memo:c,viewRoute:l.CONTACT_VIEW_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}}),(e=>({addToAddressBook:(t,a,n)=>e((0,c.addToAddressBook)(t,a,n)),removeFromAddressBook:(t,a)=>e((0,c.removeFromAddressBook)(t,a))}))))(u.default);a.default=d}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\edit-contact\\edit-contact.container.js"}],[4195,{"./edit-contact.container":4194},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./edit-contact.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\edit-contact\\index.js"}],[4196,{"./contact-list-tab.container":4192},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./contact-list-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\index.js"}],[4197,{"./view-contact.container":4199},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./view-contact.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\view-contact\\index.js"}],[4198,{"../../../../components/ui/button/button.component":3712,"../../../../components/ui/icon/copy-icon.component":3755,"../../../../components/ui/identicon":3787,"../../../../components/ui/tooltip":3867,"../../../../hooks/useCopyToClipboard":3955,"../../../../hooks/useI18nContext":3961,"prop-types":2833,react:3032,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=f(e("react")),r=f(e("prop-types")),s=e("react-router-dom"),o=f(e("../../../../components/ui/identicon")),i=f(e("../../../../components/ui/icon/copy-icon.component")),l=f(e("../../../../components/ui/button/button.component")),c=f(e("../../../../components/ui/tooltip")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useCopyToClipboard");function f(e){return e&&e.__esModule?e:{default:e}}function p({history:e,name:t,address:a,checkSummedAddress:r,memo:f,editRoute:p,listRoute:m}){const g=(0,u.useI18nContext)(),[h,_]=(0,d.useCopyToClipboard)();return a?n.default.createElement("div",{className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__header address-book__header"},n.default.createElement(o.default,{address:a,diameter:60}),n.default.createElement("div",{className:"address-book__header__name"},t||a)),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement(l.default,{type:"secondary",onClick:()=>{e.push(`${p}/${a}`)}},g("edit"))),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},g("ethereumPublicAddress")),n.default.createElement("div",{className:"address-book__view-contact__group__value"},n.default.createElement("div",{className:"address-book__view-contact__group__static-address"},function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(r)),n.default.createElement(c.default,{position:"bottom",title:g(h?"copiedExclamation":"copyToClipboard")},n.default.createElement("button",{className:"address-book__view-contact__group__static-address--copy-icon",onClick:()=>{_(r)}},n.default.createElement(i.default,{size:20,color:"var(--color-primary-default)"}))))),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},g("memo")),n.default.createElement("div",{className:"address-book__view-contact__group__static-address"},f)))):n.default.createElement(s.Redirect,{to:{pathname:m}})}p.propTypes={name:r.default.string,address:r.default.string,history:r.default.object,checkSummedAddress:r.default.string,memo:r.default.string,editRoute:r.default.string,listRoute:r.default.string.isRequired};var m=n.default.memo(p);a.default=m}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\view-contact\\view-contact.component.js"}],[4199,{"../../../../../shared/modules/hexstring-utils":3288,"../../../../helpers/constants/routes":3906,"../../../../selectors":4306,"./view-contact.component":4198,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),l=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/modules/hexstring-utils"),u=(n=e("./view-contact.component"))&&n.__esModule?n:{default:n};var d=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:a}=t,{pathname:n}=a,r=n.match(/[^/]+$/u)[0],s=r.includes("0x")?r.toLowerCase():t.match.params.id,o=(0,i.getAddressBookEntry)(e,s)||e.metamask.identities[s],{memo:u,name:d}=o||{};return{name:d,address:o?s:null,checkSummedAddress:(0,c.toChecksumHexAddress)(s),memo:u,editRoute:l.CONTACT_EDIT_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}})))(u.default);a.default=d}}},{package:"$root$",file:"ui\\pages\\settings\\contact-list-tab\\view-contact\\view-contact.container.js"}],[4200,{"../../../../shared/constants/metametrics":3263,"../../../components/ui/toggle-button":3860,"../../../components/ui/typography/typography":3872,"../../../helpers/constants/design-system":3902,"../../../helpers/utils/settings-search":3937,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=u(e("prop-types")),s=u(e("../../../components/ui/toggle-button")),o=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=u(e("../../../components/ui/typography/typography")),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function f(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends n.PureComponent{constructor(...e){super(...e),f(this,"settingsRefs",Array((0,o.getNumberOfSettingsInSection)(this.context.t,this.context.t("experimental"))).fill(undefined).map((()=>n.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderOpenSeaEnabledToggle(){return null}renderTransactionSecurityCheckToggle(){const{t:e}=this.context,{transactionSecurityCheckEnabled:t,setTransactionSecurityCheckEnabled:a}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.default,{variant:c.TYPOGRAPHY.H4,color:c.COLORS.TEXT_ALTERNATIVE,marginBottom:2,fontWeight:c.FONT_WEIGHT.BOLD},e("privacy")),n.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row settings-page__content-row-experimental"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("transactionSecurityCheck")),n.default.createElement("div",{className:"settings-page__content-description"},n.default.createElement(l.default,{variant:c.TYPOGRAPHY.H6,color:c.COLORS.TEXT_ALTERNATIVE},e("transactionSecurityCheckDescription")),n.default.createElement(l.default,{marginTop:3,marginBottom:1,variant:c.TYPOGRAPHY.H6,color:c.COLORS.TEXT_ALTERNATIVE},e("selectProvider")),n.default.createElement("div",{className:"settings-page__content-item-col settings-page__content-item-col-open-sea"},n.default.createElement(l.default,{variant:c.TYPOGRAPHY.H5,color:c.COLORS.TEXT_DEFAULT,fontWeight:c.FONT_WEIGHT.MEDIUM,marginBottom:0},e("openSea")),n.default.createElement(s.default,{value:t,onToggle:e=>{this.context.trackEvent({category:i.EVENT.CATEGORIES.SETTINGS,event:"Enabled/Disable TransactionSecurityCheck",properties:{action:"Enabled/Disable TransactionSecurityCheck",legacy_event:!0}}),a(!e)}})),n.default.createElement(l.default,{variant:c.TYPOGRAPHY.H6,color:c.COLORS.TEXT_ALTERNATIVE,marginTop:0},e("thisServiceIsExperimental")),n.default.createElement(l.default,{variant:c.TYPOGRAPHY.H5,color:c.COLORS.TEXT_MUTED,fontWeight:c.FONT_WEIGHT.MEDIUM,marginTop:2},e("moreComingSoon"))))))}render(){return n.default.createElement("div",{className:"settings-page__body"},!1,this.renderOpenSeaEnabledToggle())}}a.default=p,f(p,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),f(p,"propTypes",{useNftDetection:r.default.bool,setUseNftDetection:r.default.func,setOpenSeaEnabled:r.default.func,openSeaEnabled:r.default.bool,transactionSecurityCheckEnabled:r.default.bool,setTransactionSecurityCheckEnabled:r.default.func})}}},{package:"$root$",file:"ui\\pages\\settings\\experimental-tab\\experimental-tab.component.js"}],[4201,{"../../../selectors":4306,"../../../store/actions":4313,"./experimental-tab.component":4200,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=(n=e("./experimental-tab.component"))&&n.__esModule?n:{default:n};var u=(0,r.compose)(o.withRouter,(0,s.connect)((e=>({useNftDetection:(0,l.getUseNftDetection)(e),openSeaEnabled:(0,l.getOpenSeaEnabled)(e),transactionSecurityCheckEnabled:(0,l.getIsTransactionSecurityCheckEnabled)(e)})),(e=>({setUseNftDetection:t=>e((0,i.setUseNftDetection)(t)),setOpenSeaEnabled:t=>e((0,i.setOpenSeaEnabled)(t)),setTransactionSecurityCheckEnabled:t=>e((0,i.setTransactionSecurityCheckEnabled)(t))}))))(c.default);a.default=u}}},{package:"$root$",file:"ui\\pages\\settings\\experimental-tab\\experimental-tab.container.js"}],[4202,{"./experimental-tab.container":4201},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./experimental-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\experimental-tab\\index.js"}],[4203,{"./settings.container":4233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./settings.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\index.js"}],[4204,{"./info-tab.component":4205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./info-tab.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\info-tab\\index.js"}],[4205,{"../../../../shared/constants/metametrics":3263,"../../../../shared/lib/ui-utils":3280,"../../../components/component-library":3682,"../../../components/ui/button":3713,"../../../helpers/constants/common":3900,"../../../helpers/utils/build-types":3920,"../../../helpers/utils/settings-search":3937,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=f(e("prop-types")),s=f(e("../../../components/ui/button")),o=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=e("../../../../shared/lib/ui-utils");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends n.PureComponent{constructor(...e){super(...e),m(this,"state",{version:global.platform.getVersion()}),m(this,"settingsRefs",Array((0,c.getNumberOfSettingsInSection)(this.context.t,this.context.t("about"))).fill(undefined).map((()=>n.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;return n.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},n.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),n.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),n.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?n.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),n.default.createElement(o.Tag,{label:e("new"),className:"info-tab__tag"}))):null,n.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:"https://metamask.io/attributions.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),n.default.createElement("hr",{className:"info-tab__separator"}),n.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:d.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.SETTINGS,event:u.EVENT_NAMES.SUPPORT_LINK_CLICKED,properties:{url:d.SUPPORT_LINK}},{contextPropsIntoEventProperties:[u.CONTEXT_PROPS.PAGE_TITLE]})}},e("supportCenter"))),n.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),n.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},n.default.createElement(s.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.SETTINGS,event:u.EVENT_NAMES.SUPPORT_LINK_CLICKED,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.CONTEXT_PROPS.PAGE_TITLE]})}},e("contactUs"))))}render(){const{t:e}=this.context;return n.default.createElement("div",{className:"settings-page__body"},n.default.createElement("div",{className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},n.default.createElement("div",{className:"info-tab__item"},n.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),n.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),n.default.createElement("div",{className:"info-tab__item"},n.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),n.default.createElement("div",{className:"info-tab__logo-wrapper"},n.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})))}}a.default=g,m(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui\\pages\\settings\\info-tab\\info-tab.component.js"}],[4206,{"../../../../components/ui/icon/search-icon":3777,"../../../../components/ui/text-field":3857,"../../../../contexts/i18n":3879,"@material-ui/core/InputAdornment":627,"fuse.js":2272,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=u(e("prop-types")),s=u(e("fuse.js")),o=u(e("@material-ui/core/InputAdornment")),i=u(e("../../../../components/ui/text-field")),l=e("../../../../contexts/i18n"),c=u(e("../../../../components/ui/icon/search-icon"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function f({onSearch:e,error:t,networksList:a,searchQueryInput:r}){const u=(0,n.useContext)(l.I18nContext),[d,f]=(0,n.useState)("var(--color-icon-muted)"),p=Object.values(a),m=new s.default(p,{shouldSort:!0,threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label","labelKey"]}),g=async t=>{f(""===t?"var(--color-icon-muted)":"var(--color-icon-alternative)");const a=m.search(t),n=t?[...a]:p;await e({searchQuery:t,results:n})};return n.default.createElement(i.default,{id:"search-networks","data-testid":"search-networks",placeholder:u("customContentSearch"),type:"text",value:r,onChange:e=>g(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",classes:{inputRoot:"networks-tab__networks-list__custom-search-network"},startAdornment:n.default.createElement(o.default,{position:"start"},n.default.createElement(c.default,{color:d})),endAdornment:n.default.createElement(n.default.Fragment,null,r&&n.default.createElement(o.default,{className:"imageclosectn",position:"end",onClick:()=>g("")},n.default.createElement("i",{className:"fa fa-times networks-tab__imageclose",width:"17",heigth:"17",title:"Close"})))})}f.propTypes={onSearch:r.default.func,error:r.default.string,networksList:r.default.array,searchQueryInput:r.default.string}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\custom-content-search\\custom-content-search.js"}],[4207,{"./custom-content-search":4206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./custom-content-search"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\custom-content-search\\index.js"}],[4208,{"./networks-tab":4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./networks-tab"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\index.js"}],[4209,{"./networks-form":4210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./networks-form"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-form\\index.js"}],[4210,{"../../../../../shared/constants/app":3258,"../../../../../shared/constants/metametrics":3263,"../../../../../shared/constants/network":3264,"../../../../../shared/lib/fetch-with-cache":3273,"../../../../../shared/modules/conversion.utils":3285,"../../../../../shared/modules/network.utils":3290,"../../../../../shared/modules/rpc.utils":3293,"../../../../components/ui/actionable-message":3706,"../../../../components/ui/button":3713,"../../../../components/ui/form-field":3745,"../../../../contexts/metametrics":3880,"../../../../hooks/useI18nContext":3961,"../../../../hooks/usePrevious":3964,"../../../../store/actions":4313,classnames:1775,"ethereumjs-util":2014,lodash:2730,loglevel:2745,"prop-types":2833,react:3032,"react-redux":2985,"valid-url":3223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=S(e("prop-types")),o=S(e("valid-url")),i=S(e("loglevel")),l=S(e("classnames")),c=e("ethereumjs-util"),u=e("lodash"),d=e("../../../../hooks/useI18nContext"),f=e("../../../../../shared/modules/network.utils"),p=e("../../../../../shared/modules/rpc.utils"),m=S(e("../../../../components/ui/actionable-message")),g=S(e("../../../../components/ui/button")),h=S(e("../../../../components/ui/form-field")),_=e("../../../../store/actions"),E=S(e("../../../../../shared/lib/fetch-with-cache")),v=e("../../../../hooks/usePrevious"),T=e("../../../../contexts/metametrics"),b=e("../../../../../shared/constants/metametrics"),w=e("../../../../../shared/constants/network"),y=e("../../../../../shared/constants/app"),k=e("../../../../../shared/modules/conversion.utils");function S(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}const N=e=>e&&"string"==typeof e&&e.startsWith("0x")?parseInt(e,16).toString(10):e,O=e=>{const t=`http://${e}`;return o.default.isWebUri(t)&&!e.match(/^https?:\/\/$/u)},R=({addNewNetwork:e,restrictHeight:t,isCurrentRpcTarget:a,networksToRender:s,selectedNetwork:S,cancelCallback:C,submitCallback:R})=>{var P,x,I,A,M,D;const L=(0,d.useI18nContext)(),j=(0,n.useContext)(T.MetaMetricsContext),F=(0,r.useDispatch)(),{label:U,labelKey:W,viewOnly:q,rpcPrefs:G}=S,H=U||W&&L(W),[B,$]=(0,n.useState)(H||""),[V,Y]=(0,n.useState)((null==S?void 0:S.rpcUrl)||""),[K,Q]=(0,n.useState)((null==S?void 0:S.chainId)||""),[X,Z]=(0,n.useState)((null==S?void 0:S.ticker)||""),[z,J]=(0,n.useState)((null==S?void 0:S.blockExplorerUrl)||""),[ee,te]=(0,n.useState)({}),[ae,ne]=(0,n.useState)({}),[re,se]=(0,n.useState)(!1),oe=w.FEATURED_RPCS.some((e=>Number(e.chainId)===Number(K))),[ie,le]=(0,n.useState)(Boolean(e)),[ce,ue]=(0,n.useState)(S),de=(0,n.useCallback)((()=>{$(H||""),Y(S.rpcUrl),Q(N(S.chainId)),Z(null==S?void 0:S.ticker),J(null==S?void 0:S.blockExplorerUrl),te({}),ne({}),se(!1),le(!1),ue(S)}),[S,H]),fe=(0,n.useRef)(),pe=(0,n.useRef)(),me=(0,n.useRef)(),ge=(0,n.useRef)(),he=(0,n.useRef)(),_e=(0,n.useRef)();(0,n.useEffect)((()=>{!fe.current&&e?($(""),Y(""),Q(""),Z(""),J(""),te({}),se(!1)):pe.current===H&&ge.current===S.rpcUrl&&me.current===S.chainId&&he.current===S.ticker&&_e.current===S.blockExplorerUrl||ie&&(0,u.isEqual)(S,ce)||de(S)}),[S,H,e,ce,de,ie]),(0,n.useEffect)((()=>()=>{$(""),Y(""),Q(""),Z(""),J(""),te({}),F((0,_.setSelectedSettingsRpcUrl)(""))}),[$,Y,Q,Z,J,te,F]);const Ee=(0,n.useCallback)((e=>{if(!o.default.isWebUri(e)&&""!==e){let t,a;return O(e)?(t="urlErrorMsg",a=L("urlErrorMsg")):(t="invalidBlockExplorerURL",a=L("invalidBlockExplorerURL")),{key:t,msg:a}}return null}),[L]),ve=(0,n.useCallback)((async(e="")=>{const t=e.trim();let a="",n="",r="",o="",l=10,c=t;if(!c.startsWith("0x"))try{c=`0x${(0,k.decimalToHex)(c)}`}catch(e){return{error:{key:"invalidHexNumber",msg:L("invalidHexNumber")}}}const[u]=s.filter((e=>e.chainId===c&&e.rpcUrl!==V));if(""===t)return null;var d;let m,g;u?(r="chainIdExistsErrorMsg",o=L("chainIdExistsErrorMsg",[null!==(d=u.label)&&void 0!==d?d:u.labelKey])):t.startsWith("0x")?(l=16,/^0x[0-9a-f]+$/iu.test(t)?(0,f.isPrefixedFormattedHexString)(t)||(n=L("invalidHexNumberLeadingZeros")):(a="invalidHexNumber",n=L("invalidHexNumber"))):/^[0-9]+$/u.test(t)?t.startsWith("0")?(a="invalidNumberLeadingZeros",n=L("invalidNumberLeadingZeros")):(0,f.isSafeChainId)(parseInt(t,l))||(a="invalidChainIdTooBig",n=L("invalidChainIdTooBig")):(a="invalidNumber",n=L("invalidNumber"));try{m=await(0,p.jsonRpcRequest)(V,"eth_chainId")}catch(e){i.default.warn("Failed to fetch the chainId from the endpoint.",e),g=e}if(V&&t)if(g||"string"!=typeof m)a="failedToFetchChainId",n=L("failedToFetchChainId");else if(c!==m){if(!t.startsWith("0x"))try{m=parseInt(m,16).toString(10)}catch(e){i.default.warn("Failed to convert endpoint chain ID to decimal",m)}a="endpointReturnedDifferentChainId",n=L("endpointReturnedDifferentChainId",[m.length<=12?m:`${m.slice(0,9)}...`])}return a?{error:{key:a,msg:n}}:r?{warning:{key:r,msg:o}}:null}),[V,s,L]),Te=(0,n.useCallback)((async(e,t)=>{let a,n,r,s;if(!e||!t)return null;try{r=await(0,E.default)("https://chainid.network/chains.json")||[]}catch(e){i.default.warn("Failed to fetch the chainList from chainid.network",e),s=e}if(s)a="failedToFetchTickerSymbolData",n=L("failedToFetchTickerSymbolData");else{var o;const s=null===(o=r)||void 0===o?void 0:o.find((t=>t.chainId.toString()===e));if(s===undefined)a="failedToFetchTickerSymbolData",n=L("failedToFetchTickerSymbolData");else{var l;const r=null===(l=s.nativeCurrency)||void 0===l?void 0:l.symbol;r!==t&&(a="chainListReturnedDifferentTickerSymbol",n=L("chainListReturnedDifferentTickerSymbol",[e,r]))}}return a?{key:a,msg:n}:null}),[L]),be=(0,n.useCallback)((e=>{const t=o.default.isWebUri(e),[{rpcUrl:a=null,label:n,labelKey:r}={}]=s.filter((t=>t.rpcUrl===e)),{rpcUrl:i}=S;if(!t&&""!==e){let t,a;return O(e)?(t="urlErrorMsg",a=L("urlErrorMsg")):(t="invalidRPC",a=L("invalidRPC")),{key:t,msg:a}}return a&&a!==i?{key:"urlExistsErrorMsg",msg:L("urlExistsErrorMsg",[null!=n?n:r])}:null}),[S,s,L]),we=(0,v.usePrevious)(V),ye=(0,v.usePrevious)(K),ke=(0,v.usePrevious)(X),Se=(0,v.usePrevious)(z);(0,n.useEffect)((()=>{q||we===V&&ye===K&&ke===X&&Se===z||async function(){const{error:e,warning:t}=await ve(K)||{},a=await Te(K,X),n=Ee(z),r=be(V);te({...ee,blockExplorerUrl:n,rpcUrl:r,chainId:e}),ne({...ae,chainId:t,ticker:a})}()}),[ee,ae,V,K,X,z,q,U,we,ye,ke,Se,Ee,ve,Te,be]);const Ce=!a&&!q&&!e,Ne=(()=>{const e="string"==typeof S.chainId&&S.chainId.toLowerCase().startsWith("0x")&&K===N(S.chainId);return V===S.rpcUrl&&e&&X===S.ticker&&B===H&&z===S.blockExplorerUrl})(),Oe=(null==S?void 0:S.rpcUrl)&&ae.chainId&&oe,Re=Object.keys(ee).some((e=>{const t=ee[e];return("chainId"!==e||"chainIdExistsErrorMsg"!==(null==t?void 0:t.key))&&(null==t?void 0:t.key)&&(null==t?void 0:t.msg)}))||re||Ne||Oe||!V||!K||!X;return n.default.createElement("div",{className:(0,l.default)({"networks-tab__network-form":!e,"networks-tab__add-network-form":e,"networks-tab__restrict-height":t})},e?n.default.createElement(m.default,{type:"warning",message:L("onlyAddTrustedNetworks"),iconFillColor:"var(--color-warning-default)",useIcon:!0,withRightButton:!0,className:"networks-tab__add-network-form__alert"}):null,n.default.createElement("div",{className:(0,l.default)({"networks-tab__network-form-body":!e,"networks-tab__network-form-body__view-only":q,"networks-tab__add-network-form-body":e})},n.default.createElement(h.default,{autoFocus:!0,error:(null===(P=ee.networkName)||void 0===P?void 0:P.msg)||"",onChange:e=>{le(!0),$(e)},titleText:L("networkName"),value:B,disabled:q}),n.default.createElement(h.default,{error:(null===(x=ee.rpcUrl)||void 0===x?void 0:x.msg)||"",onChange:e=>{le(!0),Y(e)},titleText:L("rpcUrl"),value:null!=V&&V.includes(`/v3/${w.infuraProjectId}`)?V.replace(`/v3/${w.infuraProjectId}`,""):V,disabled:q}),n.default.createElement(h.default,{warning:(null===(I=ae.chainId)||void 0===I?void 0:I.msg)||"",error:(null===(A=ee.chainId)||void 0===A?void 0:A.msg)||"",onChange:e=>{le(!0),Q(e)},titleText:L("chainId"),value:K,disabled:q,tooltipText:q?null:L("networkSettingsChainIdDescription")}),n.default.createElement(h.default,{warning:(null===(M=ae.ticker)||void 0===M?void 0:M.msg)||"",onChange:e=>{le(!0),Z(e)},titleText:L("currencySymbol"),value:X,disabled:q}),n.default.createElement(h.default,{error:(null===(D=ee.blockExplorerUrl)||void 0===D?void 0:D.msg)||"",onChange:e=>{le(!0),J(e)},titleText:L("blockExplorerUrl"),titleUnit:L("optionalWithParanthesis"),value:z,disabled:q,autoFocus:"blockExplorerUrl"===window.location.hash.split("#")[2]})),n.default.createElement("div",{className:(0,l.default)({"networks-tab__network-form-footer":!e,"networks-tab__add-network-form-footer":e})},!q&&n.default.createElement(n.default.Fragment,null,Ce&&n.default.createElement(g.default,{type:"danger",onClick:()=>{F((0,_.showModal)({name:"CONFIRM_DELETE_NETWORK",target:S.rpcUrl,onConfirm:()=>{de(),F((0,_.setSelectedSettingsRpcUrl)(""))}}))}},L("delete")),n.default.createElement(g.default,{type:"secondary",onClick:()=>{e?(F((0,_.setSelectedSettingsRpcUrl)("")),null==C||C()):de()},disabled:Ne},L("cancel")),n.default.createElement(g.default,{type:"primary",disabled:Re,onClick:async()=>{se(!0);try{const t=(e=>{let t=e;return e.startsWith("0x")||(t=`0x${parseInt(e,10).toString(16)}`),t})(K.trim().toLowerCase());S.rpcUrl&&V!==S.rpcUrl?await F((0,_.editRpc)(S.rpcUrl,V,t,X,B,{...G,blockExplorerUrl:z||(null==G?void 0:G.blockExplorerUrl)})):await F((0,_.updateAndSetCustomRpc)(V,t,X,B,{...G,blockExplorerUrl:z||(null==G?void 0:G.blockExplorerUrl)})),e&&(j({event:"Custom Network Added",category:b.EVENT.CATEGORIES.NETWORK,referrer:{url:y.ORIGIN_METAMASK},properties:{chain_id:(0,c.addHexPrefix)(Number(K).toString(16)),symbol:X,source:b.EVENT.SOURCE.NETWORK.CUSTOM_NETWORK_FORM}}),F((0,_.setNewNetworkAdded)(B)),null==R||R())}catch(e){throw se(!1),e}}},L("save")))))};R.propTypes={addNewNetwork:s.default.bool,isCurrentRpcTarget:s.default.bool,networksToRender:s.default.array.isRequired,selectedNetwork:s.default.object,cancelCallback:s.default.func,submitCallback:s.default.func,restrictHeight:s.default.bool},R.defaultProps={selectedNetwork:{}};var P=R;a.default=P}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-form\\networks-form.js"}],[4211,{"./networks-list-item":4212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./networks-list-item"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-list-item\\index.js"}],[4212,{"../../../../../app/scripts/lib/util":87,"../../../../../shared/constants/app":3258,"../../../../../shared/constants/network":3264,"../../../../components/ui/icon/icon-check":3761,"../../../../components/ui/identicon":3787,"../../../../components/ui/lock-icon":3800,"../../../../components/ui/url-icon":3876,"../../../../helpers/constants/routes":3906,"../../../../helpers/utils/settings-search":3937,"../../../../hooks/useI18nContext":3961,"../../../../selectors":4306,"../../../../store/actions":4313,classnames:1775,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=v(e("prop-types")),s=v(e("classnames")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../../shared/constants/network"),c=v(e("../../../../components/ui/lock-icon")),u=v(e("../../../../components/ui/icon/icon-check")),d=e("../../../../helpers/constants/routes"),f=e("../../../../store/actions"),p=e("../../../../../app/scripts/lib/util"),m=e("../../../../../shared/constants/app"),g=e("../../../../selectors"),h=v(e("../../../../components/ui/identicon")),_=v(e("../../../../components/ui/url-icon")),E=e("../../../../helpers/utils/settings-search");function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}const b=({network:e,networkIsSelected:t,selectedRpcUrl:a,setSearchQuery:r,setSearchedNetworks:v})=>{const T=(0,i.useI18nContext)(),b=(0,o.useDispatch)(),w=(0,p.getEnvironmentType)()===m.ENVIRONMENT_TYPE_FULLSCREEN,y=(0,o.useSelector)(g.getProvider),{label:k,labelKey:S,rpcUrl:C,providerType:N}=e,O=a&&a===C,R=C===y.rpcUrl,P=y.type!==l.NETWORK_TYPES.RPC&&N===y.type,x=O||!t&&(R||P),I=R||P,A=(0,n.useRef)();return(0,n.useEffect)((()=>{(0,E.handleSettingsRefs)(T,T("networks"),A)}),[A,T]),n.default.createElement("div",{ref:A,key:`settings-network-list-item:${C}`,className:"networks-tab__networks-list-item",onClick:()=>{r(""),v([]),b((0,f.setSelectedSettingsRpcUrl)(C)),w||global.platform.openExtensionInBrowser(d.NETWORKS_ROUTE)}},I?n.default.createElement(u.default,{className:"networks-tab__content__icon-check",color:"var(--color-success-default)","aria-label":T("active")}):n.default.createElement(u.default,{className:"networks-tab__content__icon-check",color:"transparent","aria-hidden":"true"}),e.chainId in l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?n.default.createElement(h.default,{className:"networks-tab__content__custom-image",diameter:24,image:l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],imageBorder:!0}):!e.isATestNetwork&&n.default.createElement(_.default,{className:"networks-tab__content__icon-with-fallback",fallbackClassName:"networks-tab__content__icon-with-fallback",name:k}),e.isATestNetwork&&n.default.createElement(_.default,{name:k||S,fallbackClassName:(0,s.default)("networks-tab__content__icon-with-fallback",{[`networks-tab__content__icon-with-fallback--color-${S}`]:!0})}),n.default.createElement("div",{className:(0,s.default)("networks-tab__networks-list-name",{"networks-tab__networks-list-name--selected":x,"networks-tab__networks-list-name--disabled":N!==l.NETWORK_TYPES.RPC&&!x})},k||T(S),N!==l.NETWORK_TYPES.RPC&&n.default.createElement(c.default,{width:"14px",height:"17px",fill:"var(--color-icon-muted)"})))};b.propTypes={network:r.default.object.isRequired,networkIsSelected:r.default.bool,selectedRpcUrl:r.default.string,setSearchQuery:r.default.func,setSearchedNetworks:r.default.func};var w=b;a.default=w}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-list-item\\networks-list-item.js"}],[4213,{"./networks-list":4214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./networks-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-list\\index.js"}],[4214,{"../../../../components/ui/typography":3871,"../../../../helpers/constants/design-system":3902,"../../../../hooks/useI18nContext":3961,"../custom-content-search":4207,"../networks-list-item":4211,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=d(e("prop-types")),s=d(e("classnames")),o=e("../../../../hooks/useI18nContext"),i=d(e("../custom-content-search")),l=d(e("../../../../components/ui/typography")),c=e("../../../../helpers/constants/design-system"),u=d(e("../networks-list-item"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const p=({networkIsSelected:e,networksToRender:t,networkDefaultedToProvider:a,selectedRpcUrl:r})=>{const d=(0,o.useI18nContext)(),[f,p]=(0,n.useState)([]),[m,g]=(0,n.useState)(""),h=0===f.length&&""===m?t:f,_=h.filter((e=>!e.isATestNetwork)),E=h.filter((e=>e.isATestNetwork));return n.default.createElement("div",{className:(0,s.default)("networks-tab__networks-list",{"networks-tab__networks-list--selection":e&&!a})},n.default.createElement(i.default,{onSearch:({searchQuery:e="",results:t=[]})=>{p(t),g(e)},error:0===h.length?d("settingsSearchMatchingNotFound"):null,networksList:t,searchQueryInput:m}),_.map(((t,a)=>n.default.createElement(u.default,{key:`settings-network-list:${t.rpcUrl}`,network:t,networkIsSelected:e,selectedRpcUrl:r,setSearchQuery:g,setSearchedNetworks:p}))),""===m&&n.default.createElement(l.default,{variant:c.TYPOGRAPHY.H6,marginTop:4,color:c.COLORS.TEXT_ALTERNATIVE,className:"networks-tab__networks-list__label"},d("testNetworks")),E.map(((t,a)=>n.default.createElement(u.default,{key:`settings-network-list:${t.rpcUrl}`,network:t,networkIsSelected:e,selectedRpcUrl:r,setSearchQuery:g,setSearchedNetworks:p}))))};p.propTypes={networkDefaultedToProvider:r.default.bool,networkIsSelected:r.default.bool,networksToRender:r.default.arrayOf(r.default.object).isRequired,selectedRpcUrl:r.default.string};var m=p;a.default=m}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-list\\networks-list.js"}],[4215,{"./networks-tab-content":4216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./networks-tab-content"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-tab-content\\index.js"}],[4216,{"../../../../helpers/constants/routes":3906,"../../../../selectors":4306,"../networks-form":4209,"../networks-list":4213,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=d(e("react")),r=d(e("prop-types")),s=e("react-redux"),o=e("react-router-dom"),i=d(e("../networks-form")),l=d(e("../networks-list")),c=e("../../../../selectors"),u=e("../../../../helpers/constants/routes");function d(e){return e&&e.__esModule?e:{default:e}}const f=({networkDefaultedToProvider:e,networkIsSelected:t,networksToRender:a,selectedNetwork:r,shouldRenderNetworkForm:d})=>{const f=(0,s.useSelector)(c.getProvider),p=(0,o.useHistory)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.default,{networkDefaultedToProvider:e,networkIsSelected:t,networksToRender:a,selectedRpcUrl:r.rpcUrl}),d?n.default.createElement(i.default,{isCurrentRpcTarget:f.rpcUrl===r.rpcUrl,networksToRender:a,selectedNetwork:r,submitCallback:()=>p.push(u.DEFAULT_ROUTE),cancelCallback:()=>p.push(u.NETWORKS_ROUTE)}):null)};f.propTypes={networkDefaultedToProvider:r.default.bool,networkIsSelected:r.default.bool,networksToRender:r.default.arrayOf(r.default.object).isRequired,selectedNetwork:r.default.object,shouldRenderNetworkForm:r.default.bool.isRequired};var p=f;a.default=p}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-tab-content\\networks-tab-content.js"}],[4217,{"./networks-tab-subheader":4218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./networks-tab-subheader"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-tab-subheader\\index.js"}],[4218,{"../../../../components/ui/button":3713,"../../../../helpers/constants/routes":3906,"../../../../hooks/useI18nContext":3961,"prop-types":2833,react:3032,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=c(e("react")),r=c(e("prop-types")),s=e("react-router-dom"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/routes"),l=c(e("../../../../components/ui/button"));function c(e){return e&&e.__esModule?e:{default:e}}const u=({addNewNetwork:e})=>{const t=(0,o.useI18nContext)(),a=(0,s.useHistory)();return e?n.default.createElement("div",{className:"networks-tab__subheader"},n.default.createElement("span",{className:"networks-tab__sub-header-text"},t("networks")),n.default.createElement("span",{className:"networks-tab__sub-header-text"},"  >  "),n.default.createElement("div",{className:"networks-tab__sub-header-text"},t("addANetwork")),n.default.createElement("span",null,"  >  "),n.default.createElement("div",{className:"networks-tab__subheader--break"},t("addANetworkManually"))):n.default.createElement("div",{className:"settings-page__sub-header"},n.default.createElement("span",{className:"settings-page__sub-header-text"},t("networks")),n.default.createElement("div",{className:"networks-tab__add-network-header-button-wrapper"},n.default.createElement(l.default,{type:"primary",onClick:e=>{e.preventDefault(),a.push(i.ADD_POPULAR_CUSTOM_NETWORK)}},t("addANetwork"))))};u.propTypes={addNewNetwork:r.default.bool.isRequired};var d=u;a.default=d}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-tab-subheader\\networks-tab-subheader.js"}],[4219,{"../../../../shared/constants/network":3264},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultNetworksData=void 0;var n=e("../../../../shared/constants/network");const r=[{labelKey:n.NETWORK_TYPES.MAINNET,iconColor:"#29B6AF",providerType:n.NETWORK_TYPES.MAINNET,rpcUrl:(0,n.getRpcUrl)({network:n.NETWORK_TYPES.MAINNET,excludeProjectId:!0}),chainId:n.CHAIN_IDS.MAINNET,ticker:n.CURRENCY_SYMBOLS.ETH,blockExplorerUrl:"https://etherscan.io"},{labelKey:n.NETWORK_TYPES.GOERLI,iconColor:"#3099f2",providerType:n.NETWORK_TYPES.GOERLI,rpcUrl:(0,n.getRpcUrl)({network:n.NETWORK_TYPES.GOERLI,excludeProjectId:!0}),chainId:n.CHAIN_IDS.GOERLI,ticker:n.TEST_NETWORK_TICKER_MAP[n.NETWORK_TYPES.GOERLI],blockExplorerUrl:"https://goerli.etherscan.io"},{labelKey:n.NETWORK_TYPES.SEPOLIA,iconColor:"#CFB5F0",providerType:n.NETWORK_TYPES.SEPOLIA,rpcUrl:(0,n.getRpcUrl)({network:n.NETWORK_TYPES.SEPOLIA,excludeProjectId:!0}),chainId:n.CHAIN_IDS.SEPOLIA,ticker:n.TEST_NETWORK_TICKER_MAP[n.NETWORK_TYPES.SEPOLIA],blockExplorerUrl:"https://sepolia.etherscan.io"}];a.defaultNetworksData=r}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-tab.constants.js"}],[4220,{"../../../../app/scripts/lib/util":87,"../../../../shared/constants/app":3258,"../../../../shared/constants/network":3264,"../../../components/ui/button":3713,"../../../helpers/constants/routes":3906,"../../../hooks/useI18nContext":3961,"../../../selectors":4306,"../../../store/actions":4313,"./networks-form":4209,"./networks-tab-content":4215,"./networks-tab-subheader":4217,"./networks-tab.constants":4219,classnames:1775,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=T(e("prop-types")),s=T(e("classnames")),o=e("react-router-dom"),i=e("react-redux"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),d=T(e("../../../components/ui/button")),f=e("../../../../app/scripts/lib/util"),p=e("../../../../shared/constants/app"),m=e("../../../selectors"),g=e("../../../../shared/constants/network"),h=e("./networks-tab.constants"),_=T(e("./networks-tab-content")),E=T(e("./networks-form")),v=T(e("./networks-tab-subheader"));function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const w=h.defaultNetworksData.map((e=>({...e,viewOnly:!0,isATestNetwork:g.TEST_CHAINS.includes(e.chainId)}))),y=({addNewNetwork:e})=>{const t=(0,l.useI18nContext)(),a=(0,i.useDispatch)(),{pathname:r}=(0,o.useLocation)(),h=(0,o.useHistory)(),T=(0,f.getEnvironmentType)()===p.ENVIRONMENT_TYPE_FULLSCREEN,b=T||Boolean(r.match(c.NETWORKS_FORM_ROUTE))||"blockExplorerUrl"===window.location.hash.split("#")[2],y=(0,i.useSelector)(m.getFrequentRpcListDetail),k=(0,i.useSelector)(m.getProvider),S=(0,i.useSelector)(m.getNetworksTabSelectedRpcUrl),C=y.map((e=>{var t;return{label:e.nickname,iconColor:"var(--color-icon-alternative)",providerType:g.NETWORK_TYPES.RPC,rpcUrl:e.rpcUrl,chainId:e.chainId,ticker:e.ticker,blockExplorerUrl:(null===(t=e.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)||"",isATestNetwork:g.TEST_CHAINS.includes(e.chainId)}})),N=[...w,...C];let O=N.find((e=>e.rpcUrl===S))||{};const R=Boolean(O.rpcUrl);let P=!1;return R||(O=N.find((e=>e.rpcUrl===k.rpcUrl||e.providerType!==g.NETWORK_TYPES.RPC&&e.providerType===k.type))||{},P=!0),(0,n.useEffect)((()=>()=>{a((0,u.setSelectedSettingsRpcUrl)(""))}),[a]),n.default.createElement("div",{className:"networks-tab__body"},T?n.default.createElement(v.default,{addNewNetwork:e}):null,n.default.createElement("div",{className:(0,s.default)("networks-tab__content",{"networks-tab__content--with-networks-list-popup-footer":!T&&!b})},e?n.default.createElement(E.default,{networksToRender:N,addNewNetwork:e,submitCallback:()=>h.push(c.DEFAULT_ROUTE),cancelCallback:()=>h.push(c.NETWORKS_ROUTE)}):n.default.createElement(n.default.Fragment,null,n.default.createElement(_.default,{networkDefaultedToProvider:P,networkIsSelected:R,networksToRender:N,providerUrl:k.rpcUrl,selectedNetwork:O,shouldRenderNetworkForm:b}),T||b?null:n.default.createElement("div",{className:"networks-tab__networks-list-popup-footer"},n.default.createElement(d.default,{type:"primary",onClick:()=>{T?h.push(c.ADD_POPULAR_CUSTOM_NETWORK):global.platform.openExtensionInBrowser(c.ADD_POPULAR_CUSTOM_NETWORK)}},t("addNetwork"))))))};y.propTypes={addNewNetwork:r.default.bool};var k=y;a.default=k}}},{package:"$root$",file:"ui\\pages\\settings\\networks-tab\\networks-tab.js"}],[4221,{"./security-tab.container":4223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./security-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\security-tab\\index.js"}],[4222,{"../../../../app/scripts/lib/util":87,"../../../../shared/constants/app":3258,"../../../../shared/constants/metametrics":3263,"../../../../shared/lib/ui-utils":3280,"../../../components/ui/button":3713,"../../../components/ui/text-field":3857,"../../../components/ui/toggle-button":3860,"../../../helpers/constants/routes":3906,"../../../helpers/utils/settings-search":3937,lodash:2730,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=g(e("prop-types")),s=e("lodash"),o=g(e("../../../components/ui/toggle-button")),i=g(e("../../../components/ui/text-field")),l=e("../../../helpers/constants/routes"),c=g(e("../../../components/ui/button")),u=e("../../../helpers/utils/settings-search"),d=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/lib/ui-utils"),p=e("../../../../shared/constants/app"),m=e("../../../../app/scripts/lib/util");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function _(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class E extends n.PureComponent{constructor(...e){super(...e),_(this,"state",{ipfsGateway:this.props.ipfsGateway,ipfsGatewayError:""}),_(this,"settingsRefCounter",0),_(this,"settingsRefs",Array((0,u.getNumberOfSettingsInSection)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map((()=>n.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,u.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,u.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs)}toggleSetting(e,t,a,n){this.context.trackEvent({category:d.EVENT.CATEGORIES.SETTINGS,event:t,properties:{action:a,legacy_event:!0}}),n(!e)}renderSeedWords(){const{t:e}=this.context,{history:t}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("revealSeedWords"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"reveal-seed-words",type:"danger",large:!0,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:d.EVENT.CATEGORIES.SETTINGS,event:d.EVENT_NAMES.KEY_EXPORT_SELECTED,properties:{key_type:d.EVENT.KEY_TYPES.SRP,location:"Settings"}}),t.push(l.REVEAL_SEED_ROUTE)}},e("revealSeedWords")))))}renderIncomingTransactionsOptIn(){const{t:e}=this.context,{showIncomingTransactions:t,setShowIncomingTransactionsFeatureFlag:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("showIncomingTransactions")),n.default.createElement("div",{className:"settings-page__content-description"},e("showIncomingTransactionsDescription",[n.default.createElement("a",{href:f.ETHERSCAN_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"etherscan-privacy-link"},e("etherscan")),n.default.createElement("a",{href:f.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"ic-consensys-privacy-link"},e("privacyMsg"))]))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("usePhishingDetection")),n.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderMetaMetricsOptIn(){const{t:e}=this.context,{participateInMetaMetrics:t,setParticipateInMetaMetrics:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("participateInMetaMetrics")),n.default.createElement("div",{className:"settings-page__content-description"},n.default.createElement("span",null,e("participateInMetaMetricsDescription")))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderChooseYourNetworkButton(){const{t:e}=this.context;return n.default.createElement("div",{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("chooseYourNetwork")),n.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[n.default.createElement("a",{href:f.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg"))]))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,m.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(l.ADD_POPULAR_CUSTOM_NETWORK):this.props.history.push(l.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork")))))}renderIpfsGatewayControl(){const{t:e}=this.context,{ipfsGatewayError:t}=this.state,a=e=>{const t=new URL((0,m.addUrlProtocolPrefix)(e)),{host:a}=t;this.props.setIpfsGateway(a)},r=t=>{this.setState((()=>{let n="";try{const e=new URL((0,m.addUrlProtocolPrefix)(t));if(!e.host)throw new Error;if("gateway.ipfs.io"===e.host)throw new Error("Forbidden gateway")}catch(t){n="Forbidden gateway"===t.message?e("forbiddenIpfsGateway"):e("invalidIpfsGateway")}return a(t),{ipfsGateway:t,ipfsGatewayError:n}}))};return n.default.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("addCustomIPFSGateway")),n.default.createElement("div",{className:"settings-page__content-description"},e("addCustomIPFSGatewayDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(i.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>r(e.target.value),error:t,fullWidth:!0,margin:"dense"}))))}renderAutoDectectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("autoDetectTokens")),n.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[n.default.createElement("a",{href:f.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,s.startCase)(e("learnMore")))]))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:t,onToggle:e=>{this.toggleSetting(e,d.EVENT_NAMES.KEY_AUTO_DETECT_TOKENS,d.EVENT_NAMES.KEY_AUTO_DETECT_TOKENS,a)},offLabel:e("off"),onLabel:e("on")}))))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[8],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("useMultiAccountBalanceChecker")),n.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:t,onToggle:e=>{this.toggleSetting(e,d.EVENT_NAMES.KEY_BATCH_ACCOUNT_BALANCE_REQUESTS,d.EVENT_NAMES.KEY_BATCH_ACCOUNT_BALANCE_REQUESTS,a)},offLabel:e("off"),onLabel:e("on")}))))}renderCollectibleDetectionToggle(){return null}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[9],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("currencyRateCheckToggle")),n.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[n.default.createElement("a",{key:"coingecko_link",href:f.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),n.default.createElement("a",{key:"cryptocompare_link",href:f.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),n.default.createElement("a",{key:"privacy_policy_link",href:f.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}render(){const{warning:e}=this.props;return n.default.createElement("div",{className:"settings-page__body"},e?n.default.createElement("div",{className:"settings-tab__error"},e):null,n.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),n.default.createElement("div",{className:"settings-page__content-padded"},this.renderSeedWords()),n.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),n.default.createElement("div",null,n.default.createElement("span",{className:"settings-page__security-tab-sub-header"},"Alerts")),n.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),n.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),n.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderIncomingTransactionsOptIn()),n.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("networkProvider")),n.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderIpfsGatewayControl()),n.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenNftAutoDetection")),n.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDectectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle(),this.renderCollectibleDetectionToggle()),n.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),n.default.createElement("div",{className:"settings-page__content-padded"},this.renderMetaMetricsOptIn()))}}a.default=E,_(E,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),_(E,"propTypes",{warning:r.default.string,history:r.default.object,participateInMetaMetrics:r.default.bool.isRequired,setParticipateInMetaMetrics:r.default.func.isRequired,showIncomingTransactions:r.default.bool.isRequired,setShowIncomingTransactionsFeatureFlag:r.default.func.isRequired,setUsePhishDetect:r.default.func.isRequired,usePhishDetect:r.default.bool.isRequired,useTokenDetection:r.default.bool.isRequired,setUseTokenDetection:r.default.func.isRequired,setIpfsGateway:r.default.func.isRequired,ipfsGateway:r.default.string.isRequired,useMultiAccountBalanceChecker:r.default.bool.isRequired,setUseMultiAccountBalanceChecker:r.default.func.isRequired,useCurrencyRateCheck:r.default.bool.isRequired,setUseCurrencyRateCheck:r.default.func.isRequired,useNftDetection:r.default.bool,setUseNftDetection:r.default.func,setOpenSeaEnabled:r.default.func,openSeaEnabled:r.default.bool})}}},{package:"$root$",file:"ui\\pages\\settings\\security-tab\\security-tab.component.js"}],[4223,{"../../../selectors":4306,"../../../store/actions":4313,"./security-tab.component":4222,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=(n=e("./security-tab.component"))&&n.__esModule?n:{default:n};var u=(0,r.compose)(o.withRouter,(0,s.connect)((e=>{const{appState:{warning:t},metamask:a}=e,{featureFlags:{showIncomingTransactions:n}={},participateInMetaMetrics:r,usePhishDetect:s,useTokenDetection:o,ipfsGateway:i,useMultiAccountBalanceChecker:c,useCurrencyRateCheck:u}=a;return{warning:t,showIncomingTransactions:n,participateInMetaMetrics:r,usePhishDetect:s,useTokenDetection:o,ipfsGateway:i,useMultiAccountBalanceChecker:c,useCurrencyRateCheck:u,useNftDetection:(0,l.getUseNftDetection)(e),openSeaEnabled:(0,l.getOpenSeaEnabled)(e)}}),(e=>({setParticipateInMetaMetrics:t=>e((0,i.setParticipateInMetaMetrics)(t)),setShowIncomingTransactionsFeatureFlag:t=>e((0,i.setFeatureFlag)("showIncomingTransactions",t)),setUsePhishDetect:t=>e((0,i.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,i.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,i.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,i.setIpfsGateway)(t)),setUseMultiAccountBalanceChecker:t=>e((0,i.setUseMultiAccountBalanceChecker)(t)),setUseNftDetection:t=>e((0,i.setUseNftDetection)(t)),setOpenSeaEnabled:t=>e((0,i.setOpenSeaEnabled)(t))}))))(c.default);a.default=u}}},{package:"$root$",file:"ui\\pages\\settings\\security-tab\\security-tab.container.js"}],[4224,{"./settings-search-list":4225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){var n;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=((n=e("./settings-search-list"))&&n.__esModule?n:{default:n}).default;a.default=r}}},{package:"$root$",file:"ui\\pages\\settings\\settings-search-list\\index.js"}],[4225,{"../../../components/ui/icon/icon-caret-right":3759,"../../../contexts/i18n":3879,"../../../helpers/utils/settings-search":3937,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=d;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=c(e("prop-types")),s=c(e("classnames")),o=e("../../../helpers/utils/settings-search"),i=e("../../../contexts/i18n"),l=c(e("../../../components/ui/icon/icon-caret-right"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function d({results:e,onClickSetting:t}){const a=(0,n.useContext)(i.I18nContext);return(0,n.useEffect)(o.highlightSearchedText,[e]),n.default.createElement("div",{className:"settings-page__header__search__list"},e.slice(0,5).map((e=>{const{icon:r,tabMessage:o,sectionMessage:i,route:c}=e;return Boolean(r||o||i)&&n.default.createElement("div",{key:`settings_${c}`},n.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>t(e)},n.default.createElement("i",{className:(0,s.default)("settings-page__header__search__list__item__icon",r)}),n.default.createElement("span",{id:`menu-tab_${c}`,className:(0,s.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":o(a)===a("securityAndPrivacy")})},o(a)),n.default.createElement(l.default,{size:16,className:"settings-page__header__search__list__item__caret"}),n.default.createElement("span",{id:`menu-section_${c}`,className:(0,s.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":o(a)===a("securityAndPrivacy")||o(a)===a("alerts")})},i(a))))})),0===e.length&&n.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},n.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},a("settingsSearchMatchingNotFound"))),n.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},n.default.createElement("span",{className:"settings-page__header__search__list__item__request"},a("missingSetting")),n.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},a("missingSettingRequest"))))}d.propTypes={results:r.default.array,onClickSetting:r.default.func}}}},{package:"$root$",file:"ui\\pages\\settings\\settings-search-list\\settings-search-list.js"}],[4226,{"./settings-search":4227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){var n;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=((n=e("./settings-search"))&&n.__esModule?n:{default:n}).default;a.default=r}}},{package:"$root$",file:"ui\\pages\\settings\\settings-search\\index.js"}],[4227,{"../../../../shared/modules/string-utils":3295,"../../../components/ui/icon/search-icon":3777,"../../../components/ui/text-field":3857,"../../../contexts/i18n":3879,"@material-ui/core/InputAdornment":627,"fuse.js":2272,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=d(e("prop-types")),s=d(e("fuse.js")),o=d(e("@material-ui/core/InputAdornment")),i=d(e("../../../components/ui/text-field")),l=e("../../../contexts/i18n"),c=d(e("../../../components/ui/icon/search-icon")),u=e("../../../../shared/modules/string-utils");function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p({onSearch:e,error:t,settingsRoutesList:a}){const r=(0,n.useContext)(l.I18nContext),[d,f]=(0,n.useState)(""),[p,m]=(0,n.useState)("var(--color-icon-muted)"),g=Object.values(a),h=new s.default(g,{shouldSort:!0,threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:(e,t)=>e[t](r)}),_=t=>{const a=t.replace(/[^A-Za-z0-9\s&_]/gu,"").trimStart();f(a),m(""===a?"var(--color-icon-muted)":"var(--color-icon-default)");const n=h.search(a),r=[...g.filter((e=>e.tabMessage&&a&&(0,u.isEqualCaseInsensitive)(e.tab,a))),...n];e({searchQuery:a,results:r})};return n.default.createElement(i.default,{id:"search-settings",placeholder:r("searchSettings"),type:"text",value:d,onChange:e=>_(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:n.default.createElement(o.default,{position:"start",style:{marginRight:"12px"}},n.default.createElement(c.default,{color:p})),endAdornment:n.default.createElement(n.default.Fragment,null,d&&n.default.createElement(o.default,{className:"imageclosectn",position:"end",onClick:()=>_(""),style:{cursor:"pointer"}},n.default.createElement("i",{className:"fa fa-times",style:{color:"var(--color-icon-default)"}})))})}p.propTypes={onSearch:r.default.func,error:r.default.string,settingsRoutesList:r.default.array}}}},{package:"$root$",file:"ui\\pages\\settings\\settings-search\\settings-search.js"}],[4228,{"./settings-tab.container":4231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./settings-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\settings\\settings-tab\\index.js"}],[4229,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/metametrics":3263,"../../../components/ui/dropdown":3737,"../../../components/ui/identicon/blockieIdenticon":3784,"../../../components/ui/jazzicon":3791,"../../../components/ui/toggle-button":3860,"../../../components/ui/typography":3871,"../../../helpers/constants/available-conversions.json":3899,"../../../helpers/constants/design-system":3902,"../../../helpers/utils/settings-search":3937,"./settings-tab.constant":4230,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=_(e("prop-types")),s=_(e("classnames")),o=_(e("../../../helpers/constants/available-conversions.json")),i=e("../../../helpers/constants/design-system"),l=_(e("../../../components/ui/dropdown")),c=_(e("../../../components/ui/toggle-button")),u=_(e("../../../../app/_locales/index.json")),d=_(e("../../../components/ui/jazzicon")),f=_(e("../../../components/ui/identicon/blockieIdenticon")),p=_(e("../../../components/ui/typography")),m=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/utils/settings-search"),h=e("./settings-tab.constant");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function v(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const T=o.default.sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))).map((({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e}))),b=u.default.map((e=>({name:`${e.name}`,value:e.code})));class w extends n.PureComponent{constructor(...e){super(...e),v(this,"settingsRefs",Array((0,g.getNumberOfSettingsInSection)(this.context.t,this.context.t("general"))).fill(undefined).map((()=>n.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,g.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,g.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:a,lastFetchedConversionDate:r}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("currencyConversion")),n.default.createElement("span",{className:"settings-page__content-description"},r?e("updatedWithDate",[new Date(1e3*r).toString()]):e("noConversionDateAvailable"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(l.default,{"data-testid":"currency-select",id:"select-currency",options:T,selectedOption:t,onChange:e=>a(e)}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:a}=this.props,r=u.default.find((e=>e.code===a)),s=r?r.name:"";return n.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",{className:"settings-page__content-label"},e("currentLanguage")),n.default.createElement("span",{className:"settings-page__content-description"},s)),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(l.default,{"data-testid":"locale-select",id:"select-locale",options:b,selectedOption:a,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:a}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[5],"data-testid":"hide-zero-balance-tokens",className:"settings-page__content-row",id:"toggle-zero-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("hideZeroBalanceTokens"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,setUseBlockie:a,selectedAddress:r,tokenList:o}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row",id:"blockie-optin"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(p.default,{variant:i.TYPOGRAPHY.H5,color:i.COLORS.TEXT_DEFAULT},e("accountIdenticon")),n.default.createElement("span",{className:"settings-page__content-item__description"},e("jazzAndBlockies")),n.default.createElement("div",{className:"settings-page__content-item__identicon"},n.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>a(!1),className:"settings-page__content-item__identicon__item"},n.default.createElement("div",{className:(0,s.default)("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":!t})},n.default.createElement(d.default,{id:"jazzicon",address:r,diameter:32,tokenList:o,style:{display:"block",borderRadius:"16px",width:"32px",height:"32px"}})),n.default.createElement(p.default,{color:i.COLORS.TEXT_DEFAULT,variant:i.TYPOGRAPHY.H7,marginTop:0,marginRight:12,marginBottom:0,marginLeft:3},e("jazzicons"))),n.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>a(!0),className:"settings-page__content-item__identicon__item"},n.default.createElement("div",{className:(0,s.default)("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":t})},n.default.createElement(f.default,{id:"blockies",address:r,diameter:32,borderRadius:"50%"})),n.default.createElement(p.default,{color:i.COLORS.TEXT_DEFAULT,variant:i.TYPOGRAPHY.H7,marginTop:3,marginRight:0,marginBottom:3,marginLeft:3},e("blockies"))))))}renderUsePrimaryCurrencyOptions(){const{t:e}=this.context,{nativeCurrency:t,setUseNativeCurrencyAsPrimaryCurrencyPreference:a,useNativeCurrencyAsPrimaryCurrency:r}=this.props;return n.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("primaryCurrencySetting")),n.default.createElement("div",{className:"settings-page__content-description"},e("primaryCurrencySettingDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement("div",{className:"settings-tab__radio-buttons"},n.default.createElement("div",{className:"settings-tab__radio-button"},n.default.createElement("input",{type:"radio","data-testid":"toggle-native-currency",id:"native-primary-currency",onChange:()=>a(!0),checked:Boolean(r)}),n.default.createElement("label",{htmlFor:"native-primary-currency",className:"settings-tab__radio-label"},t)),n.default.createElement("div",{className:"settings-tab__radio-button"},n.default.createElement("input",{type:"radio","data-testid":"toggle-fiat-currency",id:"fiat-primary-currency",onChange:()=>a(!1),checked:!r}),n.default.createElement("label",{htmlFor:"fiat-primary-currency",className:"settings-tab__radio-label"},e("fiat")))))))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:a}=this.props,r=[{name:e("lightTheme"),value:h.THEME_TYPE.LIGHT},{name:e("darkTheme"),value:h.THEME_TYPE.DARK},{name:e("osTheme"),value:h.THEME_TYPE.OS}];return n.default.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,this.context.t("theme")),n.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(l.default,{id:"select-theme",options:r,selectedOption:t,onChange:e=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.SETTINGS,event:"Theme Changed",properties:{theme_selected:e}}),a(e)}}))))}render(){const{warning:e}=this.props;return n.default.createElement("div",{className:"settings-page__body"},e?n.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderCurrentConversion(),this.renderUsePrimaryCurrencyOptions(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}a.default=w,v(w,"contextTypes",{t:r.default.func,metricsEvent:r.default.func,trackEvent:r.default.func}),v(w,"propTypes",{setUseBlockie:r.default.func,setCurrentCurrency:r.default.func,warning:r.default.string,updateCurrentLocale:r.default.func,currentLocale:r.default.string,useBlockie:r.default.bool,currentCurrency:r.default.string,nativeCurrency:r.default.string,useNativeCurrencyAsPrimaryCurrency:r.default.bool,setUseNativeCurrencyAsPrimaryCurrencyPreference:r.default.func,hideZeroBalanceTokens:r.default.bool,setHideZeroBalanceTokens:r.default.func,lastFetchedConversionDate:r.default.number,selectedAddress:r.default.string,tokenList:r.default.object,theme:r.default.string,setTheme:r.default.func})}}},{package:"$root$",file:"ui\\pages\\settings\\settings-tab\\settings-tab.component.js"}],[4231,{"../../../selectors":4306,"../../../store/actions":4313,"./settings-tab.component":4229,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("react-redux"),s=e("../../../store/actions"),o=e("../../../selectors"),i=(n=e("./settings-tab.component"))&&n.__esModule?n:{default:n};var l=(0,r.connect)(((e,t)=>{const{appState:{warning:a},metamask:n}=e,{currentCurrency:r,nativeCurrency:s,useBlockie:i,currentLocale:l,selectedAddress:c}=n,{useNativeCurrencyAsPrimaryCurrency:u,hideZeroBalanceTokens:d}=(0,o.getPreferences)(e),{lastFetchedConversionDate:f}=t;return{warning:a,currentLocale:l,currentCurrency:r,nativeCurrency:s,useBlockie:i,useNativeCurrencyAsPrimaryCurrency:u,hideZeroBalanceTokens:d,lastFetchedConversionDate:f,selectedAddress:c,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}}),(e=>({setCurrentCurrency:t=>e((0,s.setCurrentCurrency)(t)),setUseBlockie:t=>e((0,s.setUseBlockie)(t)),updateCurrentLocale:t=>e((0,s.updateCurrentLocale)(t)),setUseNativeCurrencyAsPrimaryCurrencyPreference:t=>e((0,s.setUseNativeCurrencyAsPrimaryCurrencyPreference)(t)),setParticipateInMetaMetrics:t=>e((0,s.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,s.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,s.setTheme)(t))})))(i.default);a.default=l}}},{package:"$root$",file:"ui\\pages\\settings\\settings-tab\\settings-tab.container.js"}],[4232,{"../../components/app/add-network/add-network":3305,"../../components/app/tab-bar":3570,"../../components/ui/icon/icon-caret-left":3758,"../../helpers/constants/routes":3906,"../../helpers/utils/settings-search":3937,"./advanced-tab":4185,"./alerts-tab":4187,"./contact-list-tab":4196,"./experimental-tab":4202,"./info-tab":4204,"./networks-tab":4208,"./security-tab":4221,"./settings-search":4226,"./settings-search-list":4224,"./settings-tab":4228,classnames:1775,"prop-types":2833,react:3032,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=w(e("prop-types")),s=e("react-router-dom"),o=w(e("classnames")),i=w(e("../../components/app/tab-bar")),l=w(e("../../components/ui/icon/icon-caret-left")),c=e("../../helpers/constants/routes"),u=e("../../helpers/utils/settings-search"),d=w(e("../../components/app/add-network/add-network")),f=w(e("./settings-tab")),p=w(e("./alerts-tab")),m=w(e("./networks-tab")),g=w(e("./advanced-tab")),h=w(e("./info-tab")),_=w(e("./security-tab")),E=w(e("./contact-list-tab")),v=w(e("./experimental-tab")),T=w(e("./settings-search")),b=w(e("./settings-search-list"));function w(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k.apply(this,arguments)}function S(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(a!==undefined){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class C extends n.PureComponent{constructor(...e){super(...e),S(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:""})}componentDidMount(){this.handleConversionDate()}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{history:t}=this.props;t.push(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{history:e,backRoute:t,currentPath:a,mostRecentOverviewPage:r,addNewNetwork:s,isSnapViewPage:i}=this.props,{searchResults:d,isSearchList:f,searchText:p}=this.state;return n.default.createElement("div",{className:(0,o.default)("main-container settings-page",{"settings-page--selected":a!==c.SETTINGS_ROUTE})},n.default.createElement("div",{className:"settings-page__header"},n.default.createElement("div",{className:"settings-page__header__title-container"},a!==c.SETTINGS_ROUTE&&n.default.createElement(l.default,{className:"settings-page__back-button",color:"var(--color-icon-default)",size:32,onClick:()=>e.push(t)}),this.renderTitle(),n.default.createElement("div",{className:"settings-page__header__title-container__close-button",onClick:()=>{s?e.push(c.NETWORKS_ROUTE):e.push(r)}})),n.default.createElement("div",{className:"settings-page__header__search"},n.default.createElement(T.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,u.getSettingsRoutes)()}),f&&p.length>=3&&n.default.createElement(b.default,{results:d,onClickSetting:e=>this.handleClickSetting(e)}))),n.default.createElement("div",{className:"settings-page__content"},n.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),n.default.createElement("div",{className:"settings-page__content__modules"},i?null:this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:a,addressName:r,isSnapViewPage:s}=this.props;let o;return o=e(s?"snaps":t&&r?"details":a&&t?a:"settings"),n.default.createElement("div",{className:"settings-page__header__title-container__title"},o)}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:a,isAddressEntryPage:r,pathnameI18nKey:s,addressName:i,initialBreadCrumbRoute:l,breadCrumbTextKey:u,history:d,initialBreadCrumbKey:f}=this.props;let p;return p=e(a&&r?"settings":r?"contacts":f||(s||"general")),!t.startsWith(c.NETWORKS_ROUTE)&&n.default.createElement("div",{className:"settings-page__subheader"},n.default.createElement("div",{className:(0,o.default)({"settings-page__subheader--link":l}),onClick:()=>l&&d.push(l)},p),u&&n.default.createElement("div",{className:"settings-page__subheader--break"},n.default.createElement("span",null," > "),e(u)),r&&n.default.createElement("div",{className:"settings-page__subheader--break"},n.default.createElement("span",null," > "),i))}renderTabs(){const{history:e,currentPath:t}=this.props,{t:a}=this.context;return n.default.createElement(i.default,{tabs:[{content:a("general"),icon:n.default.createElement("i",{className:"fa fa-cog"}),key:c.GENERAL_ROUTE},{content:a("advanced"),icon:n.default.createElement("i",{className:"fas fa-sliders-h"}),key:c.ADVANCED_ROUTE},{content:a("contacts"),icon:n.default.createElement("i",{className:"fa fa-address-book"}),key:c.CONTACT_LIST_ROUTE},{content:a("securityAndPrivacy"),icon:n.default.createElement("i",{className:"fa fa-lock"}),key:c.SECURITY_ROUTE},{content:a("alerts"),icon:n.default.createElement("i",{className:"fa fa-bell"}),key:c.ALERTS_ROUTE},{content:a("networks"),icon:n.default.createElement("i",{className:"fa fa-plug"}),key:c.NETWORKS_ROUTE},{content:a("experimental"),icon:n.default.createElement("i",{className:"fa fa-flask"}),key:c.EXPERIMENTAL_ROUTE},{content:a("about"),icon:n.default.createElement("i",{className:"fa fa-info-circle"}),key:c.ABOUT_US_ROUTE}],isActive:e=>e===c.GENERAL_ROUTE&&t===c.SETTINGS_ROUTE||(0,s.matchPath)(t,{exact:!0,path:e}),onSelect:t=>e.push(t)})}renderContent(){return n.default.createElement(s.Switch,null,n.default.createElement(s.Route,{exact:!0,path:c.GENERAL_ROUTE,render:e=>n.default.createElement(f.default,k({},e,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}),n.default.createElement(s.Route,{exact:!0,path:c.ABOUT_US_ROUTE,component:h.default}),n.default.createElement(s.Route,{exact:!0,path:c.ADVANCED_ROUTE,component:g.default}),n.default.createElement(s.Route,{exact:!0,path:c.ALERTS_ROUTE,component:p.default}),n.default.createElement(s.Route,{exact:!0,path:c.ADD_NETWORK_ROUTE,render:()=>n.default.createElement(m.default,{addNewNetwork:!0})}),n.default.createElement(s.Route,{exact:!0,path:c.NETWORKS_ROUTE,render:()=>n.default.createElement(m.default,{addNewNetwork:!1})}),n.default.createElement(s.Route,{exact:!0,path:c.ADD_POPULAR_CUSTOM_NETWORK,render:()=>n.default.createElement(d.default,null)}),n.default.createElement(s.Route,{exact:!0,path:c.SECURITY_ROUTE,component:_.default}),n.default.createElement(s.Route,{exact:!0,path:c.EXPERIMENTAL_ROUTE,component:v.default}),n.default.createElement(s.Route,{exact:!0,path:c.CONTACT_LIST_ROUTE,component:E.default}),n.default.createElement(s.Route,{exact:!0,path:c.CONTACT_ADD_ROUTE,component:E.default}),n.default.createElement(s.Route,{exact:!0,path:`${c.CONTACT_EDIT_ROUTE}/:id`,component:E.default}),n.default.createElement(s.Route,{exact:!0,path:`${c.CONTACT_VIEW_ROUTE}/:id`,component:E.default}),n.default.createElement(s.Route,{render:e=>n.default.createElement(f.default,k({},e,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}))}}S(C,"propTypes",{addNewNetwork:r.default.bool,addressName:r.default.string,backRoute:r.default.string,breadCrumbTextKey:r.default.string,conversionDate:r.default.number,currentPath:r.default.string,history:r.default.object,initialBreadCrumbKey:r.default.string,initialBreadCrumbRoute:r.default.string,isAddressEntryPage:r.default.bool,isPopup:r.default.bool,isSnapViewPage:r.default.bool,mostRecentOverviewPage:r.default.string.isRequired,pathnameI18nKey:r.default.string}),S(C,"contextTypes",{t:r.default.func});var N=C;a.default=N}}},{package:"$root$",file:"ui\\pages\\settings\\settings.component.js"}],[4233,{"../../../app/scripts/lib/util":87,"../../../shared/constants/app":3258,"../../../shared/modules/hexstring-utils":3288,"../../ducks/history/history":3891,"../../helpers/constants/routes":3906,"../../selectors":4306,"./settings.component":4232,"react-redux":2985,"react-router-dom":3005,redux:3049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e("redux"),s=e("react-redux"),o=e("react-router-dom"),i=e("../../selectors"),l=e("../../../shared/constants/app"),c=e("../../../app/scripts/lib/util"),u=e("../../ducks/history/history"),d=e("../../../shared/modules/hexstring-utils"),f=e("../../helpers/constants/routes"),p=(n=e("./settings.component"))&&n.__esModule?n:{default:n};const m={[f.ABOUT_US_ROUTE]:"about",[f.ADD_NETWORK_ROUTE]:"networks",[f.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[f.ADVANCED_ROUTE]:"advanced",[f.ALERTS_ROUTE]:"alerts",[f.CONTACT_ADD_ROUTE]:"newContact",[f.CONTACT_EDIT_ROUTE]:"editContact",[f.CONTACT_LIST_ROUTE]:"contacts",[f.CONTACT_VIEW_ROUTE]:"viewContact",[f.EXPERIMENTAL_ROUTE]:"experimental",[f.GENERAL_ROUTE]:"general",[f.NETWORKS_FORM_ROUTE]:"networks",[f.NETWORKS_ROUTE]:"networks",[f.SECURITY_ROUTE]:"securityAndPrivacy",[f.SNAPS_LIST_ROUTE]:"snaps",[f.SNAPS_VIEW_ROUTE]:"snaps"};var g=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{location:a}=t,{pathname:n}=a,{metamask:{conversionDate:r}}=e,s=n.match(/[^/]+$/u)[0],o=s.includes("0x"),p=Boolean(n.match(f.SNAPS_VIEW_ROUTE)),g=Boolean(n.match(f.CONTACT_ADD_ROUTE)),h=Boolean(n.match(f.CONTACT_EDIT_ROUTE)),_=Boolean(n.match(f.NETWORKS_FORM_ROUTE))||Boolean(n.match(f.ADD_NETWORK_ROUTE)),E=Boolean(n.match(f.ADD_NETWORK_ROUTE)),v=Boolean(n.match(f.ADD_POPULAR_CUSTOM_NETWORK)),T=(0,c.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP,b=m[n];let w=f.SETTINGS_ROUTE;h?w=`${f.CONTACT_VIEW_ROUTE}/${s}`:o||g?w=f.CONTACT_LIST_ROUTE:_?w=f.NETWORKS_ROUTE:p?w=f.SNAPS_LIST_ROUTE:v&&(w=f.NETWORKS_ROUTE);return{addNewNetwork:E,addressName:(0,i.getAddressBookEntryOrAccountName)(e,!(0,d.isBurnAddress)(s)&&(0,d.isValidHexAddress)(s,{mixedCaseUseChecksum:!0})?s:""),backRoute:w,conversionDate:r,currentPath:n,initialBreadCrumbKey:undefined,initialBreadCrumbRoute:undefined,isAddressEntryPage:o,isPopup:T,isSnapViewPage:p,mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),pathnameI18nKey:b}})))(p.default);a.default=g}}},{package:"$root$",file:"ui\\pages\\settings\\settings.container.js"}],[4234,{"../../../../shared/constants/metametrics":3263,"../../../components/ui/box":3709,"../../../components/ui/pulse-loader":3833,"../../../components/ui/typography":3871,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/swaps/swaps":3898,"../../../helpers/constants/design-system":3902,"../../../helpers/constants/routes":3906,"../../../selectors/selectors":4309,"../swaps-footer":4288,"./swap-step-icon":4236,"lodash/isEqual":2715,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.useContext)(i.I18nContext),t=(0,s.useHistory)(),a=(0,r.useDispatch)(),v=(0,r.useSelector)(l.getFetchParams,o.default),{destinationTokenInfo:T,sourceTokenInfo:b}=(null==v?void 0:v.metaData)||{},w=(0,r.useSelector)(l.getApproveTxParams,r.shallowEqual),y=(0,r.useSelector)(c.isHardwareWallet),k=(0,r.useSelector)(c.getHardwareWalletType),S=(0,r.useSelector)(l.getSmartTransactionsOptInStatus),C=(0,r.useSelector)(l.getSmartTransactionsEnabled),N=(0,r.useSelector)(l.getCurrentSmartTransactionsEnabled),O=Boolean(w),R=(0,n.useContext)(h.MetaMetricsContext);(0,n.useEffect)((()=>{R({event:"Awaiting Signature(s) on a HW wallet",category:_.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{needs_two_confirmations:O,token_from:null==b?void 0:b.symbol,token_from_amount:null==v?void 0:v.value,token_to:null==T?void 0:T.symbol,request_type:null!=v&&v.balanceError?"Quote":"Order",slippage:null==v?void 0:v.slippage,custom_slippage:2===(null==v?void 0:v.slippage),is_hardware_wallet:y,hardware_wallet_type:k,stx_enabled:C,current_stx_enabled:N,stx_user_opt_in:S}})}),[]);const P=e(O?"swapTwoTransactions":"swapConfirmWithHwWallet");return n.default.createElement("div",{className:"awaiting-signatures"},n.default.createElement(p.default,{paddingLeft:8,paddingRight:8,height:m.BLOCK_SIZES.FULL,justifyContent:m.JUSTIFY_CONTENT.CENTER,display:m.DISPLAY.FLEX,className:"awaiting-signatures__content"},n.default.createElement(p.default,{marginTop:3,marginBottom:4},n.default.createElement(d.default,null)),n.default.createElement(f.default,{color:m.COLORS.TEXT_DEFAULT,variant:m.TYPOGRAPHY.H3},P),O&&n.default.createElement(n.default.Fragment,null,n.default.createElement(f.default,{variant:m.TYPOGRAPHY.Paragraph,boxProps:{marginTop:2},fontWeight:m.FONT_WEIGHT.BOLD},e("swapToConfirmWithHwWallet")),n.default.createElement("ul",{className:"awaiting-signatures__steps"},n.default.createElement("li",null,n.default.createElement(E.default,{stepNumber:1}),e("swapAllowSwappingOf",[n.default.createElement(f.default,{as:"span",fontWeight:m.FONT_WEIGHT.BOLD,key:"allowToken"},null==T?void 0:T.symbol)])),n.default.createElement("li",null,n.default.createElement(E.default,{stepNumber:2}),e("swapFromTo",[n.default.createElement(f.default,{as:"span",fontWeight:m.FONT_WEIGHT.BOLD,key:"tokenFrom"},null==b?void 0:b.symbol),n.default.createElement(f.default,{as:"span",fontWeight:m.FONT_WEIGHT.BOLD,key:"tokenTo"},null==T?void 0:T.symbol)]))),n.default.createElement(f.default,{variant:m.TYPOGRAPHY.Paragraph},e("swapGasFeesSplit")))),n.default.createElement(g.default,{onSubmit:async()=>{await a((0,l.prepareToLeaveSwaps)()),t.push(u.DEFAULT_ROUTE),t.push(u.BUILD_QUOTE_ROUTE)},submitText:e("cancel"),hideCancel:!0}))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=v(e("lodash/isEqual")),i=e("../../../contexts/i18n"),l=e("../../../ducks/swaps/swaps"),c=e("../../../selectors/selectors"),u=e("../../../helpers/constants/routes"),d=v(e("../../../components/ui/pulse-loader")),f=v(e("../../../components/ui/typography")),p=v(e("../../../components/ui/box")),m=e("../../../helpers/constants/design-system"),g=v(e("../swaps-footer")),h=e("../../../contexts/metametrics"),_=e("../../../../shared/constants/metametrics"),E=v(e("./swap-step-icon"));function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-signatures\\awaiting-signatures.js"}],[4235,{"./awaiting-signatures":4234},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./awaiting-signatures"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-signatures\\index.js"}],[4236,{"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=o;var n=s(e("react")),r=s(e("prop-types"));function s(e){return e&&e.__esModule?e:{default:e}}function o({stepNumber:e=1}){switch(e){case 1:return n.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),n.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return n.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),n.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return undefined}}o.propTypes={stepNumber:r.default.number}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-signatures\\swap-step-icon.js"}],[4237,{"../../../../shared/constants/metametrics":3263,"../../../../shared/constants/swaps":3268,"../../../../shared/lib/ui-utils":3280,"../../../../shared/modules/swaps.utils":3296,"../../../components/ui/mascot":3811,"../../../components/ui/pulse-loader":3833,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/swaps/swaps":3898,"../../../helpers/constants/routes":3906,"../../../selectors":4306,"../../../store/actions":4313,"../create-new-swap":4248,"../swaps-footer":4288,"../swaps.util":4290,"../view-on-block-explorer":4291,"./quotes-timeout-icon":4239,"./swap-failure-icon":4240,"./swap-success-icon":4241,"@metamask/etherscan-link":1066,events:1740,"lodash/isEqual":2715,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=x;var n=P(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),s=e("react-redux"),o=P(e("prop-types")),i=e("react-router-dom"),l=P(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),p=e("../../../selectors"),m=e("../../../ducks/swaps/swaps"),g=P(e("../../../components/ui/mascot")),h=e("../../../../shared/constants/swaps"),_=e("../../../../shared/modules/swaps.utils"),E=P(e("../../../components/ui/pulse-loader")),v=e("../../../helpers/constants/routes"),T=e("../../../store/actions"),b=e("../swaps.util"),w=P(e("../swaps-footer")),y=P(e("../create-new-swap")),k=P(e("../view-on-block-explorer")),S=e("../../../../shared/lib/ui-utils"),C=P(e("./swap-failure-icon")),N=P(e("./swap-success-icon")),O=P(e("./quotes-timeout-icon"));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function P(e){return e&&e.__esModule?e:{default:e}}function x({swapComplete:e,errorKey:t,txHash:a,tokensReceived:o,submittingSwap:R,txId:P}){var x,I;const A=(0,r.useContext)(u.I18nContext),M=(0,r.useContext)(d.MetaMetricsContext),D=(0,i.useHistory)(),L=(0,s.useDispatch)(),j=(0,r.useRef)(new n.default),{swapMetaData:F}=(0,s.useSelector)((e=>(0,p.getFullTxData)(e,P)))||{},U=(0,s.useSelector)(m.getFetchParams,l.default),W=(0,s.useSelector)(m.getFromTokenInputValue),q=(0,s.useSelector)(m.getMaxSlippage),G=(0,s.useSelector)(m.getUsedQuote,l.default),H=(0,s.useSelector)(m.getApproveTxParams,s.shallowEqual),B=(0,s.useSelector)(m.getUsedSwapsGasPrice),$=(0,s.useSelector)(p.getCurrentCurrency),V=(0,s.useSelector)(p.getUSDConversionRate),Y=(0,s.useSelector)(p.getCurrentChainId),K=(0,s.useSelector)(p.getRpcPrefsForCurrentProvider,s.shallowEqual),[Q,X]=(0,r.useState)(!1);let Z;if(G&&B){var z;Z=(0,b.getRenderableNetworkFeesForQuote)({tradeGas:G.gasEstimateWithRefund||G.averageGas,approveGas:(null==H?void 0:H.gas)||"0x0",gasPrice:B,currentCurrency:$,conversionRate:V,tradeValue:null==G||null===(z=G.trade)||void 0===z?void 0:z.value,sourceSymbol:null==F?void 0:F.token_from,sourceAmount:G.sourceAmount,chainId:Y}).rawNetworkFees}const J=(0,s.useSelector)(p.isHardwareWallet),ee=(0,s.useSelector)(p.getHardwareWalletType),te=(0,s.useSelector)(m.getSmartTransactionsOptInStatus),ae=(0,s.useSelector)(m.getSmartTransactionsEnabled),ne=(0,s.useSelector)(m.getCurrentSmartTransactionsEnabled),re={token_from:null==F?void 0:F.token_from,token_from_amount:null==F?void 0:F.token_from_amount,token_to:null==F?void 0:F.token_to,request_type:null!=U&&U.balanceError?"Quote":"Order",slippage:null==F?void 0:F.slippage,custom_slippage:2===(null==F?void 0:F.slippage),gas_fees:Z,is_hardware_wallet:J,hardware_wallet_type:ee,stx_enabled:ae,current_stx_enabled:ne,stx_user_opt_in:te},se=null!==(x=null!==(I=K.blockExplorerUrl)&&void 0!==I?I:h.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[Y])&&void 0!==x?x:null,oe=(0,c.getBlockExplorerLink)({hash:a,chainId:Y},{blockExplorerUrl:se});let ie,le,ce,ue,de;return t===h.OFFLINE_FOR_MAINTENANCE?(ie=A("offlineForMaintenance"),ce=A("metamaskSwapsOfflineDescription"),ue=A("close"),le=r.default.createElement(C.default,null)):t===h.SWAP_FAILED_ERROR?(ie=A("swapFailedErrorTitle"),ce=A("swapFailedErrorDescriptionWithSupportLink",[r.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:S.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{M({category:f.EVENT.CATEGORIES.SWAPS,event:f.EVENT_NAMES.SUPPORT_LINK_CLICKED,properties:{url:S.SUPPORT_LINK}},{contextPropsIntoEventProperties:[f.CONTEXT_PROPS.PAGE_TITLE]})}},new URL(S.SUPPORT_LINK).hostname)]),ue=A("tryAgain"),le=r.default.createElement(C.default,null),de=oe&&r.default.createElement(k.default,{blockExplorerUrl:oe,sensitiveTrackingProperties:re})):t===h.QUOTES_EXPIRED_ERROR?(ie=A("swapQuotesExpiredErrorTitle"),ce=A("swapQuotesExpiredErrorDescription"),ue=A("tryAgain"),le=r.default.createElement(O.default,null),Q||(X(!0),M({event:"Quotes Timed Out",category:f.EVENT.CATEGORIES.SWAPS,sensitiveProperties:re}))):t===h.ERROR_FETCHING_QUOTES?(ie=A("swapFetchingQuotesErrorTitle"),ce=A("swapFetchingQuotesErrorDescription"),ue=A("back"),le=r.default.createElement(C.default,null)):t===h.QUOTES_NOT_AVAILABLE_ERROR?(ie=A("swapQuotesNotAvailableErrorTitle"),ce=A("swapQuotesNotAvailableErrorDescription"),ue=A("tryAgain"),le=r.default.createElement(C.default,null)):t===h.CONTRACT_DATA_DISABLED_ERROR?(ie=A("swapContractDataDisabledErrorTitle"),ce=A("swapContractDataDisabledErrorDescription"),ue=A("tryAgain"),le=r.default.createElement(C.default,null)):t||e?!t&&e&&(ie=A("swapTransactionComplete"),le=r.default.createElement(N.default,null),ue=A("close"),ce=A("swapTokenAvailable",[r.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${null==F?void 0:F.token_to}`)]),de=oe&&r.default.createElement(k.default,{blockExplorerUrl:oe,sensitiveTrackingProperties:re})):(ie=A("swapProcessing"),le=r.default.createElement(E.default,null),ue=A("swapsViewInActivity"),ce=A("swapOnceTransactionHasProcess",[r.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol"},null==F?void 0:F.token_to)]),de=oe&&r.default.createElement(k.default,{blockExplorerUrl:oe,sensitiveTrackingProperties:re})),(0,r.useEffect)((()=>{t&&L((0,T.stopPollingForQuotes)())}),[L,t]),r.default.createElement("div",{className:"awaiting-swap"},r.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&r.default.createElement(g.default,{animationEventEmitter:j.current,width:"90",height:"90"}),r.default.createElement("div",{className:"awaiting-swap__status-image"},le),r.default.createElement("div",{className:"awaiting-swap__header"},ie),r.default.createElement("div",{className:"awaiting-swap__main-description"},ce),de),!t&&e?r.default.createElement(y.default,{sensitiveTrackingProperties:re}):null,r.default.createElement(w.default,{onSubmit:async()=>{t===h.OFFLINE_FOR_MAINTENANCE?(await L((0,m.prepareToLeaveSwaps)()),D.push(v.DEFAULT_ROUTE)):t===h.QUOTES_EXPIRED_ERROR?(L((0,m.prepareForRetryGetQuotes)()),await L((0,m.fetchQuotesAndSetQuoteState)(D,W,q,M))):t?await L((0,m.navigateBackToBuildQuote)(D)):((0,_.isSwapsDefaultTokenSymbol)(null==F?void 0:F.token_to,Y)||e||await L((0,T.setDefaultHomeActiveTabName)("activity")),D.push(v.DEFAULT_ROUTE))},onCancel:async()=>await L((0,m.navigateBackToBuildQuote)(D)),submitText:ue,disabled:R,hideCancel:t!==h.QUOTES_EXPIRED_ERROR}))}x.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([h.QUOTES_EXPIRED_ERROR,h.SWAP_FAILED_ERROR,h.ERROR_FETCHING_QUOTES,h.QUOTES_NOT_AVAILABLE_ERROR,h.OFFLINE_FOR_MAINTENANCE,h.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.number}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-swap\\awaiting-swap.js"}],[4238,{"./awaiting-swap":4237},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./awaiting-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-swap\\index.js"}],[4239,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-swap\\quotes-timeout-icon.js"}],[4240,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-swap\\swap-failure-icon.js"}],[4241,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\awaiting-swap\\swap-success-icon.js"}],[4242,{"../../../../shared/constants/metametrics":3263,"../../../../shared/constants/swaps":3268,"../../../../shared/lib/swaps-utils":3276,"../../../../shared/lib/transactions-controller-utils":3279,"../../../../shared/modules/conversion.utils":3285,"../../../../shared/modules/string-utils":3295,"../../../../shared/modules/swaps.utils":3296,"../../../components/ui/actionable-message/actionable-message":3705,"../../../components/ui/box":3709,"../../../components/ui/button":3713,"../../../components/ui/info-tooltip":3788,"../../../components/ui/popover":3831,"../../../components/ui/typography":3871,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/metamask/metamask":3894,"../../../ducks/swaps/swaps":3898,"../../../helpers/constants/design-system":3902,"../../../helpers/constants/routes":3906,"../../../helpers/utils/util":3941,"../../../hooks/useEqualityCheck":3958,"../../../hooks/useEthFiatAmount":3959,"../../../hooks/usePrevious":3964,"../../../hooks/useTokenFiatAmount":3973,"../../../hooks/useTokenTracker":3974,"../../../hooks/useTokensToSearch":3975,"../../../selectors":4306,"../../../store/actions":4313,"../dropdown-input-pair":4250,"../dropdown-search-list":4252,"../slippage-buttons":4278,"../swaps-footer":4288,"../swaps.util":4290,"@metamask/etherscan-link":1066,"bignumber.js":1650,classnames:1775,lodash:2730,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=K;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=$(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=B(e("bignumber.js")),s=B(e("prop-types")),o=e("react-redux"),i=B(e("classnames")),l=e("lodash"),c=e("react-router-dom"),u=e("@metamask/etherscan-link"),d=e("../../../contexts/metametrics"),f=e("../../../hooks/useTokensToSearch"),p=e("../../../hooks/useEqualityCheck"),m=e("../../../contexts/i18n"),g=B(e("../dropdown-input-pair")),h=B(e("../dropdown-search-list")),_=B(e("../slippage-buttons")),E=e("../../../ducks/metamask/metamask"),v=B(e("../../../components/ui/info-tooltip")),T=B(e("../../../components/ui/popover")),b=B(e("../../../components/ui/button")),w=B(e("../../../components/ui/actionable-message/actionable-message")),y=B(e("../../../components/ui/box")),k=B(e("../../../components/ui/typography")),S=e("../../../helpers/constants/design-system"),C=e("../../../helpers/constants/routes"),N=e("../../../ducks/swaps/swaps"),O=e("../../../selectors"),R=e("../../../helpers/utils/util"),P=e("../../../hooks/usePrevious"),x=e("../../../hooks/useTokenTracker"),I=e("../../../hooks/useTokenFiatAmount"),A=e("../../../hooks/useEthFiatAmount"),M=e("../../../../shared/modules/swaps.utils"),D=e("../../../../shared/constants/metametrics"),L=e("../../../../shared/constants/swaps"),j=e("../../../store/actions"),F=e("../swaps.util"),U=B(e("../swaps-footer")),W=e("../../../../shared/modules/string-utils"),q=e("../../../../shared/lib/transactions-controller-utils"),G=e("../../../../shared/lib/swaps-utils"),H=e("../../../../shared/modules/conversion.utils");function B(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return($=function(e){return e?a:t})(e)}const V=[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}];let Y;function K({ethBalance:e,selectedAccountAddress:t,shuffledTokensList:a}){var s,B;const $=(0,n.useContext)(m.I18nContext),K=(0,o.useDispatch)(),Q=(0,c.useHistory)(),X=(0,n.useContext)(d.MetaMetricsContext),[Z,z]=(0,n.useState)(undefined),[J,ee]=(0,n.useState)(!1),te=(0,o.useSelector)(N.getIsFeatureFlagLoaded),ae=(0,o.useSelector)(N.getBalanceError),ne=(0,o.useSelector)(N.getFetchParams,l.isEqual),{sourceTokenInfo:re={},destinationTokenInfo:se={}}=(null==ne?void 0:ne.metaData)||{},oe=(0,o.useSelector)(E.getTokens,l.isEqual),ie=(0,o.useSelector)(N.getTopAssets,l.isEqual),le=(0,o.useSelector)(N.getFromToken,l.isEqual),ce=(0,o.useSelector)(N.getFromTokenInputValue),ue=(0,o.useSelector)(N.getFromTokenError),de=(0,o.useSelector)(N.getMaxSlippage),fe=(0,o.useSelector)(N.getToToken,l.isEqual)||se,pe=(0,o.useSelector)(O.getSwapsDefaultToken,l.isEqual),me=(0,o.useSelector)(O.getCurrentChainId),ge=(0,o.useSelector)(O.getRpcPrefsForCurrentProvider,o.shallowEqual),he=(0,o.useSelector)(O.getTokenList,l.isEqual),_e=(0,o.useSelector)(N.getQuotes,l.isEqual),Ee=Object.keys(_e).length>0,ve=(0,o.useSelector)(O.getTokenExchangeRates,l.isEqual),Te=(0,o.useSelector)(E.getConversionRate),be=(0,o.useSelector)(O.getUseCurrencyRateCheck),we=(0,o.useSelector)(O.isHardwareWallet),ye=(0,o.useSelector)(O.getHardwareWalletType),ke=(0,o.useSelector)(N.getSmartTransactionsOptInStatus),Se=(0,o.useSelector)(N.getSmartTransactionsEnabled),Ce=(0,o.useSelector)(N.getCurrentSmartTransactionsEnabled),Ne=(0,o.useSelector)(N.getSmartTransactionFees),Oe=ke!==undefined,Re=(0,o.useSelector)(N.getCurrentSmartTransactionsError),Pe=(0,o.useSelector)(O.getCurrentCurrency),xe=Se&&!Oe,Ie=(0,M.isSwapsDefaultTokenSymbol)(null==re?void 0:re.symbol,me)?pe:re,{loading:Ae,tokensWithBalances:Me}=(0,x.useTokenTracker)(oe),De=!(0,M.isSwapsDefaultTokenSymbol)(null==le?void 0:le.symbol,me)&&null!=le&&le.balance?[le]:[],Le=(0,l.uniqBy)([...Me,...oe,...De],"address"),je=(0,p.useEqualityCheck)(Le),Fe=(0,f.getRenderableTokenData)(le||Ie,ve,Te,Pe,me,he),Ue=(0,f.useTokensToSearch)({usersTokens:je,topTokens:ie,shuffledTokensList:a,tokenBucketPriority:L.TokenBucketPriority.owned}),We=(0,f.useTokensToSearch)({usersTokens:je,topTokens:ie,shuffledTokensList:a,tokenBucketPriority:L.TokenBucketPriority.top}),qe=Ue.find((({address:e})=>(0,W.isEqualCaseInsensitive)(e,null==fe?void 0:fe.address)))||fe,Ge=(null==qe?void 0:qe.address)&&!(0,M.isSwapsDefaultTokenAddress)(null==qe?void 0:qe.address,me),He=Number((null==qe?void 0:qe.occurances)||(null==qe?void 0:qe.occurrences)||0),{address:Be,symbol:$e,string:Ve,decimals:Ye,balance:Ke}=Fe||{},{address:Qe}=qe||{},Xe=Ke&&(0,q.calcTokenAmount)(Ke,Ye).toString(10),Ze=(0,P.usePrevious)(Xe),ze=(0,I.useTokenFiatAmount)(Be,ce||0,$e,{showFiat:be},!0),Je=(0,A.useEthFiatAmount)(ce||0,{showFiat:be},!0),et=(0,M.isSwapsDefaultTokenSymbol)($e,me)?Je:ze,tt=(0,n.useCallback)(((e,t)=>{K((0,N.setFromTokenInputValue)(e));const a=new r.default(e||0).gt(t||0);ae!==a&&K((0,N.setBalanceError)(a)),K((0,N.setFromTokenError)(le&&(0,F.countDecimals)(e)>le.decimals?"tooManyDecimals":null))}),[K,le,ae]),at=e=>{null!=e&&e.address&&!et&&null!==Z?(0,F.fetchTokenPrice)(e.address).then((e=>{null!==e&&e!==undefined&&z(e)})):z(null),null!=e&&e.address&&!je.find((t=>(0,W.isEqualCaseInsensitive)(t.address,e.address)))&&(0,F.fetchTokenBalance)(e.address,t).then((t=>{if(null!=t&&t.balance){const a=t.balance.toString(10),n=(0,q.calcTokenAmount)(a,e.decimals);K((0,N.setSwapsFromToken)({...e,string:n.toString(10),balance:a}))}})),K((0,N.setSwapsFromToken)(e)),tt(null!=e&&e.address?ce:"",e.string,e.decimals)},nt=(0,u.getTokenTrackerLink)(qe.address,me,null,null,{blockExplorerUrl:null!==(s=L.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[me])&&void 0!==s?s:null}),rt=ge.blockExplorerUrl?(0,R.getURLHostName)(nt):$("etherscan"),{destinationTokenAddedForSwap:st}=ne||{},{address:ot}=fe||{},it=(0,n.useCallback)((e=>{st&&e.address!==ot&&K((0,j.ignoreTokens)({tokensToIgnore:ot,dontShowLoadingIndicator:!0})),K((0,N.setSwapToToken)(e)),ee(!1)}),[K,st,ot]),lt=(0,n.useCallback)((e=>(0,W.isEqualCaseInsensitive)(e.address,Be)),[Be]),ct=Me.find((e=>(0,W.isEqualCaseInsensitive)(e.address,null==le?void 0:le.address))),ut=(0,P.usePrevious)(ct);(0,n.useEffect)((()=>{const e=!(0,M.isSwapsDefaultTokenAddress)(null==ct?void 0:ct.address,me),t=(0,W.isEqualCaseInsensitive)(null==ct?void 0:ct.address,null==ut?void 0:ut.address),a=(null==ct?void 0:ct.balance)!==(null==ut?void 0:ut.balance);e&&t&&a&&K((0,N.setSwapsFromToken)({...le,balance:null==ct?void 0:ct.balance,string:null==ct?void 0:ct.string}))}),[K,ct,ut,le,me]),(0,n.useEffect)((()=>{(0,M.isSwapsDefaultTokenAddress)(null==le?void 0:le.address,me)&&(null==le?void 0:le.balance)!==(0,H.hexToDecimal)(e)&&K((0,N.setSwapsFromToken)({...le,balance:(0,H.hexToDecimal)(e),string:(0,H.getValueFromWeiHex)({value:e,numberOfDecimals:4,toDenomination:"ETH"})}))}),[K,le,e,me]),(0,n.useEffect)((()=>{Ze!==Xe&&tt(ce,Xe)}),[tt,Ze,ce,Xe]);const dt=(0,n.useCallback)((()=>{X({event:"Build Quote Page Loaded",category:D.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{is_hardware_wallet:we,hardware_wallet_type:ye,stx_enabled:Se,current_stx_enabled:Ce,stx_user_opt_in:ke}})}),[X,we,ye,Se,Ce,ke]);(0,n.useEffect)((()=>{K((0,j.resetSwapsPostFetchState)()),K((0,N.setReviewSwapClickedTimestamp)()),dt()}),[K,dt]),(0,n.useEffect)((()=>{Se&&null!=Ne&&Ne.tradeTxFees&&(0,j.clearSmartTransactionFees)()}),[Se,Ne]);const ft=()=>n.default.createElement("a",{className:"build-quote__token-etherscan-link build-quote__underline",key:"build-quote-etherscan-link",onClick:()=>{X({event:D.EVENT_NAMES.EXTERNAL_LINK_CLICKED,category:D.EVENT.CATEGORIES.SWAPS,properties:{link_type:D.EVENT.EXTERNAL_LINK_TYPES.TOKEN_TRACKER,location:"Swaps Confirmation",url_domain:(0,R.getURLHostName)(nt)}}),global.platform.openTab({url:nt})},target:"_blank",rel:"noopener noreferrer"},rt);let pt="";nt&&(1===He?pt=$("verifyThisTokenOn",[n.default.createElement(ft,{key:"block-explorer-link"})]):0===He&&(pt=$("verifyThisUnconfirmedTokenOn",[n.default.createElement(ft,{key:"block-explorer-link"})])));const mt=$("swapYourTokenBalance",[Ve||"0",$e||(null===(B=L.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[me])||void 0===B?void 0:B.symbol)||""]),gt=(0,G.shouldEnableDirectWrapping)(me,Be,qe.address),ht=ue||!te||!Number(ce)||!(null!=qe&&qe.address)||!Be||Number(de)<0||Number(de)>15||Ge&&He<2&&!J;return(0,n.useEffect)((()=>{K((0,j.clearSwapsQuotes)()),K((0,j.stopPollingForQuotes)());return Y=setTimeout((()=>{Y=null,ht||(async()=>{await K((0,N.fetchQuotesAndSetQuoteState)(Q,ce,de,X,!0))})()}),1e3),()=>clearTimeout(Y)}),[K,Q,de,X,ht,ce,Be,Qe,ke]),n.default.createElement("div",{className:"build-quote"},n.default.createElement("div",{className:"build-quote__content"},xe&&n.default.createElement(T.default,{title:$("stxAreHere"),footer:n.default.createElement(n.default.Fragment,null,n.default.createElement(b.default,{type:"primary",onClick:()=>(0,j.setSmartTransactionsOptInStatus)(!0,ke)},$("enableSmartTransactions")),n.default.createElement(y.default,{marginTop:1},n.default.createElement(k.default,{variant:S.TYPOGRAPHY.H6},n.default.createElement(b.default,{type:"link",onClick:e=>{null==e||e.preventDefault(),(0,j.setSmartTransactionsOptInStatus)(!1,ke)},className:"smart-transactions-popover__no-thanks-link"},$("noThanksVariant2"))))),footerClassName:"smart-transactions-popover__footer",className:"smart-transactions-popover"},n.default.createElement(y.default,{paddingRight:6,paddingLeft:6,paddingTop:0,paddingBottom:0,display:S.DISPLAY.FLEX,className:"smart-transactions-popover__content"},n.default.createElement(y.default,{marginTop:0,marginBottom:4,display:S.DISPLAY.FLEX,flexDirection:S.FLEX_DIRECTION.COLUMN},n.default.createElement("img",{src:"./images/logo/smart-transactions-header.png",alt:$("swapSwapSwitch")})),n.default.createElement(k.default,{variant:S.TYPOGRAPHY.H7,marginTop:0},$("stxDescription")),n.default.createElement(k.default,{as:"ul",variant:S.TYPOGRAPHY.H7,fontWeight:S.FONT_WEIGHT.BOLD,marginTop:3},n.default.createElement("li",null,$("stxBenefit1")),n.default.createElement("li",null,$("stxBenefit2")),n.default.createElement("li",null,$("stxBenefit3")),n.default.createElement("li",null,$("stxBenefit4"),n.default.createElement(k.default,{as:"span",fontWeight:S.FONT_WEIGHT.NORMAL,variant:S.TYPOGRAPHY.H7}," *"))),n.default.createElement(k.default,{variant:S.TYPOGRAPHY.H8,color:S.COLORS.TEXT_ALTERNATIVE,boxProps:{marginTop:3}},$("stxSubDescription"),"",n.default.createElement(k.default,{as:"span",fontWeight:S.FONT_WEIGHT.BOLD,variant:S.TYPOGRAPHY.H8,color:S.COLORS.TEXT_ALTERNATIVE},$("stxYouCanOptOut"),"")))),n.default.createElement("div",{className:"build-quote__dropdown-input-pair-header"},n.default.createElement("div",{className:"build-quote__input-label"},$("swapSwapFrom")),!(0,M.isSwapsDefaultTokenSymbol)($e,me)&&n.default.createElement("div",{className:"build-quote__max-button","data-testid":"build-quote__max-button",onClick:()=>tt(Xe||"0",Xe)},$("max"))),n.default.createElement(g.default,{onSelect:at,itemsToSearch:Ue,onInputChange:e=>{tt(e,Xe)},inputValue:ce,leftValue:ce&&et,selectedItem:Fe,maxListItems:30,loading:Ae&&(!(null!=Ue&&Ue.length)||!ie||!Object.keys(ie).length),selectPlaceHolderText:$("swapSelect"),hideItemIf:e=>(0,W.isEqualCaseInsensitive)(e.address,null==qe?void 0:qe.address),listContainerClassName:"build-quote__open-dropdown",autoFocus:!0}),n.default.createElement("div",{className:(0,i.default)("build-quote__balance-message",{"build-quote__balance-message--error":ae||ue})},!ue&&!ae&&$e&&mt,!ue&&ae&&$e&&n.default.createElement("div",{className:"build-quite__insufficient-funds"},n.default.createElement("div",{className:"build-quite__insufficient-funds-first"},$("swapsNotEnoughForTx",[$e])),n.default.createElement("div",{className:"build-quite__insufficient-funds-second"},mt)),ue&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"build-quote__form-error"},$("swapTooManyDecimalsError",[$e,Ye])),n.default.createElement("div",null,mt))),n.default.createElement("div",{className:"build-quote__swap-arrows-row"},n.default.createElement("button",{className:"build-quote__swap-arrows","data-testid":"build-quote__swap-arrows",onClick:()=>{it(Fe),at(qe)}},n.default.createElement("i",{className:"fa fa-arrow-up",title:$("swapSwapSwitch")}),n.default.createElement("i",{className:"fa fa-arrow-down",title:$("swapSwapSwitch")}))),n.default.createElement("div",{className:"build-quote__dropdown-swap-to-header"},n.default.createElement("div",{className:"build-quote__input-label"},$("swapSwapTo"))),n.default.createElement("div",{className:"dropdown-input-pair dropdown-input-pair__to"},n.default.createElement(h.default,{startingItem:qe,itemsToSearch:We,fuseSearchKeys:V,selectPlaceHolderText:$("swapSelectAToken"),maxListItems:30,onSelect:it,loading:Ae&&(!(null!=We&&We.length)||!ie||!Object.keys(ie).length),externallySelectedItem:qe,hideItemIf:lt,listContainerClassName:"build-quote__open-to-dropdown",hideRightLabels:!0,defaultToAll:!0,shouldSearchForImports:!0})),Ge&&(He<2?n.default.createElement(w.default,{type:1===He?"warning":"danger",message:n.default.createElement("div",{className:"build-quote__token-verification-warning-message"},n.default.createElement("div",{className:"build-quote__bold"},$(1===He?"swapTokenVerificationOnlyOneSource":"swapTokenVerificationAddedManually")),n.default.createElement("div",null,pt)),primaryAction:J?null:{label:$("continue"),onClick:()=>ee(!0)},withRightButton:!0,infoTooltipText:nt&&$("swapVerifyTokenExplanation",[rt])}):n.default.createElement("div",{className:"build-quote__token-message"},n.default.createElement("span",{className:"build-quote__bold",key:"token-verification-bold-text"},$("swapTokenVerificationSources",[He])),nt&&n.default.createElement(n.default.Fragment,null,$("swapTokenVerificationMessage",[n.default.createElement("a",{className:"build-quote__token-etherscan-link",key:"build-quote-etherscan-link",onClick:()=>{X({event:"Clicked Block Explorer Link",category:D.EVENT.CATEGORIES.SWAPS,properties:{link_type:"Token Tracker",action:"Swaps Confirmation",block_explorer_domain:(0,R.getURLHostName)(nt)}}),global.platform.openTab({url:nt})},target:"_blank",rel:"noopener noreferrer"},rt)]),n.default.createElement(v.default,{position:"top",contentText:$("swapVerifyTokenExplanation",[rt]),containerClassName:"build-quote__token-tooltip-container",key:"token-verification-info-tooltip"})))),(Se||!Se&&!gt)&&n.default.createElement("div",{className:"build-quote__slippage-buttons-container"},n.default.createElement(_.default,{onSelect:e=>{K((0,N.setMaxSlippage)(e))},maxAllowedSlippage:15,currentSlippage:de,smartTransactionsEnabled:Se,smartTransactionsOptInStatus:ke,setSmartTransactionsOptInStatus:j.setSmartTransactionsOptInStatus,currentSmartTransactionsError:Re,isDirectWrappingEnabled:gt}))),n.default.createElement(U.default,{onSubmit:async()=>{K((0,N.setReviewSwapClickedTimestamp)(Date.now())),Y?(clearTimeout(Y),K((0,N.fetchQuotesAndSetQuoteState)(Q,ce,de,X))):Ee?Q.push(C.VIEW_QUOTE_ROUTE):(await K((0,j.setBackgroundSwapRouteState)("loading")),Q.push(C.LOADING_QUOTES_ROUTE))},submitText:$("swapReviewSwap"),disabled:ht,hideCancel:!0,showTermsOfService:!0}))}K.propTypes={ethBalance:s.default.string,selectedAccountAddress:s.default.string,shuffledTokensList:s.default.array}}}},{package:"$root$",file:"ui\\pages\\swaps\\build-quote\\build-quote.js"}],[4243,{"./build-quote":4242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./build-quote"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\build-quote\\index.js"}],[4244,{"../../../../shared/constants/time":3269,"../../../components/ui/info-tooltip":3788,"../../../contexts/i18n":3879,"../../../ducks/swaps/swaps":3898,"./timer-icon":4246,classnames:1775,luxon:2748,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=p(e("prop-types")),o=p(e("classnames")),i=e("luxon"),l=e("../../../contexts/i18n"),c=p(e("../../../components/ui/info-tooltip")),u=e("../../../ducks/swaps/swaps"),d=e("../../../../shared/constants/time"),f=p(e("./timer-icon"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g(e,t,a){return a-(e-t)}function h(e){return Math.max(e-d.SECOND,0)}function _(e,t){const[a,n]=t.split(":");return e<=(60*Number(a)+Number(n))*d.SECOND}function E({timeStarted:e,timeOnly:t,timerBase:a,warningTime:s,labelKey:p,infoTooltipLabelKey:m}){const E=(0,n.useContext)(l.I18nContext),v=(0,n.useRef)(),T=(0,n.useRef)(),b=(0,r.useSelector)(u.getSwapsQuoteRefreshTime),w=(0,r.useSelector)(u.getSwapsQuotePrefetchingRefreshTime),y=T.current?b:w,k=Number(a)||y,[S,C]=(0,n.useState)((()=>Date.now())),[N,O]=(0,n.useState)((()=>g(S,e,k)));(0,n.useEffect)((()=>(v.current===undefined&&(v.current=setInterval((()=>{O(h)}),d.SECOND)),function(){clearInterval(v.current)})),[]),(0,n.useEffect)((()=>{if(T.current||(T.current=e||Date.now()),0===N&&e!==T.current){T.current=e;const t=Date.now();C(t),O(g(t,e,k)),clearInterval(v.current),v.current=setInterval((()=>{O(h)}),d.SECOND)}}),[e,N,k]);const R=i.Duration.fromMillis(N).toFormat("m:ss");let P;return t?P=n.default.createElement("div",{className:"countdown-timer__time"},R):p&&(P=E(p,[n.default.createElement("div",{key:"countdown-time-1",className:"countdown-timer__time"},R)])),n.default.createElement("div",{className:"countdown-timer"},n.default.createElement("div",{"data-testid":"countdown-timer__timer-container",className:(0,o.default)("countdown-timer__timer-container",{"countdown-timer__timer-container--warning":s&&_(N,s)})},n.default.createElement(f.default,null),P),!t&&m?n.default.createElement(c.default,{position:"bottom",contentText:E(m)}):null)}E.propTypes={timeStarted:s.default.number,timeOnly:s.default.bool,timerBase:s.default.number,warningTime:s.default.string,labelKey:s.default.string,infoTooltipLabelKey:s.default.string}}}},{package:"$root$",file:"ui\\pages\\swaps\\countdown-timer\\countdown-timer.js"}],[4245,{"./countdown-timer":4244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./countdown-timer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\countdown-timer\\index.js"}],[4246,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M7.49835 0.510498C3.75226 0.510498 0.717102 3.54565 0.717102 7.29175C0.717102 11.0378 3.75226 14.073 7.49835 14.073C11.2444 14.073 14.2796 11.0378 14.2796 7.29175C14.2796 3.54565 11.2444 0.510498 7.49835 0.510498ZM7.49835 12.7605C4.4632 12.7605 2.0296 10.3269 2.0296 7.29175C2.0296 4.28394 4.4632 1.823 7.49835 1.823C10.5062 1.823 12.9671 4.28394 12.9671 7.29175C12.9671 10.3269 10.5062 12.7605 7.49835 12.7605ZM9.16632 9.91675C9.33038 10.0261 9.52179 9.99878 9.63116 9.83472L10.1507 9.15112C10.2601 8.98706 10.2327 8.79565 10.0687 8.68628L8.26398 7.34644V3.46362C8.26398 3.29956 8.09991 3.1355 7.93585 3.1355H7.06085C6.86945 3.1355 6.73273 3.29956 6.73273 3.46362V7.97534C6.73273 8.05737 6.76007 8.16675 6.8421 8.22144L9.16632 9.91675Z",fill:"var(--color-primary-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\countdown-timer\\timer-icon.js"}],[4247,{"../../../../shared/constants/metametrics":3263,"../../../components/ui/box":3709,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/swaps/swaps":3898,"../../../helpers/constants/routes":3906,"../../../selectors":4306,"lodash/isEqual":2715,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=_;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=g(e("prop-types")),o=e("react-router-dom"),i=g(e("lodash/isEqual")),l=g(e("../../../components/ui/box")),c=e("../../../contexts/i18n"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),f=e("../../../ducks/swaps/swaps"),p=e("../../../helpers/constants/routes"),m=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function _({sensitiveTrackingProperties:e}){const t=(0,n.useContext)(c.I18nContext),a=(0,n.useContext)(u.MetaMetricsContext),s=(0,r.useDispatch)(),g=(0,o.useHistory)(),h=(0,r.useSelector)(m.getSwapsDefaultToken,i.default);return n.default.createElement(l.default,{marginBottom:3,className:"create-new-swap"},n.default.createElement("button",{onClick:async()=>{a({event:"Make Another Swap",category:d.EVENT.CATEGORIES.SWAPS,sensitiveProperties:e}),g.push(p.DEFAULT_ROUTE),await s((0,f.navigateBackToBuildQuote)(g)),s((0,f.setSwapsFromToken)(h))}},t("makeAnotherSwap")))}_.propTypes={sensitiveTrackingProperties:s.default.object.isRequired}}}},{package:"$root$",file:"ui\\pages\\swaps\\create-new-swap\\create-new-swap.js"}],[4248,{"./create-new-swap":4247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./create-new-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\create-new-swap\\index.js"}],[4249,{"../../../components/ui/text-field":3857,"../dropdown-search-list":4252,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=d;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=l(e("prop-types")),s=l(e("classnames")),o=l(e("../dropdown-search-list")),i=l(e("../../../components/ui/text-field"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const u={1:5.86,2:10.05,3:10.45,4:11.1,5:10,6:10.06,7:9.17,8:10.28,9:10.06,0:11.22,".":4.55};function d({itemsToSearch:e=[],onInputChange:t,inputValue:a="",onSelect:r,leftValue:l,selectedItem:c,SearchListPlaceholder:d,maxListItems:f,selectPlaceHolderText:p,loading:m,hideItemIf:g,listContainerClassName:h,autoFocus:_}){const[E,v]=(0,n.useState)(!1),T=(0,n.useRef)(),[b,w]=(0,n.useState)(null);return(0,n.useEffect)((()=>{var e,t;w(((null==T||null===(e=T.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)||0)+String(a||"").split("").reduce(((e,t)=>e+u[t]),12)>137)}),[a,T]),n.default.createElement("div",{className:"dropdown-input-pair"},n.default.createElement(o.default,{itemsToSearch:e,SearchListPlaceholder:d,fuseSearchKeys:[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}],maxListItems:f,onOpen:()=>v(!0),onClose:()=>v(!1),onSelect:r,className:E?"dropdown-input-pair__list--full-width":"",externallySelectedItem:c,selectPlaceHolderText:p,selectorClosedClassName:"dropdown-input-pair__selector--closed",listContainerClassName:h,loading:m,hideItemIf:g,defaultToAll:!0}),!E&&n.default.createElement(i.default,{className:(0,s.default)("dropdown-input-pair__input",{"dropdown-input-pair__two-line-input":b}),type:"text",placeholder:"0",onChange:e=>{e.stopPropagation();const n="."===e.target.value?"0.":e.target.value;""===n||/^(\.\d+|\d+(\.\d+)?|\d+\.)$/u.test(n)?t(n):t(a||"")},fullWidth:!0,margin:"dense",value:a,autoFocus:_}),!E&&l&&n.default.createElement("div",{className:(0,s.default)("dropdown-input-pair__left-value",{"dropdown-input-pair__left-value--two-lines":b}),ref:T}," ",l))}d.propTypes={itemsToSearch:r.default.array,onInputChange:r.default.func,inputValue:r.default.oneOfType([r.default.number,r.default.string]),onSelect:r.default.func,leftValue:r.default.string,selectedItem:r.default.object,SearchListPlaceholder:r.default.func,maxListItems:r.default.number,selectPlaceHolderText:r.default.string,loading:r.default.bool,hideItemIf:r.default.func,listContainerClassName:r.default.string,autoFocus:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\swaps\\dropdown-input-pair\\dropdown-input-pair.js"}],[4250,{"./dropdown-input-pair":4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./dropdown-input-pair"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\dropdown-input-pair\\index.js"}],[4251,{"../../../../shared/constants/metametrics":3263,"../../../../shared/constants/swaps":3268,"../../../components/ui/actionable-message/actionable-message":3705,"../../../components/ui/pulse-loader":3833,"../../../components/ui/url-icon":3876,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/swaps/swaps":3898,"../../../helpers/utils/util":3941,"../../../selectors/selectors":4309,"../import-token":4258,"../searchable-item-list":4265,classnames:1775,lodash:2730,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=w;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=T(e("prop-types")),o=T(e("classnames")),i=e("lodash"),l=e("../../../contexts/i18n"),c=T(e("../searchable-item-list")),u=T(e("../../../components/ui/pulse-loader")),d=T(e("../../../components/ui/url-icon")),f=T(e("../../../components/ui/actionable-message/actionable-message")),p=T(e("../import-token")),m=e("../../../selectors/selectors"),g=e("../../../../shared/constants/swaps"),h=e("../../../helpers/utils/util"),_=e("../../../ducks/swaps/swaps"),E=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics");function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function w({searchListClassName:e,itemsToSearch:t,selectPlaceHolderText:a,fuseSearchKeys:s,defaultToAll:T,maxListItems:b,onSelect:w,startingItem:y,onOpen:k,onClose:S,className:C="",externallySelectedItem:N,selectorClosedClassName:O,loading:R,hideRightLabels:P,hideItemIf:x,listContainerClassName:I,shouldSearchForImports:A}){var M,D;const L=(0,n.useContext)(l.I18nContext),[j,F]=(0,n.useState)(!1),[U,W]=(0,n.useState)(!1),[q,G]=(0,n.useState)(y),[H,B]=(0,n.useState)(null),[$,V]=(0,n.useState)(""),Y=(0,r.useSelector)(m.isHardwareWallet),K=(0,r.useSelector)(m.getHardwareWalletType),Q=(0,r.useSelector)(m.getCurrentChainId),X=(0,r.useSelector)(m.getRpcPrefsForCurrentProvider),Z=(0,r.useSelector)(_.getSmartTransactionsOptInStatus),z=(0,r.useSelector)(_.getSmartTransactionsEnabled),J=(0,r.useSelector)(_.getCurrentSmartTransactionsEnabled),ee=(0,n.useContext)(E.MetaMetricsContext),te=(0,n.useCallback)((()=>{F(!1),null==S||S()}),[S]),ae=(0,n.useCallback)((e=>{null==w||w(e),G(e),te()}),[w,te]),ne=(0,n.useCallback)((()=>{j||(F(!0),null==k||k())}),[j,k]),re=(0,n.useRef)();(0,n.useEffect)((()=>{re.current=N}));const se=re.current;(0,n.useEffect)((()=>{N&&!(0,i.isEqual)(N,q)?G(N):se&&!N&&G(null)}),[N,q,se]);const oe=null!==(M=null!==(D=X.blockExplorerUrl)&&void 0!==D?D:g.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[Q])&&void 0!==M?M:null,ie=(0,h.getURLHostName)(oe),le={onImportTokenCloseClick:()=>{W(!1),te()},onImportTokenClick:()=>{ee({event:"Token Imported",category:v.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{symbol:null==H?void 0:H.symbol,address:null==H?void 0:H.address,chain_id:Q,is_hardware_wallet:Y,hardware_wallet_type:K,stx_enabled:z,current_stx_enabled:J,stx_user_opt_in:Z}}),null==w||w(H),G(H),B(null),te()},setIsImportTokenModalOpen:W,tokenForImport:H};return n.default.createElement("div",{className:(0,o.default)("dropdown-search-list",C),"data-testid":"dropdown-search-list",onClick:ne,onKeyUp:e=>{"Escape"===e.key?te():"Enter"===e.key&&ne(e)},tabIndex:"0"},H&&U&&n.default.createElement(p.default,le),!j&&n.default.createElement("div",{className:(0,o.default)("dropdown-search-list__selector-closed-container",O)},n.default.createElement("div",{className:"dropdown-search-list__selector-closed"},(null==q?void 0:q.iconUrl)&&n.default.createElement(d.default,{url:q.iconUrl,className:"dropdown-search-list__selector-closed-icon",name:null==q?void 0:q.symbol}),!(null!=q&&q.iconUrl)&&n.default.createElement("div",{className:"dropdown-search-list__default-dropdown-icon"}),n.default.createElement("div",{className:"dropdown-search-list__labels"},n.default.createElement("div",{className:"dropdown-search-list__item-labels"},n.default.createElement("span",{className:(0,o.default)("dropdown-search-list__closed-primary-label",{"dropdown-search-list__select-default":!(null!=q&&q.symbol)})},(null==q?void 0:q.symbol)||a)))),n.default.createElement("i",{className:"fa fa-caret-down fa-lg dropdown-search-list__caret"})),j&&n.default.createElement(n.default.Fragment,null,n.default.createElement(c.default,{itemsToSearch:R?[]:t,Placeholder:()=>R?n.default.createElement("div",{className:"dropdown-search-list__loading-item"},n.default.createElement(u.default,null),n.default.createElement("div",{className:"dropdown-search-list__loading-item-text-container"},n.default.createElement("span",{className:"dropdown-search-list__loading-item-text"},L("swapFetchingTokens")))):n.default.createElement("div",{className:"dropdown-search-list__placeholder"},L("swapBuildQuotePlaceHolderText",[$]),oe&&n.default.createElement("div",{tabIndex:"0",className:"searchable-item-list__item searchable-item-list__item--add-token",key:"searchable-item-list-item-last"},n.default.createElement(f.default,{message:L("addCustomTokenByContractAddress",[n.default.createElement("a",{key:"dropdown-search-list__etherscan-link",onClick:()=>{ee({event:"Clicked Block Explorer Link",category:v.EVENT.CATEGORIES.SWAPS,properties:{link_type:"Token Tracker",action:"Verify Contract Address",block_explorer_domain:ie}}),global.platform.openTab({url:oe})},target:"_blank",rel:"noopener noreferrer"},ie)])}))),searchPlaceholderText:L("swapSearchNameOrAddress"),fuseSearchKeys:s,defaultToAll:T,onClickItem:ae,onOpenImportTokenModalClick:e=>{B(e),W(!0)},maxListItems:b,className:(0,o.default)("dropdown-search-list__token-container",e,{"dropdown-search-list--open":j}),hideRightLabels:P,hideItemIf:x,listContainerClassName:I,shouldSearchForImports:A,searchQuery:$,setSearchQuery:V}),n.default.createElement("div",{className:"dropdown-search-list__close-area","data-testid":"dropdown-search-list__close-area",onClick:e=>{e.stopPropagation(),F(!1),null==S||S()}})))}w.propTypes={itemsToSearch:s.default.array,onSelect:s.default.func,searchListClassName:s.default.string,fuseSearchKeys:s.default.arrayOf(s.default.shape({name:s.default.string,weight:s.default.number})),defaultToAll:s.default.bool,maxListItems:s.default.number,startingItem:s.default.object,onOpen:s.default.func,onClose:s.default.func,className:s.default.string,externallySelectedItem:s.default.object,loading:s.default.bool,selectPlaceHolderText:s.default.string,selectorClosedClassName:s.default.string,hideRightLabels:s.default.bool,hideItemIf:s.default.func,listContainerClassName:s.default.string,shouldSearchForImports:s.default.bool}}}},{package:"$root$",file:"ui\\pages\\swaps\\dropdown-search-list\\dropdown-search-list.js"}],[4252,{"./dropdown-search-list":4251},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./dropdown-search-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\dropdown-search-list\\index.js"}],[4253,{"../../../../shared/lib/transactions-controller-utils":3279,"../swaps.util":4290,"bignumber.js":1650,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=d;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=c(e("prop-types")),s=c(e("bignumber.js")),o=c(e("classnames")),i=e("../swaps.util"),l=e("../../../../shared/lib/transactions-controller-utils");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function d({primaryTokenValue:e,primaryTokenDecimals:t=18,primaryTokenSymbol:a,secondaryTokenValue:r,secondaryTokenDecimals:c=18,secondaryTokenSymbol:u,arrowColor:d="var(--color-primary-default)",boldSymbols:f=!0,className:p}){const[m,g]=(0,n.useState)(!0),[h,_]=(0,n.useState)(!1),E=(0,l.calcTokenAmount)(e,t),v=(0,l.calcTokenAmount)(r,c),T=new s.default(v).div(E).round(9).toString(10),b=new s.default(E).div(v).round(9).toString(10),w=m?a:u,y=m?u:a,k=m?T:b;let S,C="=";return new s.default(k,10).lt("0.00000001",10)?(S="0.000000001",C="<"):S=new s.default(k,10).lt("0.000001",10)?k:(0,i.formatSwapsValueForDisplay)(k),n.default.createElement("div",{className:(0,o.default)("exchange-rate-display",p)},n.default.createElement("span",null,"1"),n.default.createElement("span",{className:(0,o.default)({"exchange-rate-display__bold":f}),"data-testid":"exchange-rate-display__base-symbol"},w),n.default.createElement("span",null,C),n.default.createElement("span",null,S),n.default.createElement("span",{className:(0,o.default)({"exchange-rate-display__bold":f})},y),n.default.createElement("div",{className:(0,o.default)("exchange-rate-display__switch-arrows",{"exchange-rate-display__switch-arrows-rotate":h}),"data-testid":"exchange-rate-display__switch-arrows",onClick:()=>{g(!m),_(!0)},onAnimationEnd:()=>_(!1)},n.default.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{d:"M4.15294 4.38514H9.99223L8.50853 5.86884C8.30421 6.07297 8.30421 6.40418 8.50853 6.60869C8.61069 6.71085 8.74443 6.76203 8.87836 6.76203C9.01229 6.76203 9.14603 6.71085 9.24819 6.60869L11.6249 4.23219C11.649 4.20803 11.6707 4.1814 11.6899 4.15305C11.6947 4.14563 11.6981 4.13726 11.7025 4.12965C11.7154 4.10815 11.7282 4.08646 11.7381 4.06325C11.7426 4.05222 11.7447 4.04043 11.7487 4.0292C11.7558 4.00827 11.7636 3.98754 11.7681 3.96547C11.775 3.93161 11.7786 3.89717 11.7786 3.86198C11.7786 3.82678 11.775 3.79235 11.7681 3.75849C11.7638 3.73642 11.756 3.71568 11.7487 3.69476C11.7447 3.68353 11.7428 3.67174 11.7381 3.6607C11.7282 3.63749 11.7156 3.616 11.7025 3.59431C11.6981 3.5867 11.6947 3.57833 11.6899 3.57091C11.6707 3.54256 11.649 3.51593 11.6249 3.49177L9.24876 1.11564C9.04444 0.911322 8.71342 0.911322 8.50891 1.11564C8.30459 1.31977 8.30459 1.65098 8.50891 1.85549L9.99223 3.339H4.15294C2.22978 3.339 0.665039 4.90374 0.665039 6.8269C0.665039 7.11588 0.899227 7.35007 1.1882 7.35007C1.47718 7.35007 1.71137 7.11588 1.71137 6.8269C1.71137 5.48037 2.80659 4.38514 4.15294 4.38514ZM12.2066 6.57445C11.9177 6.57445 11.6835 6.80864 11.6835 7.09762C11.6835 8.44396 10.5883 9.53919 9.24191 9.53919H3.40262L4.88632 8.05549C5.09064 7.85136 5.09064 7.52014 4.88632 7.31563C4.682 7.11112 4.35098 7.11131 4.14647 7.31563L1.76977 9.69233C1.74561 9.71649 1.72393 9.74312 1.70471 9.77147C1.70015 9.7787 1.69691 9.78669 1.69273 9.79392C1.6796 9.81561 1.66647 9.83748 1.65677 9.86126C1.6524 9.87211 1.6503 9.88371 1.64631 9.89475C1.63927 9.91586 1.63128 9.93679 1.62671 9.95905C1.61986 9.99291 1.61625 10.0273 1.61625 10.0625C1.61625 10.0977 1.61986 10.1322 1.62671 10.166C1.63109 10.1883 1.63908 10.2092 1.64631 10.2303C1.6503 10.2414 1.65221 10.253 1.65677 10.2638C1.66666 10.2874 1.6796 10.3093 1.69273 10.3312C1.69691 10.3384 1.70015 10.3464 1.70471 10.3536C1.72393 10.382 1.74561 10.4086 1.76977 10.4328L4.14609 12.8091C4.24825 12.9112 4.38199 12.9624 4.51592 12.9624C4.64985 12.9624 4.78359 12.9112 4.88575 12.8091C5.09007 12.6049 5.09007 12.2737 4.88575 12.0692L3.40243 10.5857H9.24172C11.1649 10.5857 12.7296 9.02097 12.7296 7.09781C12.7298 6.80864 12.4956 6.57445 12.2066 6.57445Z",fill:d}))))}d.propTypes={primaryTokenValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,primaryTokenDecimals:r.default.oneOfType([r.default.string,r.default.number]),primaryTokenSymbol:r.default.string.isRequired,secondaryTokenValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,secondaryTokenDecimals:r.default.oneOfType([r.default.string,r.default.number]),secondaryTokenSymbol:r.default.string.isRequired,className:r.default.string,arrowColor:r.default.string,boldSymbols:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\swaps\\exchange-rate-display\\exchange-rate-display.js"}],[4254,{"./exchange-rate-display":4253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./exchange-rate-display"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\exchange-rate-display\\index.js"}],[4255,{"../../../../shared/constants/metametrics":3263,"../../../../shared/constants/network":3264,"../../../components/app/transaction-detail-item/transaction-detail-item.component":3603,"../../../components/app/transaction-detail/transaction-detail.component":3605,"../../../components/ui/info-tooltip":3788,"../../../components/ui/typography":3871,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../helpers/constants/design-system":3902,"../../../selectors":4306,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=h(e("prop-types")),o=e("../../../contexts/i18n"),i=h(e("../../../components/ui/info-tooltip")),l=e("../../../../shared/constants/network"),c=h(e("../../../components/app/transaction-detail/transaction-detail.component")),u=h(e("../../../components/app/transaction-detail-item/transaction-detail-item.component")),d=h(e("../../../components/ui/typography")),f=e("../../../helpers/constants/design-system"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),g=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function E({primaryFee:e,secondaryFee:t,hideTokenApprovalRow:a,tokenApprovalSourceTokenSymbol:s,onTokenApprovalClick:h,metaMaskFee:_,numberOfQuotes:E,onQuotesClick:v,chainId:T,isBestQuote:b}){const w=(0,n.useContext)(o.I18nContext),y=(0,r.useSelector)(g.getUseCurrencyRateCheck),k=(0,n.useContext)(p.MetaMetricsContext),S=n.default.createElement("span",{key:"fee-card-approve-symbol",className:"fee-card__bold"},w("enableToken",[s]));return n.default.createElement("div",{className:"fee-card"},n.default.createElement("div",{className:"fee-card__main"},n.default.createElement(c.default,{disableEditGasFeeButton:!0,rows:[n.default.createElement(u.default,{key:"gas-item",detailTitle:n.default.createElement(n.default.Fragment,null,w("transactionDetailGasHeading"),n.default.createElement(i.default,{position:"top",contentText:n.default.createElement(n.default.Fragment,null,n.default.createElement("p",{className:"fee-card__info-tooltip-paragraph"},w("swapGasFeesSummary",[(()=>{switch(T){case l.CHAIN_IDS.MAINNET:return w("networkNameEthereum");case l.CHAIN_IDS.BSC:return w("networkNameBSC");case l.CHAIN_IDS.POLYGON:return w("networkNamePolygon");case l.CHAIN_IDS.LOCALHOST:return w("networkNameTestnet");case l.CHAIN_IDS.GOERLI:return w("networkNameGoerli");case l.CHAIN_IDS.AVALANCHE:return w("networkNameAvalanche");case l.CHAIN_IDS.OPTIMISM:return w("networkNameOptimism");case l.CHAIN_IDS.ARBITRUM:return w("networkNameArbitrum");default:throw new Error("This network is not supported for token swaps")}})()])),n.default.createElement("p",{className:"fee-card__info-tooltip-paragraph"},w("swapGasFeesDetails")),n.default.createElement("p",{className:"fee-card__info-tooltip-paragraph"},n.default.createElement("a",{className:"fee-card__link",onClick:()=>{k({event:'Clicked "Gas Fees: Learn More" Link',category:m.EVENT.CATEGORIES.SWAPS}),global.platform.openTab({url:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172"})},target:"_blank",rel:"noopener noreferrer"},w("swapGasFeesLearnMore")))),containerClassName:"fee-card__info-tooltip-content-container",wrapperClassName:"fee-card__row-label fee-card__info-tooltip-container"})),detailText:e.fee,detailTotal:y&&t.fee,subText:((null==t?void 0:t.maxFee)!==undefined||(null==e?void 0:e.maxFee)!==undefined)&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d.default,{as:"span",fontWeight:f.FONT_WEIGHT.BOLD,color:f.COLORS.TEXT_ALTERNATIVE,variant:f.TYPOGRAPHY.H7},w("maxFee")),y?`: ${t.maxFee}`:`: ${e.maxFee}`)})]}),!a&&n.default.createElement("div",{className:"fee-card__row-header"},n.default.createElement("div",{className:"fee-card__row-label"},n.default.createElement("div",{className:"fee-card__row-header-text"},w("swapEnableTokenForSwapping",[S]),n.default.createElement(i.default,{position:"top",contentText:w("swapEnableDescription",[s]),containerClassName:"fee-card__info-tooltip-container"}))),n.default.createElement("div",{className:"fee-card__link",onClick:()=>h()},w("swapEditLimit"))),n.default.createElement("div",{className:"fee-card__row-header"},n.default.createElement("div",{className:"fee-card__row-label"},n.default.createElement("div",{className:"fee-card__row-header-text"},E>1&&n.default.createElement("span",{onClick:v,className:"fee-card__quote-link-text"},w(b?"swapBestOfNQuotes":"swapNQuotesWithDot",[E])),w("swapIncludesMMFee",[_]),n.default.createElement(i.default,{position:"top",contentText:w("swapMetaMaskFeeDescription",[_]),wrapperClassName:"fee-card__info-tooltip-container"}))))))}E.propTypes={primaryFee:s.default.shape({fee:s.default.string.isRequired,maxFee:s.default.string.isRequired}).isRequired,secondaryFee:s.default.shape({fee:s.default.string.isRequired,maxFee:s.default.string.isRequired}),hideTokenApprovalRow:s.default.bool.isRequired,tokenApprovalSourceTokenSymbol:s.default.string,onTokenApprovalClick:s.default.func,metaMaskFee:s.default.string.isRequired,onQuotesClick:s.default.func.isRequired,numberOfQuotes:s.default.number.isRequired,chainId:s.default.string.isRequired,isBestQuote:s.default.bool}}}},{package:"$root$",file:"ui\\pages\\swaps\\fee-card\\fee-card.js"}],[4256,{"./fee-card":4255},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./fee-card"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\fee-card\\index.js"}],[4257,{"../../../components/ui/actionable-message/actionable-message":3705,"../../../components/ui/box":3709,"../../../components/ui/button":3713,"../../../components/ui/popover":3831,"../../../components/ui/typography":3871,"../../../components/ui/url-icon":3876,"../../../contexts/i18n":3879,"../../../helpers/constants/design-system":3902,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=p(e("prop-types")),s=e("../../../contexts/i18n"),o=p(e("../../../components/ui/url-icon")),i=p(e("../../../components/ui/popover")),l=p(e("../../../components/ui/button")),c=p(e("../../../components/ui/box")),u=p(e("../../../components/ui/typography")),d=p(e("../../../components/ui/actionable-message/actionable-message")),f=e("../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function g({onImportTokenCloseClick:e,onImportTokenClick:t,setIsImportTokenModalOpen:a,tokenForImport:r}){const p=(0,n.useContext)(s.I18nContext),m=n.default.createElement(n.default.Fragment,null,n.default.createElement(l.default,{type:"secondary",className:"page-container__footer-button",onClick:e},p("cancel")),n.default.createElement(l.default,{type:"primary",className:"page-container__footer-button",onClick:t,"data-testid":"page-container__import-button"},p("import")));return n.default.createElement(i.default,{title:p("importTokenQuestion"),onClose:()=>a(!1),footer:m},n.default.createElement(c.default,{paddingRight:6,paddingBottom:4,paddingLeft:4,alignItems:f.ALIGN_ITEMS.CENTER,display:f.DISPLAY.FLEX,className:"import-token"},n.default.createElement(d.default,{type:"danger",message:p("importTokenWarning")}),n.default.createElement(o.default,{url:r.iconUrl,className:"import-token__token-icon",fallbackClassName:"import-token__token-icon",name:r.symbol}),n.default.createElement(u.default,{ariant:f.TYPOGRAPHY.H4,fontWeight:f.FONT_WEIGHT.BOLD,boxProps:{marginTop:2,marginBottom:3}},r.name||""),n.default.createElement(u.default,{variant:f.TYPOGRAPHY.H6},p("contract"),":"),n.default.createElement(u.default,{className:"import-token__contract-address",variant:f.TYPOGRAPHY.H7,boxProps:{marginBottom:6}},r.address||"")))}g.propTypes={onImportTokenCloseClick:r.default.func,onImportTokenClick:r.default.func,setIsImportTokenModalOpen:r.default.func,tokenForImport:r.default.object}}}},{package:"$root$",file:"ui\\pages\\swaps\\import-token\\import-token.js"}],[4258,{"./import-token":4257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./import-token"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\import-token\\index.js"}],[4259,{"../../../shared/constants/metametrics":3263,"../../../shared/constants/swaps":3268,"../../../shared/constants/transaction":3271,"../../../shared/lib/transactions-controller-utils":3279,"../../contexts/i18n":3879,"../../contexts/metametrics":3880,"../../ducks/swaps/swaps":3898,"../../helpers/constants/routes":3906,"../../helpers/higher-order-components/feature-toggled-route":3913,"../../hooks/useGasFeeEstimates":3960,"../../selectors":4306,"../../selectors/selectors":4309,"../../store/actions":4313,"./awaiting-signatures":4235,"./awaiting-swap":4238,"./build-quote":4243,"./loading-swaps-quotes":4261,"./smart-transaction-status":4282,"./swaps.util":4290,"./view-quote":4293,lodash:2730,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,N;const O=(0,n.useContext)(i.I18nContext),R=(0,s.useHistory)(),P=(0,r.useDispatch)(),x=(0,n.useContext)(E.MetaMetricsContext),{pathname:I}=(0,s.useLocation)(),A=I===d.AWAITING_SWAP_ROUTE,M=I===d.AWAITING_SIGNATURES_ROUTE,D=I===d.SWAPS_ERROR_ROUTE,L=I===d.LOADING_QUOTES_ROUTE,j=I===d.SMART_TRANSACTION_STATUS_ROUTE,F=I===d.VIEW_QUOTE_ROUTE,[U,W]=(0,n.useState)(!1),q=(0,r.useSelector)(c.getFetchParams,o.isEqual),{destinationTokenInfo:G={}}=(null==q?void 0:q.metaData)||{},H=(0,r.useSelector)(c.getBackgroundSwapRouteState),B=(0,r.useSelector)(l.getSelectedAccount,r.shallowEqual),$=(0,r.useSelector)(c.getQuotes,o.isEqual),V=(0,r.useSelector)(u.currentNetworkTxListSelector,r.shallowEqual),Y=(0,r.useSelector)(c.getTradeTxId),K=(0,r.useSelector)(c.getApproveTxId),Q=(0,r.useSelector)(c.getAggregatorMetadata,r.shallowEqual),X=(0,r.useSelector)(c.getFetchingQuotes);let Z=(0,r.useSelector)(c.getSwapsErrorKey);const z=(0,r.useSelector)(c.getSwapsFeatureIsLive),J=(0,r.useSelector)(l.getCurrentChainId),ee=(0,r.useSelector)(l.getIsSwapsChain),te=(0,r.useSelector)(u.checkNetworkAndAccountSupports1559),ae=(0,r.useSelector)(l.getTokenList,o.isEqual),ne=(0,o.shuffle)(Object.values(ae)),re=(0,r.useSelector)(c.getReviewSwapClickedTimestamp),se=(0,r.useSelector)(c.getPendingSmartTransactions),oe=Boolean(re),ie=(0,r.useSelector)(c.getSmartTransactionsOptInStatus),le=(0,r.useSelector)(c.getSmartTransactionsEnabled),ce=(0,r.useSelector)(c.getCurrentSmartTransactionsEnabled),ue=(0,r.useSelector)(c.getCurrentSmartTransactionsError);(0,n.useEffect)((()=>{ee||(async()=>{await P((0,c.prepareToLeaveSwaps)()),R.push(d.DEFAULT_ROUTE)})()}),[ee,P,R]),(0,m.useGasFeeEstimates)();const{balance:de,address:fe}=B,{destinationTokenAddedForSwap:pe}=q||{},me=K&&V.find((({id:e})=>K===e)),ge=Y&&V.find((({id:e})=>Y===e)),he=(null==ge?void 0:ge.txReceipt)&&(0,v.getSwapsTokensReceivedFromTxMeta)(null==G?void 0:G.symbol,ge,null==G?void 0:G.address,fe,null==G?void 0:G.decimals,me,J),_e=(null==ge?void 0:ge.status)===_.TransactionStatus.confirmed,Ee=(null==me?void 0:me.status)===_.TransactionStatus.failed||"0x0"===(null==me||null===(e=me.txReceipt)||void 0===e?void 0:e.status),ve=(null==ge?void 0:ge.status)===_.TransactionStatus.failed||"0x0"===(null==ge||null===(t=ge.txReceipt)||void 0===t?void 0:t.status),Te=Ee||ve;Te&&Z!==f.CONTRACT_DATA_DISABLED_ERROR&&(Z=f.SWAP_FAILED_ERROR);const be=(0,n.useRef)();(0,n.useEffect)((()=>{be.current=()=>{!pe||A&&!Te||P((0,p.ignoreTokens)({tokensToIgnore:null==G?void 0:G.address,dontShowLoadingIndicator:!0}))}}),[Te,P,pe,G,q,A]),(0,n.useEffect)((()=>()=>{be.current()}),[]),(0,n.useEffect)((()=>ee?((0,T.fetchTokens)(J).then((e=>{P((0,p.setSwapsTokens)(e))})).catch((e=>console.error(e))),(0,T.fetchTopAssets)(J).then((e=>{P((0,c.setTopAssets)(e))})),(0,T.fetchAggregatorMetadata)(J).then((e=>{P((0,c.setAggregatorMetadata)(e))})),te||P((0,c.fetchAndSetSwapsGasPriceInfo)(J)),()=>{P((0,c.prepareToLeaveSwaps)())}):undefined),[P,J,te,ee]);const we=(0,r.useSelector)(l.isHardwareWallet),ye=(0,r.useSelector)(l.getHardwareWalletType),ke=(0,n.useRef)();(0,n.useEffect)((()=>{ke.current=()=>{var e,t;x({event:"Exited Swaps",category:h.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{token_from:null==q||null===(e=q.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==q?void 0:q.value,request_type:null==q?void 0:q.balanceError,token_to:null==q||null===(t=q.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==q?void 0:q.slippage,custom_slippage:2!==(null==q?void 0:q.slippage),current_screen:I.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:we,hardware_wallet_type:ye,stx_enabled:le,current_stx_enabled:ce,stx_user_opt_in:ie}})}})),(0,n.useEffect)((()=>((async()=>{await P((0,c.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{ke.current()})),[P]),(0,n.useEffect)((()=>{Z&&!D&&oe&&R.push(d.SWAPS_ERROR_ROUTE)}),[R,Z,D,oe]);const Se=(0,n.useRef)();(0,n.useEffect)((()=>{const e=()=>(be.current(),L&&P((0,c.prepareToLeaveSwaps)()),null);return L&&!Se.current&&(Se.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)}),[P,L]);const Ce=(0,n.useCallback)((()=>{var e,t;x({event:"Error Smart Transactions",category:h.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{token_from:null==q||null===(e=q.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==q?void 0:q.value,request_type:null==q?void 0:q.balanceError,token_to:null==q||null===(t=q.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==q?void 0:q.slippage,custom_slippage:2!==(null==q?void 0:q.slippage),current_screen:I.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:we,hardware_wallet_type:ye,stx_enabled:le,current_stx_enabled:ce,stx_user_opt_in:ie,stx_error:ue}})}),[ue,ce,x,null==q?void 0:q.balanceError,null==q||null===(a=q.destinationTokenInfo)||void 0===a?void 0:a.symbol,null==q?void 0:q.slippage,null==q||null===(N=q.sourceTokenInfo)||void 0===N?void 0:N.symbol,null==q?void 0:q.value,ye,we,I,le,ie]);if((0,n.useEffect)((()=>{ue&&!U&&(W(!0),Ce())}),[ue,Ce,U]),!ee)return n.default.createElement(n.default.Fragment,null);return n.default.createElement("div",{className:"swaps"},n.default.createElement("div",{className:"swaps__container"},n.default.createElement("div",{className:"swaps__header"},n.default.createElement("div",{className:"swaps__header-edit",onClick:async()=>{await P((0,c.navigateBackToBuildQuote)(R))}},F&&O("edit")),n.default.createElement("div",{className:"swaps__title"},O("swap")),n.default.createElement("div",{className:"swaps__header-cancel",onClick:async()=>{be.current(),P((0,c.clearSwapsState)()),await P((0,p.resetBackgroundSwapsState)()),R.push(d.DEFAULT_ROUTE)}},!A&&!M&&!j&&O("cancel"))),n.default.createElement("div",{className:"swaps__content"},n.default.createElement(s.Switch,null,n.default.createElement(g.default,{redirectRoute:d.SWAPS_MAINTENANCE_ROUTE,flag:z,path:d.BUILD_QUOTE_ROUTE,exact:!0,render:()=>ge&&!Te?n.default.createElement(s.Redirect,{to:{pathname:d.AWAITING_SWAP_ROUTE}}):ge&&H?n.default.createElement(s.Redirect,{to:{pathname:d.SWAPS_ERROR_ROUTE}}):"loading"===H&&Q?n.default.createElement(s.Redirect,{to:{pathname:d.LOADING_QUOTES_ROUTE}}):n.default.createElement(S.default,{ethBalance:de,selectedAccountAddress:fe,shuffledTokensList:ne})}),n.default.createElement(g.default,{redirectRoute:d.SWAPS_MAINTENANCE_ROUTE,flag:z,path:d.VIEW_QUOTE_ROUTE,exact:!0,render:()=>se.length>0&&"smartTransactionStatus"===H?n.default.createElement(s.Redirect,{to:{pathname:d.SMART_TRANSACTION_STATUS_ROUTE}}):Object.values($).length?n.default.createElement(C.default,{numberOfQuotes:Object.values($).length}):q?n.default.createElement(s.Redirect,{to:{pathname:d.SWAPS_ERROR_ROUTE}}):n.default.createElement(s.Redirect,{to:{pathname:d.BUILD_QUOTE_ROUTE}})}),n.default.createElement(s.Route,{path:d.SWAPS_ERROR_ROUTE,exact:!0,render:()=>Z?n.default.createElement(y.default,{swapComplete:!1,errorKey:Z,txHash:null==ge?void 0:ge.hash,txId:null==ge?void 0:ge.id,submittedTime:null==ge?void 0:ge.submittedTime}):n.default.createElement(s.Redirect,{to:{pathname:d.BUILD_QUOTE_ROUTE}})}),n.default.createElement(g.default,{redirectRoute:d.SWAPS_MAINTENANCE_ROUTE,flag:z,path:d.LOADING_QUOTES_ROUTE,exact:!0,render:()=>Q?n.default.createElement(k.default,{loadingComplete:!X&&Boolean(Object.values($).length),onDone:async()=>{await P((0,p.setBackgroundSwapRouteState)("")),Z===f.ERROR_FETCHING_QUOTES||Z===f.QUOTES_NOT_AVAILABLE_ERROR?(P((0,p.setSwapsErrorKey)(f.QUOTES_NOT_AVAILABLE_ERROR)),R.push(d.SWAPS_ERROR_ROUTE)):R.push(d.VIEW_QUOTE_ROUTE)},aggregatorMetadata:Q}):n.default.createElement(s.Redirect,{to:{pathname:d.BUILD_QUOTE_ROUTE}})}),n.default.createElement(s.Route,{path:d.SWAPS_MAINTENANCE_ROUTE,exact:!0,render:()=>!1===z?n.default.createElement(y.default,{errorKey:f.OFFLINE_FOR_MAINTENANCE}):n.default.createElement(s.Redirect,{to:{pathname:d.BUILD_QUOTE_ROUTE}})}),n.default.createElement(s.Route,{path:d.AWAITING_SIGNATURES_ROUTE,exact:!0,render:()=>n.default.createElement(b.default,null)}),n.default.createElement(s.Route,{path:d.SMART_TRANSACTION_STATUS_ROUTE,exact:!0,render:()=>n.default.createElement(w.default,{txId:null==ge?void 0:ge.id})}),n.default.createElement(s.Route,{path:d.AWAITING_SWAP_ROUTE,exact:!0,render:()=>"awaiting"===H||ge?n.default.createElement(y.default,{swapComplete:_e,txHash:null==ge?void 0:ge.hash,tokensReceived:he,txId:null==ge?void 0:ge.id,submittingSwap:"awaiting"===H&&!(K||Y)}):n.default.createElement(s.Redirect,{to:{pathname:d.DEFAULT_ROUTE}})})))))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=e("lodash"),i=e("../../contexts/i18n"),l=e("../../selectors/selectors"),c=e("../../ducks/swaps/swaps"),u=e("../../selectors"),d=e("../../helpers/constants/routes"),f=e("../../../shared/constants/swaps"),p=e("../../store/actions"),m=e("../../hooks/useGasFeeEstimates"),g=N(e("../../helpers/higher-order-components/feature-toggled-route")),h=e("../../../shared/constants/metametrics"),_=e("../../../shared/constants/transaction"),E=e("../../contexts/metametrics"),v=e("../../../shared/lib/transactions-controller-utils"),T=e("./swaps.util"),b=N(e("./awaiting-signatures")),w=N(e("./smart-transaction-status")),y=N(e("./awaiting-swap")),k=N(e("./loading-swaps-quotes")),S=N(e("./build-quote")),C=N(e("./view-quote"));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui\\pages\\swaps\\index.js"}],[4260,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"loading-swaps-quotes__background-1"},r.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),r.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),r.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),r.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),r.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),r.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),r.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),r.default.createElement("div",{className:"loading-swaps-quotes__background-2"},r.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),r.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),r.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),r.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),r.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),r.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),r.default.createElement("defs",null,r.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#FFE466"}),r.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),r.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},r.default.createElement("stop",{stopColor:"#75C3FC"}),r.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),r.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\loading-swaps-quotes\\background-animation.js"}],[4261,{"./loading-swaps-quotes":4262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./loading-swaps-quotes"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\loading-swaps-quotes\\index.js"}],[4262,{"../../../../shared/constants/metametrics":3263,"../../../components/ui/mascot":3811,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/swaps/swaps":3898,"../../../selectors/selectors":4309,"../swaps-footer":4288,"./background-animation":4260,events:1740,lodash:2730,"lodash/isEqual":2715,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=T;var n=v(e("events")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),s=e("react-redux"),o=v(e("prop-types")),i=e("lodash"),l=e("react-router-dom"),c=v(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),f=e("../../../contexts/i18n"),p=e("../../../contexts/metametrics"),m=v(e("../../../components/ui/mascot")),g=e("../../../../shared/constants/metametrics"),h=v(e("../swaps-footer")),_=v(e("./background-animation"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function T({aggregatorMetadata:e,loadingComplete:t,onDone:a}){var o,E;const v=(0,r.useContext)(f.I18nContext),T=(0,r.useContext)(p.MetaMetricsContext),b=(0,s.useDispatch)(),w=(0,l.useHistory)(),y=(0,r.useRef)(new n.default),k=(0,s.useSelector)(u.getFetchParams,c.default),S=(0,s.useSelector)(u.getQuotesFetchStartTime),C=(0,s.useSelector)(d.isHardwareWallet),N=(0,s.useSelector)(d.getHardwareWalletType),O=(0,s.useSelector)(u.getSmartTransactionsOptInStatus),R=(0,s.useSelector)(u.getSmartTransactionsEnabled),P=(0,s.useSelector)(u.getCurrentSmartTransactionsEnabled),x={event:"Quotes Request Cancelled",category:g.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{token_from:null==k||null===(o=k.sourceTokenInfo)||void 0===o?void 0:o.symbol,token_from_amount:null==k?void 0:k.value,request_type:null==k?void 0:k.balanceError,token_to:null==k||null===(E=k.destinationTokenInfo)||void 0===E?void 0:E.symbol,slippage:null==k?void 0:k.slippage,custom_slippage:2!==(null==k?void 0:k.slippage),response_time:Date.now()-S,is_hardware_wallet:C,hardware_wallet_type:N,stx_enabled:R,current_stx_enabled:P,stx_user_opt_in:O}},[I]=(0,r.useState)((()=>(0,i.shuffle)(Object.keys(e)))),A=I.length,M=(0,r.useRef)(),D=M.current,[L,j]=(0,r.useState)(0),[F,U]=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const n=setTimeout((()=>{L<A?j(L+1):L===A&&t&&a()}),e);return function(){clearTimeout(n)}}),[L,t,a,A]),(0,r.useEffect)((()=>{if(D){const{top:e,left:t,width:a,height:n}=D.getBoundingClientRect();U({x:t+a/2,y:e+n/2})}}),[D]),r.default.createElement("div",{className:"loading-swaps-quotes"},r.default.createElement("div",{className:"loading-swaps-quotes__content"},r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"loading-swaps-quotes__quote-counter"},r.default.createElement("span",null,v("swapFetchingQuoteNofN",[Math.min(L+1,A),A]))),r.default.createElement("div",{className:"loading-swaps-quotes__quote-name-check"},r.default.createElement("span",null,v("swapFetchingQuotes"))),r.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},r.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/A*L+"%"}}))),r.default.createElement("div",{className:"loading-swaps-quotes__animation"},r.default.createElement(_.default,null),r.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:M},r.default.createElement(m.default,{animationEventEmitter:y.current,width:"90",height:"90",lookAtTarget:F})))),r.default.createElement(h.default,{submitText:v("back"),onSubmit:async()=>{T(x),await b((0,u.navigateBackToBuildQuote)(w))},hideCancel:!0}))}T.propTypes={loadingComplete:o.default.bool.isRequired,onDone:o.default.func.isRequired,aggregatorMetadata:o.default.objectOf(o.default.shape({title:o.default.string,color:o.default.string,icon:o.default.string}))}}}},{package:"$root$",file:"ui\\pages\\swaps\\loading-swaps-quotes\\loading-swaps-quotes.js"}],[4263,{"./main-quote-summary":4264},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./main-quote-summary"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\main-quote-summary\\index.js"}],[4264,{"../../../../shared/lib/transactions-controller-utils":3279,"../../../components/ui/tooltip":3867,"../../../components/ui/url-icon":3876,"../exchange-rate-display":4254,"../swaps.util":4290,"bignumber.js":1650,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var n=d(e("react")),r=d(e("prop-types")),s=d(e("bignumber.js")),o=d(e("../../../components/ui/tooltip")),i=d(e("../../../components/ui/url-icon")),l=d(e("../exchange-rate-display")),c=e("../swaps.util"),u=e("../../../../shared/lib/transactions-controller-utils");function d(e){return e&&e.__esModule?e:{default:e}}function f({sourceValue:e,sourceSymbol:t,sourceDecimals:a,sourceIconUrl:r,destinationValue:s,destinationSymbol:d,destinationDecimals:f,destinationIconUrl:p}){const m=(0,u.toPrecisionWithoutTrailingZeros)((0,u.calcTokenAmount)(e,a).toString(10),12),g=(0,u.calcTokenAmount)(s,f),h=(0,c.formatSwapsValueForDisplay)(g),_=h.match(/\d+/gu).join("").length,[E,v]=(T=_)<=9?[50,48]:T<=13?[40,32]:[26,15];var T;let b=h;return _>20&&(b=`${h.slice(0,20)}...`),n.default.createElement("div",{className:"main-quote-summary"},n.default.createElement("div",{className:"main-quote-summary__details"},n.default.createElement("div",{className:"main-quote-summary__quote-details-top"},n.default.createElement("div",{className:"main-quote-summary__source-row","data-testid":"main-quote-summary__source-row"},n.default.createElement("span",{className:"main-quote-summary__source-row-value",title:(0,c.formatSwapsValueForDisplay)(m)},(0,c.formatSwapsValueForDisplay)(m)),n.default.createElement(i.default,{url:r,className:"main-quote-summary__icon",name:t,fallbackClassName:"main-quote-summary__icon-fallback"}),n.default.createElement("span",{className:"main-quote-summary__source-row-symbol",title:t},t)),n.default.createElement("i",{className:"fa fa-arrow-down main-quote-summary__down-arrow"}),n.default.createElement("div",{className:"main-quote-summary__destination-row"},n.default.createElement(i.default,{url:p,className:"main-quote-summary__icon",name:d,fallbackClassName:"main-quote-summary__icon-fallback"}),n.default.createElement("span",{className:"main-quote-summary__destination-row-symbol"},d)),n.default.createElement("div",{className:"main-quote-summary__quote-large"},n.default.createElement(o.default,{interactive:!0,position:"bottom",html:h,disabled:b===h},n.default.createElement("span",{className:"main-quote-summary__quote-large-number",style:{fontSize:E,lineHeight:`${v}px`}},`${b}`)))),n.default.createElement("div",{className:"main-quote-summary__exchange-rate-container","data-testid":"main-quote-summary__exchange-rate-container"},n.default.createElement(l.default,{primaryTokenValue:e,primaryTokenDecimals:a,primaryTokenSymbol:t,secondaryTokenValue:s,secondaryTokenDecimals:f,secondaryTokenSymbol:d,arrowColor:"var(--color-primary-default)",boldSymbols:!1,className:"main-quote-summary__exchange-rate-display"}))))}f.propTypes={sourceValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,sourceDecimals:r.default.oneOfType([r.default.string,r.default.number]),sourceSymbol:r.default.string.isRequired,destinationValue:r.default.oneOfType([r.default.string,r.default.instanceOf(s.default)]).isRequired,destinationDecimals:r.default.oneOfType([r.default.string,r.default.number]),destinationSymbol:r.default.string.isRequired,sourceIconUrl:r.default.string,destinationIconUrl:r.default.string}}}},{package:"$root$",file:"ui\\pages\\swaps\\main-quote-summary\\main-quote-summary.js"}],[4265,{"./searchable-item-list":4270},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./searchable-item-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\searchable-item-list\\index.js"}],[4266,{"./item-list.component":4267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./item-list.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\searchable-item-list\\item-list\\index.js"}],[4267,{"../../../../../shared/constants/metametrics":3263,"../../../../../shared/constants/swaps":3268,"../../../../components/ui/actionable-message/actionable-message":3705,"../../../../components/ui/button":3713,"../../../../components/ui/identicon":3787,"../../../../components/ui/url-icon":3876,"../../../../contexts/i18n":3879,"../../../../contexts/metametrics":3880,"../../../../helpers/utils/util":3941,"../../../../selectors":4306,classnames:1775,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=v;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=_(e("prop-types")),o=_(e("classnames")),i=_(e("../../../../components/ui/identicon")),l=_(e("../../../../components/ui/url-icon")),c=_(e("../../../../components/ui/button")),u=_(e("../../../../components/ui/actionable-message/actionable-message")),d=e("../../../../contexts/i18n"),f=e("../../../../selectors"),p=e("../../../../../shared/constants/metametrics"),m=e("../../../../../shared/constants/swaps"),g=e("../../../../helpers/utils/util"),h=e("../../../../contexts/metametrics");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function v({results:e=[],onClickItem:t,onOpenImportTokenModalClick:a,Placeholder:s,listTitle:_,maxListItems:E=6,searchQuery:v="",containerRef:T,hideRightLabels:b,hideItemIf:w,listContainerClassName:y}){var k,S;const C=(0,n.useContext)(d.I18nContext),N=(0,r.useSelector)(f.getCurrentChainId),O=null!==(k=null!==(S=(0,r.useSelector)(f.getRpcPrefsForCurrentProvider).blockExplorerUrl)&&void 0!==S?S:m.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[N])&&void 0!==k?k:null,R=(0,r.useSelector)(f.getUseCurrencyRateCheck),P=(0,g.getURLHostName)(O),x=(0,n.useContext)(h.MetaMetricsContext),I=1===e.length&&e[0].notImported,A=s?n.default.createElement(s,{searchQuery:v}):null;return 0===e.length?A:n.default.createElement("div",{className:"searchable-item-list"},_?n.default.createElement("div",{className:"searchable-item-list__title"},_):null,n.default.createElement("div",{className:(0,o.default)("searchable-item-list__list-container",y),ref:T},e.slice(0,E).map(((e,r)=>{if(null!=w&&w(e))return null;const s=()=>{e.notImported?a(e):null==t||t(e)},{iconUrl:u,identiconAddress:d,selected:f,disabled:p,primaryLabel:m,secondaryLabel:g,rightPrimaryLabel:h,rightSecondaryLabel:_,IconComponent:E}=e;return n.default.createElement("div",{tabIndex:"0",className:(0,o.default)("searchable-item-list__item",{"searchable-item-list__item--selected":f,"searchable-item-list__item--disabled":p}),"data-testid":"searchable-item-list__item",onClick:s,onKeyUp:e=>"Enter"===e.key&&s(),key:`searchable-item-list-item-${r}`},u||m?n.default.createElement(l.default,{url:u,name:m}):null,u||m||!d?null:n.default.createElement("div",{className:"searchable-item-list__identicon"},n.default.createElement(i.default,{address:d,diameter:24})),E?n.default.createElement(E,null):null,n.default.createElement("div",{className:"searchable-item-list__labels"},n.default.createElement("div",{className:"searchable-item-list__item-labels"},m?n.default.createElement("span",{className:"searchable-item-list__primary-label"},m):null,g?n.default.createElement("span",{className:"searchable-item-list__secondary-label"},g):null),b||!h&&!_?null:n.default.createElement("div",{className:"searchable-item-list__right-labels"},h?n.default.createElement("span",{className:"searchable-item-list__right-primary-label"},h):null,_&&R?n.default.createElement("span",{className:"searchable-item-list__right-secondary-label"},_):null)),e.notImported&&n.default.createElement(c.default,{type:"primary",onClick:s},C("import")))})),!I&&O&&n.default.createElement("div",{tabIndex:"0",className:"searchable-item-list__item searchable-item-list__item--add-token",key:"searchable-item-list-item-last"},n.default.createElement(u.default,{message:C("addCustomTokenByContractAddress",[n.default.createElement("a",{key:"searchable-item-list__etherscan-link",onClick:()=>{x({event:"Clicked Block Explorer Link",category:p.EVENT.CATEGORIES.SWAPS,properties:{link_type:"Token Tracker",action:"Verify Contract Address",block_explorer_domain:P}}),global.platform.openTab({url:O})},target:"_blank",rel:"noopener noreferrer"},P)])}))))}v.propTypes={results:s.default.arrayOf(s.default.shape({iconUrl:s.default.string,selected:s.default.bool,disabled:s.default.bool,primaryLabel:s.default.string,secondaryLabel:s.default.string,rightPrimaryLabel:s.default.string,rightSecondaryLabel:s.default.string})),onClickItem:s.default.func,onOpenImportTokenModalClick:s.default.func,Placeholder:s.default.func,listTitle:s.default.string,maxListItems:s.default.number,searchQuery:s.default.string,containerRef:s.default.shape({current:s.default.instanceOf(window.Element)}),hideRightLabels:s.default.bool,hideItemIf:s.default.func,listContainerClassName:s.default.string}}}},{package:"$root$",file:"ui\\pages\\swaps\\searchable-item-list\\item-list\\item-list.component.js"}],[4268,{"./list-item-search.component":4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./list-item-search.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\searchable-item-list\\list-item-search\\index.js"}],[4269,{"../../../../../shared/modules/hexstring-utils":3288,"../../../../components/ui/icon/search-icon":3777,"../../../../components/ui/text-field":3857,"../../../../hooks/usePrevious":3964,"../../../../selectors/selectors":4309,"../../swaps.util":4290,"@material-ui/core/InputAdornment":627,"fuse.js":2272,loglevel:2745,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=g(e("prop-types")),o=g(e("fuse.js")),i=g(e("loglevel")),l=g(e("@material-ui/core/InputAdornment")),c=g(e("../../../../components/ui/text-field")),u=e("../../../../hooks/usePrevious"),d=e("../../../../../shared/modules/hexstring-utils"),f=e("../../swaps.util"),p=e("../../../../selectors/selectors"),m=g(e("../../../../components/ui/icon/search-icon"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}let _;function E({onSearch:e,error:t,listToSearch:a=[],fuseSearchKeys:s,searchPlaceholderText:g,defaultToAll:h,shouldSearchForImports:E,searchQuery:v,setSearchQuery:T}){const b=(0,n.useRef)(),w=(0,r.useSelector)(p.getCurrentChainId),y=async t=>{T(t),_&&clearTimeout(_),_=setTimeout((async()=>{_=null;const n=t.trim(),r=(0,d.isValidHexAddress)(n),s=b.current.search(t),o=h&&""===t?a:s;E&&0===o.length&&r?await(async t=>{try{const a=await(0,f.fetchToken)(t,w);if(a)return a.primaryLabel=a.symbol,a.secondaryLabel=a.name,a.notImported=!0,void e({searchQuery:t,results:[a]})}catch(e){i.default.error("Token not found, show 0 results.",e)}e({searchQuery:t,results:[]})})(n):e({searchQuery:t,results:o})}),350)};(0,n.useEffect)((()=>()=>clearTimeout(_)),[]),(0,n.useEffect)((()=>{b.current||(b.current=new o.default(a,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:s}))}),[s,a]);const k=(0,u.usePrevious)(null!=a?a:[]);return(0,n.useEffect)((()=>{if(b.current&&v&&k!==a){b.current.setCollection(a);const t=b.current.search(v);e({searchQuery:v,results:t})}}),[a,v,e,k]),n.default.createElement(c.default,{"data-testid":"search-list-items",className:"searchable-item-list__search",placeholder:g,type:"text",value:v,onChange:e=>y(e.target.value),error:t,fullWidth:!0,startAdornment:n.default.createElement(l.default,{position:"start",style:{marginRight:"12px"}},n.default.createElement(m.default,{size:20,color:"var(--color-icon-muted)"})),autoComplete:"off",autoFocus:!0})}E.propTypes={onSearch:s.default.func,error:s.default.string,listToSearch:s.default.array.isRequired,fuseSearchKeys:s.default.arrayOf(s.default.object).isRequired,searchPlaceholderText:s.default.string,defaultToAll:s.default.bool,shouldSearchForImports:s.default.bool,searchQuery:s.default.string,setSearchQuery:s.default.func}}}},{package:"$root$",file:"ui\\pages\\swaps\\searchable-item-list\\list-item-search\\list-item-search.component.js"}],[4270,{"./item-list":4266,"./list-item-search":4268,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=c;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=i(e("prop-types")),s=i(e("./item-list")),o=i(e("./list-item-search"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function c({className:e,defaultToAll:t,fuseSearchKeys:a,itemSelectorError:r,itemsToSearch:i=[],listTitle:l,maxListItems:c,onClickItem:u,onOpenImportTokenModalClick:d,Placeholder:f,searchPlaceholderText:p,hideRightLabels:m,hideItemIf:g,listContainerClassName:h,shouldSearchForImports:_,searchQuery:E,setSearchQuery:v}){const T=(0,n.useRef)(),b=(0,n.useMemo)((()=>t?i:[]),[t,i]),[w,y]=(0,n.useState)(b);return(0,n.useEffect)((()=>{E||y(b)}),[b.length,E]),n.default.createElement("div",{className:e},n.default.createElement(o.default,{listToSearch:i,fuseSearchKeys:a,onSearch:({searchQuery:e="",results:t=[]})=>{v(e),y(t)},error:r,searchPlaceholderText:p,defaultToAll:t,shouldSearchForImports:_,searchQuery:E,setSearchQuery:v}),n.default.createElement(s.default,{searchQuery:E,results:w,onClickItem:u,onOpenImportTokenModalClick:d,Placeholder:f,listTitle:l,maxListItems:c,containerRef:T,hideRightLabels:m,hideItemIf:g,listContainerClassName:h}))}c.propTypes={itemSelectorError:r.default.string,itemsToSearch:r.default.array,onClickItem:r.default.func,onOpenImportTokenModalClick:r.default.func,Placeholder:r.default.func,className:r.default.string,searchPlaceholderText:r.default.string,fuseSearchKeys:r.default.arrayOf(r.default.shape({name:r.default.string,weight:r.default.number})),listTitle:r.default.string,defaultToAll:r.default.bool,maxListItems:r.default.number,hideRightLabels:r.default.bool,hideItemIf:r.default.func,listContainerClassName:r.default.string,shouldSearchForImports:r.default.bool,searchQuery:r.default.string,setSearchQuery:r.default.func}}}},{package:"$root$",file:"ui\\pages\\swaps\\searchable-item-list\\searchable-item-list.js"}],[4271,{"./select-quote-popover":4275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./select-quote-popover"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\index.js"}],[4272,{"./quote-details":4273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./quote-details"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\quote-details\\index.js"}],[4273,{"../../../../components/ui/info-tooltip":3788,"../../../../contexts/i18n":3879,"../../../../selectors":4306,"../../exchange-rate-display":4254,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=u(e("prop-types")),o=e("../../../../contexts/i18n"),i=u(e("../../../../components/ui/info-tooltip")),l=u(e("../../exchange-rate-display")),c=e("../../../../selectors");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const f=({slippage:e,sourceTokenValue:t,sourceTokenSymbol:a,destinationTokenValue:s,destinationTokenSymbol:u,liquiditySourceKey:d,minimumAmountReceived:f,feeInEth:p,networkFees:m,metaMaskFee:g,hideEstimatedGasFee:h})=>{const _=(0,n.useContext)(o.I18nContext),E=(0,r.useSelector)(c.getUseCurrencyRateCheck);return n.default.createElement("div",{className:"quote-details"},n.default.createElement("div",{className:"quote-details__row"},n.default.createElement("div",{className:"quote-details__detail-header"},_("swapRate")),n.default.createElement("div",{className:"quote-details__detail-content"},n.default.createElement(l.default,{primaryTokenValue:t,primaryTokenDecimals:1,primaryTokenSymbol:a,secondaryTokenValue:s,secondaryTokenDecimals:1,secondaryTokenSymbol:u}))),n.default.createElement("div",{className:"quote-details__row"},n.default.createElement("div",{className:"quote-details__detail-header"},_("swapMaxSlippage"),n.default.createElement(i.default,{position:"bottom",contentText:_("swapSlippageTooltip")})),n.default.createElement("div",{className:"quote-details__detail-content"},`${e}%`)),n.default.createElement("div",{className:"quote-details__row"},n.default.createElement("div",{className:"quote-details__detail-header"},_("swapAmountReceived"),n.default.createElement(i.default,{position:"bottom",contentText:_("swapAmountReceivedInfo")})),n.default.createElement("div",{className:"quote-details__detail-content"},n.default.createElement("span",null,f),n.default.createElement("span",{className:"quote-details__bold"},` ${u}`))),!h&&n.default.createElement("div",{className:"quote-details__row"},n.default.createElement("div",{className:"quote-details__detail-header"},_("swapEstimatedNetworkFees"),n.default.createElement(i.default,{position:"bottom",contentText:_("swapEstimatedNetworkFeesInfo")})),n.default.createElement("div",{className:"quote-details__detail-content"},n.default.createElement("span",null,p),n.default.createElement("span",{className:"quote-details__light-grey"},E&&` (${m})`))),n.default.createElement("div",{className:"quote-details__row"},n.default.createElement("div",{className:"quote-details__detail-header"},_("swapSource"),n.default.createElement(i.default,{position:"bottom",contentText:_("swapSourceInfo")})),n.default.createElement("div",{className:"quote-details__detail-content"},_(d))),n.default.createElement("div",{className:"quote-details__row quote-details__row--high"},n.default.createElement("div",{className:"quote-details__detail-header"},n.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"quote-details__metafox-logo",alt:""}),_("swapMetaMaskFee")),n.default.createElement("div",{className:"quote-details__detail-content"},_("swapMetaMaskFeeDescription",[g]))))};f.propTypes={slippage:s.default.number.isRequired,sourceTokenValue:s.default.string.isRequired,sourceTokenSymbol:s.default.string.isRequired,destinationTokenValue:s.default.string.isRequired,destinationTokenSymbol:s.default.string.isRequired,liquiditySourceKey:s.default.string.isRequired,minimumAmountReceived:s.default.string.isRequired,feeInEth:s.default.string.isRequired,networkFees:s.default.string.isRequired,metaMaskFee:s.default.number.isRequired,hideEstimatedGasFee:s.default.bool};var p=f;a.default=p}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\quote-details\\quote-details.js"}],[4274,{"prop-types":2833},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QUOTE_DATA_ROWS_PROPTYPES_SHAPE=void 0;var n,r=(n=e("prop-types"))&&n.__esModule?n:{default:n};const s=r.default.shape({aggId:r.default.string.isRequired,amountReceiving:r.default.string.isRequired,destinationTokenDecimals:r.default.number.isRequired,destinationTokenSymbol:r.default.string.isRequired,destinationTokenValue:r.default.string.isRequired,isBestQuote:r.default.bool,networkFees:r.default.string.isRequired,quoteSource:r.default.string.isRequired,rawNetworkFees:r.default.string.isRequired,slippage:r.default.number.isRequired,sourceTokenDecimals:r.default.number.isRequired,sourceTokenSymbol:r.default.string.isRequired,sourceTokenValue:r.default.string.isRequired});a.QUOTE_DATA_ROWS_PROPTYPES_SHAPE=s}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\select-quote-popover-constants.js"}],[4275,{"../../../components/ui/button":3713,"../../../components/ui/popover":3831,"../../../contexts/i18n":3879,"./quote-details":4272,"./select-quote-popover-constants":4274,"./sort-list":4276,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=d(e("prop-types")),s=e("../../../contexts/i18n"),o=d(e("../../../components/ui/popover")),i=d(e("../../../components/ui/button")),l=d(e("./quote-details")),c=d(e("./sort-list")),u=e("./select-quote-popover-constants");function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p.apply(this,arguments)}const m=({quoteDataRows:e=[],onClose:t=null,onSubmit:a=null,swapToSymbol:r,initialAggId:u,onQuoteDetailsIsOpened:d,hideEstimatedGasFee:f})=>{const m=(0,n.useContext)(s.I18nContext),[g,h]=(0,n.useState)(1),[_,E]=(0,n.useState)(null),[v,T]=(0,n.useState)(u),[b,w]=(0,n.useState)("sortList"),[y,k]=(0,n.useState)(null),S=(0,n.useCallback)((()=>{a(v),t()}),[v,t,a]),C=(0,n.useCallback)((()=>{k(null),w("sortList")}),[]),N=(0,n.useCallback)((e=>T(e)),[T]),O=(0,n.useCallback)((t=>{const a=e.find((e=>e.aggId===t));w("quoteDetails"),d(),k(a)}),[e,d]),R=(0,n.useCallback)((()=>n.default.createElement("div",{className:"select-quote-popover__popover-bg",onClick:t})),[t]),P=n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{type:"secondary",className:"page-container__footer-button select-quote-popover__button",onClick:t},m("close")),n.default.createElement(i.default,{type:"primary",className:"page-container__footer-button select-quote-popover__button",onClick:S},m("swapSelect")));return n.default.createElement("div",{className:"select-quote-popover"},n.default.createElement(o.default,{title:m("quoteDetails"===b?"swapSelectAQuote":"swapQuoteDetails"),subtitle:"sortList"===b?m("swapSelectQuotePopoverDescription"):null,onClose:t,CustomBackground:R,className:"select-quote-popover__popover-wrap",footerClassName:"swaps__footer",footer:"quoteDetails"===b?null:P,onBack:"quoteDetails"===b?C:null},"sortList"===b&&n.default.createElement(c.default,{quoteDataRows:e,selectedAggId:v,onSelect:N,onCaretClick:O,swapToSymbol:r,sortDirection:g,setSortDirection:h,sortColumn:_,setSortColumn:E,hideEstimatedGasFee:f}),"quoteDetails"===b&&y&&n.default.createElement(l.default,p({},y,{hideEstimatedGasFee:f}))))};m.propTypes={onClose:r.default.func,onSubmit:r.default.func,swapToSymbol:r.default.string,quoteDataRows:r.default.arrayOf(u.QUOTE_DATA_ROWS_PROPTYPES_SHAPE),initialAggId:r.default.string,onQuoteDetailsIsOpened:r.default.func,hideEstimatedGasFee:r.default.bool.isRequired};var g=m;a.default=g}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\select-quote-popover.js"}],[4276,{"./sort-list":4277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./sort-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\sort-list\\index.js"}],[4277,{"../../../../components/ui/icon/sun-check-icon.component":3780,"../../../../components/ui/info-tooltip":3788,"../../../../contexts/i18n":3879,"../../../../selectors":4306,"../select-quote-popover-constants":4274,"bignumber.js":1650,classnames:1775,"prop-types":2833,react:3032,"react-redux":2985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=h;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=p(e("prop-types")),o=p(e("classnames")),i=p(e("bignumber.js")),l=p(e("../../../../components/ui/icon/sun-check-icon.component")),c=e("../../../../contexts/i18n"),u=e("../select-quote-popover-constants"),d=p(e("../../../../components/ui/info-tooltip")),f=e("../../../../selectors");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const g=()=>n.default.createElement("svg",{width:"6",height:"9",viewBox:"0 0 6 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{d:"M0.7948 4.96973C0.365112 4.96973 0.150269 5.47754 0.462769 5.77051L2.78699 8.09473C2.96277 8.29004 3.25574 8.29004 3.45105 8.09473L5.77527 5.77051C6.06824 5.47754 5.85339 4.96973 5.44324 4.96973H0.7948ZM5.77527 2.91895L3.45105 0.594727C3.25574 0.418945 2.96277 0.418945 2.78699 0.594727L0.462769 2.91895C0.150269 3.23145 0.365112 3.71973 0.7948 3.71973H5.44324C5.85339 3.71973 6.06824 3.23145 5.77527 2.91895Z",fill:"var(--color-primary-default)"}));function h({quoteDataRows:e,selectedAggId:t,onSelect:a,onCaretClick:s,swapToSymbol:u,sortDirection:p,setSortDirection:m,sortColumn:h=null,setSortColumn:_,hideEstimatedGasFee:E}){const v=(0,n.useContext)(c.I18nContext),[T,b]=(0,n.useState)(!1),w=(0,r.useSelector)(f.getUseCurrencyRateCheck),y=e=>{e===h?m(-1*p):_(e)},k=(0,n.useMemo)((()=>[...e].sort(((e,t)=>{if(null===h&&e.isBestQuote)return-1;if(null===h&&t.isBestQuote)return 1;if(null===h){const a=new i.default(e.destinationTokenValue).toString(16),n=new i.default(t.destinationTokenValue).toString(16);return a[a.length-1]<n[n.length-1]?-1:1}return"quoteSource"===h?e[h]>t[h]?-1*p:p:new i.default(e[h]).gt(t[h])?-1*p:p}))),[e,h,p]),S=k.findIndex((({aggId:e})=>t===e));return n.default.createElement("div",{className:"select-quote-popover__sort-list"},n.default.createElement("div",{className:"select-quote-popover__column-headers"},n.default.createElement("div",{className:"select-quote-popover__column-header select-quote-popover__receiving","data-testid":"select-quote-popover__receiving",onClick:()=>y("destinationTokenValue")},n.default.createElement("span",{className:"select-quote-popover__receiving-symbol"},u),n.default.createElement("div",{className:"select-quote-popover__receiving-label"},n.default.createElement("span",null,v("swapReceiving")),n.default.createElement(d.default,{position:"bottom",contentText:v("swapReceivingInfoTooltip")}),n.default.createElement(g,null))),n.default.createElement("div",{className:"select-quote-popover__column-header select-quote-popover__network-fees select-quote-popover__network-fees-header","data-testid":"select-quote-popover__network-fees-header",onClick:()=>y("rawNetworkFees")},!E&&w&&n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,v("swapEstimatedNetworkFees")),n.default.createElement(d.default,{position:"bottom",contentText:v("swapEstimatedNetworkFeesInfo")}),n.default.createElement(g,null))),n.default.createElement("div",{className:"select-quote-popover__column-header select-quote-popover__quote-source","data-testid":"select-quote-popover__quote-source",onClick:()=>y("quoteSource")},v("swapQuoteSource"),n.default.createElement("div",{className:"select-quote-popover__quote-source-toggle"},n.default.createElement(g,null)))),k.map((({destinationTokenValue:e,networkFees:t,isBestQuote:r,quoteSource:i,aggId:c},u)=>n.default.createElement("div",{className:(0,o.default)("select-quote-popover__row",{"select-quote-popover__row--selected":S===u,"select-quote-popover__row--no-hover":T}),onClick:()=>a(c),key:`select-quote-popover-row-${u}`,"data-testid":`select-quote-popover-row-${u}`},n.default.createElement("div",{className:"select-quote-popover__receiving"},n.default.createElement("div",{className:"select-quote-popover__receiving-value"},r&&n.default.createElement(l.default,{reverseColors:S!==u}),n.default.createElement("div",{className:"select-quote-popover__receiving-value-text",title:e},e)),"RFQ"===i&&n.default.createElement("span",{className:"select-quote-popover__zero-slippage"},v("swapZeroSlippage"))),n.default.createElement("div",{className:"select-quote-popover__network-fees"},!E&&w&&t),n.default.createElement("div",{className:"select-quote-popover__quote-source"},n.default.createElement("div",{className:(0,o.default)("select-quote-popover__quote-source-label",{"select-quote-popover__quote-source-label--green":"AGG"===i,"select-quote-popover__quote-source-label--orange":"RFQ"===i,"select-quote-popover__quote-source-label--blue":"DEX"===i})},i)),n.default.createElement("div",{className:"select-quote-popover__caret-right","data-testid":`select-quote-popover__caret-right-${u}`,onClick:e=>{e.stopPropagation(),s(c)},onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1)},n.default.createElement("i",{className:"fa fa-angle-up"}))))))}h.propTypes={selectedAggId:s.default.string.isRequired,onSelect:s.default.func.isRequired,onCaretClick:s.default.func.isRequired,swapToSymbol:s.default.string.isRequired,quoteDataRows:s.default.arrayOf(u.QUOTE_DATA_ROWS_PROPTYPES_SHAPE).isRequired,sortDirection:s.default.number.isRequired,setSortDirection:s.default.func.isRequired,sortColumn:s.default.string,setSortColumn:s.default.func.isRequired,hideEstimatedGasFee:s.default.bool.isRequired}}}},{package:"$root$",file:"ui\\pages\\swaps\\select-quote-popover\\sort-list\\sort-list.js"}],[4278,{"./slippage-buttons":4279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./slippage-buttons"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\slippage-buttons\\index.js"}],[4279,{"../../../../shared/constants/swaps":3268,"../../../components/ui/box":3709,"../../../components/ui/button":3713,"../../../components/ui/button-group":3711,"../../../components/ui/info-tooltip":3788,"../../../components/ui/toggle-button":3860,"../../../components/ui/typography":3871,"../../../contexts/i18n":3879,"../../../helpers/constants/design-system":3902,"../swaps.util":4290,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=h(e("prop-types")),s=h(e("classnames")),o=e("../../../contexts/i18n"),i=h(e("../../../components/ui/button-group")),l=h(e("../../../components/ui/button")),c=h(e("../../../components/ui/info-tooltip")),u=h(e("../../../components/ui/toggle-button")),d=h(e("../../../components/ui/box")),f=h(e("../../../components/ui/typography")),p=e("../../../helpers/constants/design-system"),m=e("../swaps.util"),g=e("../../../../shared/constants/swaps");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function E({onSelect:e,maxAllowedSlippage:t,currentSlippage:a,smartTransactionsEnabled:r,smartTransactionsOptInStatus:h,setSmartTransactionsOptInStatus:_,currentSmartTransactionsError:E,isDirectWrappingEnabled:v}){const T=(0,n.useContext)(o.I18nContext),[b,w]=(0,n.useState)((()=>"number"!=typeof a||Object.values(g.Slippage).includes(a)?"":a.toString())),[y,k]=(0,n.useState)(!1),[S,C]=(0,n.useState)((()=>a===g.Slippage.high?1:a===g.Slippage.default?0:"number"==typeof a?2:0)),[N,O]=(0,n.useState)((()=>a!==g.Slippage.default)),[R,P]=(0,n.useState)(null);let x="";b&&(Number(b)<0?x=T("swapSlippageNegative"):Number(b)>0&&Number(b)<=1?x=T("swapLowSlippageError"):Number(b)>=5&&Number(b)<=t?x=T("swapHighSlippageWarning"):Number(b)>t&&(x=T("swapsExcessiveSlippageWarning")));const I=b||T("swapCustom");return(0,n.useEffect)((()=>{R&&y&&window.document.activeElement!==R&&R.focus()}),[R,y]),n.default.createElement("div",{className:"slippage-buttons"},n.default.createElement("button",{onClick:()=>O(!N),className:(0,s.default)("slippage-buttons__header",{"slippage-buttons__header--open":N})},n.default.createElement("div",{className:"slippage-buttons__header-text"},T("swapsAdvancedOptions")),N?n.default.createElement("i",{className:"fa fa-angle-up"}):n.default.createElement("i",{className:"fa fa-angle-down"})),n.default.createElement("div",{className:"slippage-buttons__content"},N&&n.default.createElement(n.default.Fragment,null,!v&&n.default.createElement("div",{className:"slippage-buttons__dropdown-content"},n.default.createElement("div",{className:"slippage-buttons__buttons-prefix"},n.default.createElement("div",{className:"slippage-buttons__prefix-text"},T("swapsMaxSlippage")),n.default.createElement(c.default,{position:"top",contentText:T("swapSlippageTooltip")})),n.default.createElement(i.default,{defaultActiveButtonIndex:2!==S||b?S:1,variant:"radiogroup",newActiveButtonIndex:S,className:(0,s.default)("button-group","slippage-buttons__button-group")},n.default.createElement(l.default,{onClick:()=>{w(""),k(!1),C(0),e(g.Slippage.default)}},T("swapSlippagePercent",[g.Slippage.default])),n.default.createElement(l.default,{onClick:()=>{w(""),k(!1),C(1),e(g.Slippage.high)}},T("swapSlippagePercent",[g.Slippage.high])),n.default.createElement(l.default,{className:(0,s.default)("slippage-buttons__button-group-custom-button",{"radio-button--danger":x}),onClick:()=>{C(2),k(!0)}},y?n.default.createElement("div",{className:(0,s.default)("slippage-buttons__custom-input",{"slippage-buttons__custom-input--danger":x})},n.default.createElement("input",{"data-testid":"slippage-buttons__custom-slippage",onChange:t=>{const{value:a}=t.target;!isNaN(Number(a))&&(w(a),e(Number(a)))},type:"text",maxLength:"4",ref:P,onBlur:()=>{k(!1)},value:b||""})):I,(b||y)&&n.default.createElement("div",{className:"slippage-buttons__percentage-suffix"},"%")))),r&&n.default.createElement(d.default,{marginTop:2,display:p.DISPLAY.FLEX},n.default.createElement(d.default,{display:p.DISPLAY.FLEX,alignItems:p.ALIGN_ITEMS.CENTER,paddingRight:3},n.default.createElement(f.default,{variant:p.TYPOGRAPHY.H6,boxProps:{paddingRight:2},fontWeight:p.FONT_WEIGHT.BOLD},T("smartTransaction")),E?n.default.createElement(c.default,{position:"top",contentText:(0,m.getTranslatedStxErrorMessage)(E,T)}):n.default.createElement(c.default,{position:"top",contentText:T("stxTooltip")})),n.default.createElement(u.default,{value:h,onToggle:e=>{_(!e,e)},offLabel:T("off"),onLabel:T("on"),disabled:Boolean(E)}))),x&&n.default.createElement("div",{className:"slippage-buttons__error-text"},x)))}E.propTypes={onSelect:r.default.func.isRequired,maxAllowedSlippage:r.default.number.isRequired,currentSlippage:r.default.number,smartTransactionsEnabled:r.default.bool.isRequired,smartTransactionsOptInStatus:r.default.bool,setSmartTransactionsOptInStatus:r.default.func,currentSmartTransactionsError:r.default.string,isDirectWrappingEnabled:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\swaps\\slippage-buttons\\slippage-buttons.js"}],[4280,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M14.4946 6.14779C14.4863 5.93594 14.3991 5.69108 14.2539 5.53666L9.51334 0.49958C9.1921 0.21091 8.57613 0.0917437 8.21709 0.425509C7.86344 0.754237 7.87396 1.39178 8.22627 1.72181L11.5595 5.25889L1.1618 5.25889C0.670919 5.25889 0.272949 5.65687 0.272949 6.14779C0.272949 6.6387 0.670919 7.03668 1.1618 7.03668L11.5595 7.03668L8.22627 10.5738C7.92297 10.8776 7.86691 11.5376 8.21709 11.8701C8.56718 12.2025 9.20529 12.0963 9.51334 11.796L14.2539 6.75891C14.4161 6.58653 14.4952 6.38428 14.4946 6.14779Z",fill:"#D6D9DC"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\arrow-icon.js"}],[4281,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.5805 6.55143C36.1394 8.11033 37.3994 9.91222 38.3237 11.8681C38.7066 12.6782 39.0318 13.5148 39.2968 14.3714L39.3242 14.4606C39.4816 14.9785 39.6171 15.5037 39.73 16.0347C40.6511 20.3654 40.0335 24.9029 37.9511 28.8509C35.6001 33.308 31.5749 36.6487 26.7609 38.138C24.3773 38.8754 21.8717 39.1361 19.3873 38.9052C16.9029 38.6743 14.4883 37.9563 12.2813 36.7922C10.2608 35.7264 8.52045 34.3588 7.08333 32.7636C5.61245 31.1448 4.43054 29.2824 3.59178 27.2574C3.32329 26.6092 2.89685 25.2767 2.89685 25.2767H6.89583C7.68667 27.4068 8.96033 29.362 10.6288 30.9609L10.6318 30.96C11.5096 31.8005 12.501 32.5516 13.595 33.1786C15.8742 34.483 18.4736 35.1864 21.1455 35.1864C25.1768 35.1864 29.0429 33.585 31.8935 30.7345C34.744 27.8839 36.3455 24.0177 36.3455 19.9865C36.3455 18.7267 36.1891 17.483 35.8871 16.2814C35.8206 16.017 35.7471 15.7546 35.6666 15.4945C34.4752 11.6432 31.8027 8.42306 28.237 6.54231C24.6713 4.66156 20.5045 4.27429 16.6533 5.46571C12.8837 6.63189 9.71868 9.21706 7.82253 12.6699L12.8961 15.307L3.28331 18.3447L0.245605 8.73191L4.45005 10.9171C6.81537 6.56278 10.7905 3.30177 15.5303 1.83546C17.3658 1.26761 19.2587 0.986653 21.1455 0.986694C26.1846 0.986694 31.0173 2.98824 34.5805 6.55143Z",fill:"var(--color-primary-default)"}),r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1252 22.1036L14.7107 18.689L12.0926 21.3257L18.1252 27.3584L30.2322 15.2515L27.614 12.6148L18.1252 22.1036Z",fill:"var(--color-primary-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\canceled-icon.js"}],[4282,{"./smart-transaction-status":4284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./smart-transaction-status"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\index.js"}],[4283,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.6806 6.55143C36.2395 8.11033 37.4995 9.91222 38.4238 11.8681C38.8067 12.6782 39.1319 13.5148 39.3969 14.3714L39.4243 14.4606C39.5817 14.9785 39.7172 15.5037 39.8301 16.0347C40.7512 20.3654 40.1336 24.9029 38.0512 28.8509C35.7002 33.308 31.675 36.6487 26.861 38.138C24.4773 38.8754 21.9718 39.1361 19.4874 38.9052C17.003 38.6743 14.5884 37.9563 12.3814 36.7922C10.3609 35.7264 8.62055 34.3588 7.18343 32.7636C5.71254 31.1448 4.53064 29.2824 3.69188 27.2574C3.42339 26.6092 2.99695 25.2767 2.99695 25.2767H6.99592C7.78677 27.4068 9.06042 29.362 10.7289 30.9609L10.7319 30.96C11.6097 31.8005 12.6011 32.5516 13.6951 33.1786C15.9743 34.483 18.5737 35.1864 21.2456 35.1864C25.2769 35.1864 29.143 33.585 31.9936 30.7345C34.8441 27.8839 36.4456 24.0177 36.4456 19.9865C36.4456 18.7267 36.2892 17.483 35.9872 16.2814C35.9207 16.017 35.8471 15.7546 35.7667 15.4945C34.5753 11.6432 31.9028 8.42306 28.3371 6.54231C24.7714 4.66156 20.6046 4.27429 16.7534 5.46571C12.9838 6.63189 9.81878 9.21706 7.92263 12.6699L12.9962 15.307L3.3834 18.3447L0.345703 8.73191L4.55015 10.9171C6.91547 6.56278 10.8906 3.30177 15.6304 1.83546C17.4659 1.26761 19.3588 0.986653 21.2456 0.986694C26.2847 0.986694 31.1174 2.98824 34.6806 6.55143Z",fill:"#D73A49"}),r.default.createElement("path",{d:"M18.5849 19.9869L15.1454 23.4264L17.9845 26.2655L21.424 22.826L24.8635 26.2655L27.7026 23.4264L24.2631 19.9869L27.7026 16.5473L24.8635 13.7082L21.424 17.1478L17.9845 13.7082L15.1454 16.5473L18.5849 19.9869Z",fill:"#D73A49"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\reverted-icon.js"}],[4284,{"../../../../shared/constants/metametrics":3263,"../../../../shared/constants/swaps":3268,"../../../../shared/constants/transaction":3271,"../../../../shared/lib/transactions-controller-utils":3279,"../../../components/ui/box":3709,"../../../components/ui/typography":3871,"../../../components/ui/url-icon":3876,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/metamask/metamask":3894,"../../../ducks/swaps/swaps":3898,"../../../helpers/constants/design-system":3902,"../../../helpers/constants/routes":3906,"../../../selectors":4306,"../../../store/actions":4313,"../create-new-swap":4248,"../swaps-footer":4288,"../swaps.util":4290,"../view-on-block-explorer":4291,"./arrow-icon":4280,"./canceled-icon":4281,"./reverted-icon":4283,"./success-icon":4285,"./timer-icon":4286,"./unknown-icon":4287,"@metamask/etherscan-link":1066,lodash:2730,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,A,M,D,L,j,F,U,W,q,G,H,B,$,V,Y,K,Q;const[X,Z]=(0,n.useState)(!1),z=(0,n.useContext)(l.I18nContext),J=(0,s.useHistory)(),ee=(0,r.useDispatch)(),te=(0,r.useSelector)(c.getFetchParams,i.isEqual)||{},{destinationTokenInfo:ae={},sourceTokenInfo:ne={}}=(null==te?void 0:te.metaData)||{},re=(0,r.useSelector)(u.isHardwareWallet),se=(0,r.useSelector)(u.getHardwareWalletType),oe=(0,r.useSelector)(c.getSelectedQuote,i.isEqual),ie=(0,r.useSelector)(c.getTopQuote,i.isEqual),le=oe||ie,ce=(0,r.useSelector)(c.getCurrentSmartTransactions,i.isEqual),ue=(0,r.useSelector)(c.getSmartTransactionsOptInStatus),de=(0,r.useSelector)(u.getCurrentChainId),fe=(0,r.useSelector)(u.getRpcPrefsForCurrentProvider,r.shallowEqual),pe=(0,r.useSelector)(c.getSwapsNetworkConfig,r.shallowEqual),me=(0,r.useSelector)(c.getSmartTransactionsEnabled),ge=(0,r.useSelector)(c.getCurrentSmartTransactionsEnabled),he=null!==(e=null!==(t=fe.blockExplorerUrl)&&void 0!==t?t:d.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[de])&&void 0!==e?e:null,_e=(0,r.useSelector)(f.getNativeCurrency),Ee=(0,r.useSelector)(u.conversionRateSelector),ve=(0,r.useSelector)(u.getUSDConversionRate),Te=(0,r.useSelector)(u.getCurrentCurrency);let be,we,ye=T.SmartTransactionStatus.pending,ke={};if(ce&&ce.length>0){var Se,Ce,Ne,Oe;ke=ce[ce.length-1],be=null===(Se=ke)||void 0===Se?void 0:Se.uuid,ye=(null===(Ce=ke)||void 0===Ce?void 0:Ce.status)||T.SmartTransactionStatus.pending,we=null===(Ne=ke)||void 0===Ne||null===(Oe=Ne.statusMetadata)||void 0===Oe?void 0:Oe.cancellationFeeWei}const[Re,Pe]=(0,n.useState)(pe.stxStatusDeadline),xe={needs_two_confirmations:!0,token_from:null!==(a=ne.symbol)&&void 0!==a?a:null===(A=ke)||void 0===A?void 0:A.sourceTokenSymbol,token_from_amount:null!==(M=null==te?void 0:te.value)&&void 0!==M?M:null===(D=ke)||void 0===D?void 0:D.swapTokenValue,token_to:null!==(L=ae.symbol)&&void 0!==L?L:null===(j=ke)||void 0===j?void 0:j.destinationTokenSymbol,request_type:null!=te&&te.balanceError?"Quote":"Order",slippage:null==te?void 0:te.slippage,custom_slippage:2===(null==te?void 0:te.slippage),is_hardware_wallet:re,hardware_wallet_type:se,stx_enabled:me,current_stx_enabled:ge,stx_user_opt_in:ue};let Ie;var Ae,Me;null!=le&&le.destinationAmount&&(Ie=(0,C.calcTokenAmount)(null==le?void 0:le.destinationAmount,null!==(Ae=ae.decimals)&&void 0!==Ae?Ae:null===(Me=ke)||void 0===Me?void 0:Me.destinationTokenDecimals).toPrecision(8));const De=(0,n.useContext)(y.MetaMetricsContext),Le=ye===T.SmartTransactionStatus.pending,je=Le||ye===T.SmartTransactionStatus.success,Fe=null===(F=ke)||void 0===F||null===(U=F.statusMetadata)||void 0===U?void 0:U.minedHash;(0,n.useEffect)((()=>{De({event:"STX Status Page Loaded",category:v.EVENT.CATEGORIES.SWAPS,sensitiveProperties:xe})}),[]),(0,n.useEffect)((()=>{let e;if(Le&&be){const t=()=>{const t=Math.round((Date.now()-ke.time)/1e3);if(t>pe.stxStatusDeadline)return Pe(0),void clearInterval(e);Pe(pe.stxStatusDeadline-t)};e=setInterval(t,1e3),t()}return()=>clearInterval(e)}),[ee,Le,be,ke.time,pe.stxStatusDeadline]),(0,n.useEffect)((()=>{ee((0,E.setBackgroundSwapRouteState)("smartTransactionStatus")),setTimeout((()=>{ee((0,E.stopPollingForQuotes)())}),1e3)}),[ee]);let Ue,We,qe,Ge,He=z("stxPendingPrivatelySubmittingSwap");Le&&(X?He=z("stxTryingToCancel"):we>0&&(He=z("stxPendingPubliclySubmittingSwap")));if(ye===T.SmartTransactionStatus.success){var Be,$e,Ve;if(He=z("stxSuccess"),ae.symbol||null!==(Be=ke)&&void 0!==Be&&Be.destinationTokenSymbol)Ue=z("stxSuccessDescription",[null!==($e=ae.symbol)&&void 0!==$e?$e:null===(Ve=ke)||void 0===Ve?void 0:Ve.destinationTokenSymbol]);qe=n.default.createElement(N.default,null)}else"cancelled_user_cancelled"===ye||(null===(W=ke)||void 0===W||null===(q=W.statusMetadata)||void 0===q?void 0:q.minedTx)===T.SmartTransactionStatus.cancelled?(He=z("stxUserCancelled"),Ue=z("stxUserCancelledDescription"),qe=n.default.createElement(R.default,null)):ye.startsWith("cancelled")||ye.includes("deadline_missed")?(He=z("stxCancelled"),Ue=z("stxCancelledDescription"),We=z("stxCancelledSubDescription"),qe=n.default.createElement(R.default,null)):"unknown"===ye?(He=z("stxUnknown"),Ue=z("stxUnknownDescription"),qe=n.default.createElement(P.default,null)):"reverted"===ye&&(He=z("stxFailure"),Ue=z("stxFailureDescription",[n.default.createElement("a",{className:"smart-transaction-status__support-link",key:"smart-transaction-status-support-link",href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer"},z("customerSupport"))]),qe=n.default.createElement(O.default,null));Fe&&be&&(Ge=(0,o.getBlockExplorerLink)({hash:Fe,chainId:de},{blockExplorerUrl:he}));const Ye=ke.cancellable&&!X,Ke=()=>{let e;return we>0&&({feeInFiat:e}=(0,w.getFeeForSmartTransaction)({chainId:de,currentCurrency:Te,conversionRate:Ee,USDConversionRate:ve,nativeCurrencySymbol:_e,feeInWeiDec:we})),n.default.createElement(g.default,{marginBottom:0},n.default.createElement("a",{className:"smart-transaction-status__cancel-swap-link",href:"#",onClick:e=>{null==e||e.preventDefault(),Z(!0),De({event:"Cancel STX",category:v.EVENT.CATEGORIES.SWAPS,sensitiveProperties:xe}),ee((0,c.cancelSwapsSmartTransaction)(be))}},e?z("cancelSwapForFee",[e]):z("cancelSwapForFree")))};return n.default.createElement("div",{className:"smart-transaction-status"},n.default.createElement(g.default,{paddingLeft:8,paddingRight:8,height:_.BLOCK_SIZES.FULL,justifyContent:_.JUSTIFY_CONTENT.START,display:_.DISPLAY.FLEX,className:"smart-transaction-status__content"},n.default.createElement(g.default,{marginTop:10,marginBottom:0,display:_.DISPLAY.FLEX,justifyContent:_.JUSTIFY_CONTENT.CENTER,alignItems:_.ALIGN_ITEMS.CENTER},n.default.createElement(m.default,{color:_.COLORS.TEXT_ALTERNATIVE,variant:_.TYPOGRAPHY.H6},`${(null==te?void 0:te.value)&&Number(te.value).toFixed(5)} `),n.default.createElement(m.default,{color:_.COLORS.TEXT_ALTERNATIVE,variant:_.TYPOGRAPHY.H6,fontWeight:_.FONT_WEIGHT.BOLD,boxProps:{marginLeft:1,marginRight:2}},null!==(G=ne.symbol)&&void 0!==G?G:null===(H=ke)||void 0===H?void 0:H.sourceTokenSymbol),ne.iconUrl?n.default.createElement(h.default,{url:ne.iconUrl,className:"main-quote-summary__icon",name:null!==(B=ne.symbol)&&void 0!==B?B:null===($=ke)||void 0===$?void 0:$.destinationTokenSymbol,fallbackClassName:"main-quote-summary__icon-fallback"}):null,n.default.createElement(g.default,{display:_.DISPLAY.BLOCK,marginLeft:2,marginRight:2},n.default.createElement(x.default,null)),ae.iconUrl?n.default.createElement(h.default,{url:ae.iconUrl,className:"main-quote-summary__icon",name:null!==(V=ae.symbol)&&void 0!==V?V:null===(Y=ke)||void 0===Y?void 0:Y.destinationTokenSymbol,fallbackClassName:"main-quote-summary__icon-fallback"}):null,n.default.createElement(m.default,{color:_.COLORS.TEXT_ALTERNATIVE,variant:_.TYPOGRAPHY.H6,boxProps:{marginLeft:2}},`~${Ie&&Number(Ie).toFixed(5)} `),n.default.createElement(m.default,{color:_.COLORS.TEXT_ALTERNATIVE,variant:_.TYPOGRAPHY.H6,fontWeight:_.FONT_WEIGHT.BOLD,boxProps:{marginLeft:1}},null!==(K=ae.symbol)&&void 0!==K?K:null===(Q=ke)||void 0===Q?void 0:Q.destinationTokenSymbol)),n.default.createElement(g.default,{marginTop:3,className:"smart-transaction-status__background-animation smart-transaction-status__background-animation--top"}),qe&&n.default.createElement(g.default,{marginTop:3,marginBottom:2},qe),Le&&n.default.createElement(g.default,{marginTop:7,marginBottom:1,display:_.DISPLAY.FLEX,justifyContent:_.JUSTIFY_CONTENT.CENTER,alignItems:_.ALIGN_ITEMS.CENTER},n.default.createElement(I.default,null),n.default.createElement(m.default,{color:_.COLORS.TEXT_ALTERNATIVE,variant:_.TYPOGRAPHY.H6,boxProps:{marginLeft:1}},`${z("stxSwapCompleteIn")} `),n.default.createElement(m.default,{color:_.COLORS.TEXT_ALTERNATIVE,variant:_.TYPOGRAPHY.H6,fontWeight:_.FONT_WEIGHT.BOLD,boxProps:{marginLeft:1},className:"smart-transaction-status__remaining-time"},(0,w.showRemainingTimeInMinAndSec)(Re))),n.default.createElement(m.default,{color:_.COLORS.TEXT_DEFAULT,variant:_.TYPOGRAPHY.H4,fontWeight:_.FONT_WEIGHT.BOLD},He),Le&&n.default.createElement("div",{className:"smart-transaction-status__loading-bar-container"},n.default.createElement("div",{className:"smart-transaction-status__loading-bar",style:{width:100/pe.stxStatusDeadline*(pe.stxStatusDeadline-Re)+"%"}})),Ue&&n.default.createElement(m.default,{variant:_.TYPOGRAPHY.H6,boxProps:{...Ge&&{margin:[1,0,0]}},color:_.COLORS.TEXT_ALTERNATIVE},Ue),Ge&&n.default.createElement(S.default,{blockExplorerUrl:Ge,sensitiveTrackingProperties:xe}),n.default.createElement(g.default,{marginTop:3,className:"smart-transaction-status__background-animation smart-transaction-status__background-animation--bottom"}),We&&n.default.createElement(m.default,{variant:_.TYPOGRAPHY.H7,boxProps:{marginTop:8},color:_.COLORS.TEXT_ALTERNATIVE},We)),Ye&&be&&Le&&n.default.createElement(Ke,null),ye===T.SmartTransactionStatus.success?n.default.createElement(k.default,{sensitiveTrackingProperties:xe}):null,n.default.createElement(b.default,{onSubmit:async()=>{je?(await ee((0,c.prepareToLeaveSwaps)()),J.push(p.DEFAULT_ROUTE)):J.push(p.BUILD_QUOTE_ROUTE)},onCancel:async()=>{await ee((0,c.prepareToLeaveSwaps)()),J.push(p.DEFAULT_ROUTE)},submitText:z(je?"close":"tryAgain"),hideCancel:je,cancelText:z("close"),className:"smart-transaction-status__swaps-footer"}))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=e("@metamask/etherscan-link"),i=e("lodash"),l=e("../../../contexts/i18n"),c=e("../../../ducks/swaps/swaps"),u=e("../../../selectors"),d=e("../../../../shared/constants/swaps"),f=e("../../../ducks/metamask/metamask"),p=e("../../../helpers/constants/routes"),m=A(e("../../../components/ui/typography")),g=A(e("../../../components/ui/box")),h=A(e("../../../components/ui/url-icon")),_=e("../../../helpers/constants/design-system"),E=e("../../../store/actions"),v=e("../../../../shared/constants/metametrics"),T=e("../../../../shared/constants/transaction"),b=A(e("../swaps-footer")),w=e("../swaps.util"),y=e("../../../contexts/metametrics"),k=A(e("../create-new-swap")),S=A(e("../view-on-block-explorer")),C=e("../../../../shared/lib/transactions-controller-utils"),N=A(e("./success-icon")),O=A(e("./reverted-icon")),R=A(e("./canceled-icon")),P=A(e("./unknown-icon")),x=A(e("./arrow-icon")),I=A(e("./timer-icon"));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\smart-transaction-status.js"}],[4285,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.5457 19.8983C34.5457 23.9296 32.9443 27.7958 30.0937 30.6463C27.2432 33.4969 23.377 35.0983 19.3457 35.0983C15.3144 35.0983 11.4482 33.4969 8.59768 30.6463C5.74713 27.7958 4.1457 23.9296 4.1457 19.8983C4.1457 15.867 5.74713 12.0008 8.59768 9.15029C11.4482 6.29974 15.3144 4.69832 19.3457 4.69832C20.7897 4.69832 22.1957 4.90732 23.5257 5.28732L26.5087 2.30432C24.3047 1.39232 21.8917 0.898315 19.3457 0.898315C16.8506 0.898315 14.3799 1.38977 12.0747 2.3446C9.76953 3.29944 7.67499 4.69897 5.91067 6.46329C2.34748 10.0265 0.345703 14.8592 0.345703 19.8983C0.345703 24.9374 2.34748 29.7702 5.91067 33.3333C7.67499 35.0977 9.76953 36.4972 12.0747 37.452C14.3799 38.4069 16.8506 38.8983 19.3457 38.8983C24.3848 38.8983 29.2175 36.8965 32.7807 33.3333C36.3439 29.7702 38.3457 24.9374 38.3457 19.8983H34.5457ZM11.5747 16.2503L8.8957 18.9483L17.4457 27.4983L36.4457 8.49832L33.7667 5.80032L17.4457 22.1213L11.5747 16.2503Z",fill:"#28A745"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\success-icon.js"}],[4286,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M7.36621 0.0810547C3.62012 0.0810547 0.584961 3.11621 0.584961 6.8623C0.584961 10.6084 3.62012 13.6436 7.36621 13.6436C11.1123 13.6436 14.1475 10.6084 14.1475 6.8623C14.1475 3.11621 11.1123 0.0810547 7.36621 0.0810547ZM7.36621 12.3311C4.33105 12.3311 1.89746 9.89746 1.89746 6.8623C1.89746 3.85449 4.33105 1.39355 7.36621 1.39355C10.374 1.39355 12.835 3.85449 12.835 6.8623C12.835 9.89746 10.374 12.3311 7.36621 12.3311ZM9.03418 9.4873C9.19824 9.59668 9.38965 9.56934 9.49902 9.40527L10.0186 8.72168C10.1279 8.55762 10.1006 8.36621 9.93652 8.25684L8.13184 6.91699V3.03418C8.13184 2.87012 7.96777 2.70605 7.80371 2.70605H6.92871C6.7373 2.70605 6.60059 2.87012 6.60059 3.03418V7.5459C6.60059 7.62793 6.62793 7.7373 6.70996 7.79199L9.03418 9.4873Z",fill:"var(--color-primary-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\timer-icon.js"}],[4287,{react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return r.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("circle",{cx:"19.1533",cy:"19.2715",r:"17.1",stroke:"var(--color-primary-default)",strokeWidth:"3.8"}),r.default.createElement("path",{d:"M16.712 21.5034C16.712 20.7834 16.88 20.1834 17.216 19.7034C17.568 19.2074 18.08 18.7274 18.752 18.2634C19.008 18.0874 19.264 17.9274 19.52 17.7834C19.776 17.6394 20 17.4874 20.192 17.3274C20.4 17.1514 20.56 16.9674 20.672 16.7754C20.8 16.5674 20.864 16.3194 20.864 16.0314C20.864 15.5354 20.688 15.1594 20.336 14.9034C20 14.6474 19.592 14.5194 19.112 14.5194C18.616 14.5194 18.16 14.6794 17.744 14.9994C17.344 15.3034 17.144 15.7674 17.144 16.3914H13.52C13.52 15.6394 13.664 14.9354 13.952 14.2794C14.24 13.6074 14.632 13.0314 15.128 12.5514C15.64 12.0554 16.232 11.6634 16.904 11.3754C17.592 11.0874 18.328 10.9434 19.112 10.9434C19.896 10.9434 20.616 11.0794 21.272 11.3514C21.944 11.6234 22.512 11.9834 22.976 12.4314C23.456 12.8794 23.824 13.3994 24.08 13.9914C24.352 14.5674 24.488 15.1754 24.488 15.8154C24.488 16.2314 24.456 16.6234 24.392 16.9914C24.344 17.3594 24.24 17.7114 24.08 18.0474C23.936 18.3834 23.728 18.7114 23.456 19.0314C23.184 19.3514 22.84 19.6634 22.424 19.9674C21.784 20.4474 21.272 20.8234 20.888 21.0954C20.52 21.3674 20.336 21.6474 20.336 21.9354V21.9594H16.712V21.5034ZM18.512 28.4634C18.16 28.4634 17.824 28.3994 17.504 28.2714C17.2 28.1274 16.928 27.9434 16.688 27.7194C16.464 27.4794 16.28 27.2074 16.136 26.9034C16.008 26.5834 15.944 26.2474 15.944 25.8954C15.944 25.5434 16.008 25.2154 16.136 24.9114C16.28 24.5914 16.464 24.3194 16.688 24.0954C16.928 23.8554 17.2 23.6714 17.504 23.5434C17.824 23.3994 18.16 23.3274 18.512 23.3274C18.864 23.3274 19.192 23.3994 19.496 23.5434C19.816 23.6714 20.088 23.8554 20.312 24.0954C20.552 24.3194 20.736 24.5914 20.864 24.9114C21.008 25.2154 21.08 25.5434 21.08 25.8954C21.08 26.2474 21.008 26.5834 20.864 26.9034C20.736 27.2074 20.552 27.4794 20.312 27.7194C20.088 27.9434 19.816 28.1274 19.496 28.2714C19.192 28.3994 18.864 28.4634 18.512 28.4634Z",fill:"var(--color-primary-default)"}))};var n,r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\smart-transaction-status\\unknown-icon.js"}],[4288,{"./swaps-footer":4289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./swaps-footer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\swaps-footer\\index.js"}],[4289,{"../../../components/ui/page-container/page-container-footer":3826,"../../../contexts/i18n":3879,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=l(e("prop-types")),s=l(e("classnames")),o=e("../../../contexts/i18n"),i=l(e("../../../components/ui/page-container/page-container-footer"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u({onCancel:e,hideCancel:t,onSubmit:a,submitText:r,disabled:l,showTermsOfService:c,showTopBorder:u,className:d="",cancelText:f}){const p=(0,n.useContext)(o.I18nContext);return n.default.createElement("div",{className:"swaps-footer"},n.default.createElement("div",{className:(0,s.default)("swaps-footer__buttons",d,{"swaps-footer__buttons--border":u})},n.default.createElement(i.default,{onCancel:e,hideCancel:t,cancelText:f||p("back"),onSubmit:a,submitText:r,footerClassName:(0,s.default)("swaps-footer__custom-page-container-footer-class",d),footerButtonClassName:(0,s.default)("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":t}),disabled:l})),c&&n.default.createElement("div",{className:"swaps-footer__bottom-text",onClick:()=>global.platform.openTab({url:"https://metamask.io/terms.html"})},p("termsOfService")))}u.propTypes={onCancel:r.default.func,hideCancel:r.default.bool,onSubmit:r.default.func.isRequired,submitText:r.default.string,disabled:r.default.bool,showTermsOfService:r.default.bool,showTopBorder:r.default.bool,className:r.default.string,cancelText:r.default.string}}}},{package:"$root$",file:"ui\\pages\\swaps\\swaps-footer\\swaps-footer.js"}],[4290,{"../../../shared/constants/network":3264,"../../../shared/constants/swaps":3268,"../../../shared/lib/fetch-with-cache":3273,"../../../shared/lib/swaps-utils":3276,"../../../shared/lib/transactions-controller-utils":3279,"../../../shared/modules/conversion.utils":3285,"../../../shared/modules/hexstring-utils":3288,"../../../shared/modules/swaps.utils":3296,"../../helpers/utils/confirm-tx.util":3923,"bignumber.js":1650,"human-standard-token-abi":2462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.countDecimals=void 0,a.fetchAggregatorMetadata=async function(e){const t=(0,f.getBaseApi)("aggregatorMetadata",e),a=await(0,c.default)(t,{method:"GET",headers:_},{cacheRefreshTime:g}),n={};for(const e in a)(0,f.validateData)(T,a[e],t)&&(n[e]=a[e]);return n},a.fetchSwapsFeatureFlags=async function(){const e=s.SWAPS_API_V2_BASE_URL;return await(0,c.default)(`${e}/featureFlags`,{method:"GET",headers:_},{cacheRefreshTime:6e5})},a.fetchSwapsGasPrices=async function(e){const t=(0,f.getBaseApi)("gasPrices",e),a=await(0,c.default)(t,{method:"GET",headers:_},{cacheRefreshTime:3e4});if(!(0,f.validateData)(w,a,t))throw new Error(`${t} response is invalid`);const{SafeGasPrice:n,ProposeGasPrice:r,FastGasPrice:s}=a;return{safeLow:n,average:r,fast:s}},a.fetchToken=async function(e,t){const a=(0,f.getBaseApi)("token",t);return await(0,c.default)(`${a}?address=${e}`,{method:"GET",headers:_},{cacheRefreshTime:g})},a.fetchTokenBalance=async function(e,t){const a=global.eth.contract(r.default).at(e),n=a?a.balanceOf(t):Promise.resolve();return await n},a.fetchTokenPrice=async function(e){var t;const a=`contract_addresses=${e}&vs_currencies=eth`,n=await(0,c.default)(`https://api.coingecko.com/api/v3/simple/token_price/ethereum?${a}`,{method:"GET"},{cacheRefreshTime:6e4});return n&&(null===(t=n[e])||void 0===t?void 0:t.eth)},a.fetchTokens=async function(e){const t=(0,f.getBaseApi)("tokens",e),a=await(0,c.default)(t,{method:"GET",headers:_},{cacheRefreshTime:g});return[s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e],...a.filter((a=>(0,f.validateData)(E,a,t,false)&&!((0,o.isSwapsDefaultTokenSymbol)(a.symbol,e)||(0,o.isSwapsDefaultTokenAddress)(a.address,e))))]},a.fetchTopAssets=async function(e){const t=(0,f.getBaseApi)("topAssets",e),a=await(0,c.default)(t,{method:"GET",headers:_},{cacheRefreshTime:g})||[];return a.reduce(((e,a,n)=>(0,f.validateData)(v,a,t)?{...e,[a.address]:{index:String(n)}}:e),{})},a.formatSwapsValueForDisplay=S,a.getNetworkNameByChainId=a.getFeeForSmartTransaction=void 0,a.getRenderableNetworkFeesForQuote=k,a.parseSmartTransactionsError=a.isContractAddressValid=a.getTranslatedStxErrorMessage=a.getSwapsLivenessForNetwork=void 0,a.quotesToRenderableData=function(e,t,a,r,s,i,l,c,u,f){return Object.values(e).map((e=>{const{destinationAmount:m=0,sourceAmount:g=0,sourceTokenInfo:h,destinationTokenInfo:_,slippage:E,aggType:v,aggregator:T,gasEstimateWithRefund:b,averageGas:w,fee:C,trade:N,multiLayerL1TradeFeeTotal:O}=e;let R=null;null!==O&&null!==f?R=(0,p.sumHexes)(O||"0x0",f||"0x0"):null!==O&&(R=O);const P=(0,d.calcTokenAmount)(g,h.decimals).toString(10),x=(0,d.calcTokenAmount)(m,_.decimals).toPrecision(8);let I=null,A=null,M=null,D=null;({feeInFiat:I,feeInEth:A,rawNetworkFees:M,rawEthFee:D}=k({tradeGas:b||(0,p.decimalToHex)(w||8e5),approveGas:s,gasPrice:t,currentCurrency:r,conversionRate:a,tradeValue:N.value,sourceSymbol:h.symbol,sourceAmount:g,chainId:l,multiLayerL1FeeTotal:R})),c&&({feeInFiat:I,feeInEth:A}=y({chainId:l,currentCurrency:r,conversionRate:a,nativeCurrencySymbol:u,estimatedFeeInWeiDec:c.feeEstimate}));const L=new n.default(100-E).div(100),j=new n.default(x).times(L).toFixed(6),F=i[_.address],U=(0,o.isSwapsDefaultTokenSymbol)(_.symbol,l)?(0,d.calcTokenAmount)(m,_.decimals).minus(D,10):new n.default(F||0,10).times((0,d.calcTokenAmount)(m,_.decimals),10).minus(D,10);let W,q=E;return"AGG"===v?W="swapAggregator":"RFQ"===v?(W="swapRequestForQuotation",q=0):W="DEX"===v?"swapDecentralizedExchange":"CONTRACT"===v?"swapDirectContract":"swapUnknown",{aggId:T,amountReceiving:`${x} ${_.symbol}`,destinationTokenDecimals:_.decimals,destinationTokenSymbol:_.symbol,destinationTokenValue:S(x),destinationIconUrl:_.iconUrl,isBestQuote:e.isBestQuote,liquiditySourceKey:W,feeInEth:A,detailedNetworkFees:`${A} (${I})`,networkFees:I,quoteSource:v,rawNetworkFees:M,slippage:q,sourceTokenDecimals:h.decimals,sourceTokenSymbol:h.symbol,sourceTokenValue:P,sourceTokenIconUrl:h.iconUrl,ethValueOfTrade:U,minimumAmountReceived:j,metaMaskFee:C}}))},a.stxErrorTypes=a.showRemainingTimeInMinAndSec=void 0;var n=m(e("bignumber.js")),r=m(e("human-standard-token-abi")),s=e("../../../shared/constants/swaps"),o=e("../../../shared/modules/swaps.utils"),i=e("../../../shared/constants/network"),l=e("../../helpers/utils/confirm-tx.util"),c=m(e("../../../shared/lib/fetch-with-cache")),u=e("../../../shared/modules/hexstring-utils"),d=e("../../../shared/lib/transactions-controller-utils"),f=e("../../../shared/lib/swaps-utils"),p=e("../../../shared/modules/conversion.utils");function m(e){return e&&e.__esModule?e:{default:e}}const g=3e5,h="usd",_={"X-Client-Id":s.SWAPS_CLIENT_ID},E=[{property:"address",type:"string",validator:e=>(0,u.isValidHexAddress)(e,{allowNonPrefixed:!1})},{property:"symbol",type:"string",validator:e=>(0,f.truthyString)(e)&&e.length<=12},{property:"decimals",type:"string|number",validator:e=>Number(e)>=0&&Number(e)<=36}],v=E.slice(0,2),T=[{property:"color",type:"string",validator:e=>Boolean(e.match(/^#[A-Fa-f0-9]+$/u))},{property:"title",type:"string",validator:f.truthyString},{property:"icon",type:"string",validator:e=>Boolean(e.match(/^data:image/u))}],b=e=>!isNaN(e)&&e.match(/^[.0-9]+$/u)&&!isNaN(parseFloat(e)),w=[{property:"SafeGasPrice",type:"string",validator:b},{property:"ProposeGasPrice",type:"string",validator:b},{property:"FastGasPrice",type:"string",validator:b}];const y=({chainId:e,currentCurrency:t,conversionRate:a,USDConversionRate:n,nativeCurrencySymbol:r,feeInWeiDec:o})=>{const c=(0,p.decimalToHex)(o),u=(0,p.getValueFromWeiHex)({value:c,toDenomination:i.CURRENCY_SYMBOLS.ETH,numberOfDecimals:5}),d=(0,p.getValueFromWeiHex)({value:c,toCurrency:t,conversionRate:a,numberOfDecimals:2});let f;f=t===h?d:(0,p.getValueFromWeiHex)({value:c,toCurrency:h,conversionRate:n,numberOfDecimals:2});return{feeInUsd:f,feeInFiat:(0,l.formatCurrency)(d,t),feeInEth:`${u} ${r||s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e].symbol}`,rawEthFee:u}};function k({tradeGas:e,approveGas:t,gasPrice:a,currentCurrency:r,conversionRate:i,USDConversionRate:c,tradeValue:u,sourceSymbol:f,sourceAmount:m,chainId:g,nativeCurrencySymbol:_,multiLayerL1FeeTotal:E}){const v=new n.default(e||"0x0",16).plus(t||"0x0",16).toString(16);let T=(0,d.calcGasTotal)(v,a);null!==E&&(T=(0,p.sumHexes)(T||"0x0",E||"0x0"));const b=new n.default(u,16).minus((0,o.isSwapsDefaultTokenSymbol)(f,g)?m:0,10).toString(16),w=new n.default(T,16).plus(b,16).toString(16),y=(0,p.getValueFromWeiHex)({value:w,toDenomination:"ETH",numberOfDecimals:5}),k=(0,p.getValueFromWeiHex)({value:w,toCurrency:r,conversionRate:i,numberOfDecimals:2}),S=(0,l.formatCurrency)(k,r);let C;C=r===h?k:(0,p.getValueFromWeiHex)({value:w,toCurrency:h,conversionRate:c,numberOfDecimals:2});return{rawNetworkFees:k,feeInUsd:C,rawEthFee:y,feeInFiat:S,feeInEth:`${y} ${_||s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[g].symbol}`,nonGasFee:b}}function S(e){let t=(0,d.toPrecisionWithoutTrailingZeros)(e,12);return t.match(/e[+-]/u)&&(t=new n.default(t).toFixed()),t}a.getFeeForSmartTransaction=y;a.isContractAddressValid=(e,t=i.CHAIN_IDS.MAINNET)=>!(!e||!s.ALLOWED_CONTRACT_ADDRESSES[t])&&s.ALLOWED_CONTRACT_ADDRESSES[t].some((t=>e.toLowerCase()===t.toLowerCase()));const C=e=>{switch(e){case i.CHAIN_IDS.MAINNET:return s.ETHEREUM;case i.CHAIN_IDS.BSC:return s.BSC;case i.CHAIN_IDS.POLYGON:return s.POLYGON;case i.CHAIN_IDS.GOERLI:return s.GOERLI;case i.CHAIN_IDS.AVALANCHE:return s.AVALANCHE;case i.CHAIN_IDS.OPTIMISM:return s.OPTIMISM;case i.CHAIN_IDS.ARBITRUM:return s.ARBITRUM;default:return""}};a.getNetworkNameByChainId=C;a.getSwapsLivenessForNetwork=(e={},t)=>{const a=C(t);if([i.CHAIN_IDS.LOCALHOST,i.CHAIN_IDS.GOERLI].includes(t))return{swapsFeatureIsLive:!0};if(!e[a])return{swapsFeatureIsLive:!1};return e[a].extensionActive?{swapsFeatureIsLive:!0}:{swapsFeatureIsLive:e[a].fallbackToV1}};a.countDecimals=e=>{var t;return e&&Math.floor(e)!==e&&(null===(t=e.toString().split(".")[1])||void 0===t?void 0:t.length)||0};a.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};const N={UNAVAILABLE:"unavailable",NOT_ENOUGH_FUNDS:"not_enough_funds",REGULAR_TX_IN_PROGRESS:"regular_tx_pending"};a.stxErrorTypes=N;a.getTranslatedStxErrorMessage=(e,t)=>{switch(e){case N.UNAVAILABLE:case N.REGULAR_TX_IN_PROGRESS:return t("stxErrorUnavailable");case N.NOT_ENOUGH_FUNDS:return t("stxErrorNotEnoughFunds");default:return t("stxErrorUnavailable")}};a.parseSmartTransactionsError=e=>{const t=e.slice(12);return JSON.parse(t.trim())}}}},{package:"$root$",file:"ui\\pages\\swaps\\swaps.util.js"}],[4291,{"./view-on-block-explorer":4292},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./view-on-block-explorer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\view-on-block-explorer\\index.js"}],[4292,{"../../../../shared/constants/metametrics":3263,"../../../components/ui/box":3709,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../helpers/utils/util":3941,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=u(e("prop-types")),s=u(e("../../../components/ui/box")),o=e("../../../contexts/i18n"),i=e("../../../helpers/utils/util"),l=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function f({blockExplorerUrl:e,sensitiveTrackingProperties:t}){const a=(0,n.useContext)(o.I18nContext),r=(0,n.useContext)(l.MetaMetricsContext),u=(0,i.getURLHostName)(e);return n.default.createElement(s.default,{marginTop:6,className:"view-on-block-explorer"},n.default.createElement("button",{onClick:()=>{r({event:c.EVENT_NAMES.EXTERNAL_LINK_CLICKED,category:c.EVENT.CATEGORIES.SWAPS,sensitiveProperties:t,properties:{link_type:c.EVENT.EXTERNAL_LINK_TYPES.TRANSACTION_BLOCK_EXPLORER,location:"Swap Transaction",url_domain:u}}),global.platform.openTab({url:e})}},a("viewOnCustomBlockExplorer",[a("blockExplorerSwapAction"),u])))}f.propTypes={blockExplorerUrl:r.default.string.isRequired,sensitiveTrackingProperties:r.default.object.isRequired}}}},{package:"$root$",file:"ui\\pages\\swaps\\view-on-block-explorer\\view-on-block-explorer.js"}],[4293,{"./view-quote":4295},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./view-quote"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\swaps\\view-quote\\index.js"}],[4294,{"../../../../shared/constants/gas":3260,"../../../components/ui/actionable-message/actionable-message":3705,"../../../components/ui/box":3709,"../../../components/ui/tooltip":3867,"../../../contexts/i18n":3879,"../../../helpers/constants/design-system":3902,classnames:1775,"prop-types":2833,react:3032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=f(e("prop-types")),s=f(e("classnames")),o=e("../../../contexts/i18n"),i=f(e("../../../components/ui/actionable-message/actionable-message")),l=f(e("../../../components/ui/tooltip")),c=f(e("../../../components/ui/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/gas");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){const{usedQuote:t,sourceTokenValue:a,destinationTokenValue:r,onAcknowledgementClick:f,acknowledged:p,priceSlippageFromSource:m,priceSlippageFromDestination:g,priceDifferencePercentage:h,priceSlippageUnknownFiatValue:_}=e,E=(0,n.useContext)(o.I18nContext);let v="",T="",b="",w="";return _?(v=E("swapPriceUnavailableTitle"),T=E("swapPriceUnavailableDescription"),b=d.GasRecommendations.high,w=E("tooltipApproveButton")):(v=E("swapPriceDifferenceTitle",[h]),T=E("swapPriceDifference",[a,t.sourceTokenInfo.symbol,m,r,t.destinationTokenInfo.symbol,g]),b=t.priceSlippage.bucket,w=E("tooltipApproveButton")),n.default.createElement("div",{className:(0,s.default)("view-quote__price-difference-warning-wrapper",b)},n.default.createElement(i.default,{message:n.default.createElement("div",{className:"view-quote__price-difference-warning-contents"},n.default.createElement("div",{className:"view-quote__price-difference-warning-contents-text"},n.default.createElement(c.default,{display:u.DISPLAY.FLEX,justifyContent:u.JUSTIFY_CONTENT.SPACE_BETWEEN,paddingBottom:2},n.default.createElement("div",{className:"view-quote__price-difference-warning-contents-title"},v),n.default.createElement(l.default,{position:"bottom",title:E("swapPriceImpactTooltip")},n.default.createElement("i",{className:"fa fa-info-circle"}))),T,!p&&n.default.createElement("div",{className:"view-quote__price-difference-warning-contents-actions"},n.default.createElement("button",{onClick:()=>{f()}},w))))}))}m.propTypes={usedQuote:r.default.object,sourceTokenValue:r.default.string,destinationTokenValue:r.default.string,onAcknowledgementClick:r.default.func,acknowledged:r.default.bool,priceSlippageFromSource:r.default.string,priceSlippageFromDestination:r.default.string,priceDifferencePercentage:r.default.number,priceSlippageUnknownFiatValue:r.default.bool}}}},{package:"$root$",file:"ui\\pages\\swaps\\view-quote\\view-quote-price-difference.js"}],[4295,{"../../../../app/scripts/lib/util":87,"../../../../shared/constants/gas":3260,"../../../../shared/constants/metametrics":3263,"../../../../shared/constants/swaps":3268,"../../../../shared/lib/metamask-controller-utils":3274,"../../../../shared/lib/swaps-utils":3276,"../../../../shared/lib/transactions-controller-utils":3279,"../../../../shared/modules/conversion.utils":3285,"../../../../shared/modules/string-utils":3295,"../../../../shared/modules/transaction.utils":3297,"../../../components/ui/actionable-message/actionable-message":3705,"../../../components/ui/box":3709,"../../../components/ui/pulse-loader":3833,"../../../contexts/i18n":3879,"../../../contexts/metametrics":3880,"../../../ducks/metamask/metamask":3894,"../../../ducks/swaps/swaps":3898,"../../../helpers/constants/routes":3906,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":3935,"../../../hooks/gasFeeInput/useGasFeeInputs":3945,"../../../hooks/useEqualityCheck":3958,"../../../hooks/useEthFiatAmount":3959,"../../../hooks/usePrevious":3964,"../../../hooks/useTokenTracker":3974,"../../../selectors":4306,"../../../store/actionConstants":4312,"../../../store/actions":4313,"../../confirm-approve/confirm-approve.util":3994,"../countdown-timer":4245,"../fee-card":4256,"../main-quote-summary":4263,"../select-quote-popover":4271,"../swaps-footer":4288,"../swaps.util":4290,"./view-quote-price-difference":4294,"@sentry/browser":1198,"bignumber.js":1650,classnames:1775,lodash:2730,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,$,V,K,Q;const X=(0,s.useHistory)(),Z=(0,r.useDispatch)(),z=(0,n.useContext)(u.I18nContext),J=(0,n.useContext)(h.MetaMetricsContext),[ee,te]=(0,n.useState)(!1),[ae,ne]=(0,n.useState)(!1),[re,se]=(0,n.useState)(!1),[oe,ie]=(0,n.useState)(!1),[le,ce]=(0,n.useState)(null),[ue,de]=(0,n.useState)(null),[fe,pe]=(0,n.useState)(null),[me]=(0,n.useState)(Date.now()),[ge,he]=(0,n.useState)(!1),_e=[P.GasRecommendations.high,P.GasRecommendations.medium],Ee=(0,r.useSelector)(E.getBackgroundSwapRouteState),ve=(0,r.useSelector)(E.getQuotes,i.isEqual);(0,n.useEffect)((()=>{Object.values(ve).length?"awaiting"===Ee&&X.push(y.AWAITING_SWAP_ROUTE):X.push(y.BUILD_QUOTE_ROUTE)}),[X,ve,Ee]);const Te=(0,r.useSelector)(E.getQuotesLastFetched),be=(0,r.useSelector)(E.getUsedSwapsGasPrice),we=(0,r.useSelector)(E.getCustomSwapsGas),ye=(0,r.useSelector)(E.getCustomMaxFeePerGas),ke=(0,r.useSelector)(E.getCustomMaxPriorityFeePerGas),Se=(0,r.useSelector)(E.getSwapsUserFeeLevel),Ce=(0,r.useSelector)(v.getTokenExchangeRates,i.isEqual),Ne=(0,p.useEqualityCheck)(Ce),{balance:Oe}=(0,r.useSelector)(v.getSelectedAccount,r.shallowEqual),Re=(0,r.useSelector)(v.conversionRateSelector),Pe=(0,r.useSelector)(v.getUSDConversionRate),xe=(0,r.useSelector)(v.getIsMultiLayerFeeNetwork),Ie=(0,r.useSelector)(v.getCurrentCurrency),Ae=(0,r.useSelector)(T.getTokens,i.isEqual),Me=(0,r.useSelector)(v.checkNetworkAndAccountSupports1559),De=(0,r.useSelector)(E.getBalanceError),Le=(0,r.useSelector)(E.getFetchParams,i.isEqual),je=(0,r.useSelector)(E.getApproveTxParams,r.shallowEqual),Fe=(0,r.useSelector)(E.getSelectedQuote,i.isEqual),Ue=(0,r.useSelector)(E.getTopQuote,i.isEqual),We=Fe||Ue,qe=null!==(e=null==We||null===(t=We.trade)||void 0===t?void 0:t.value)&&void 0!==e?e:"0x0",Ge=(0,r.useSelector)(E.getSwapsQuoteRefreshTime),He=(0,r.useSelector)(v.getSwapsDefaultToken,i.isEqual),Be=(0,r.useSelector)(v.getCurrentChainId),$e=(0,r.useSelector)(T.getNativeCurrency),Ve=(0,r.useSelector)(E.getReviewSwapClickedTimestamp),Ye=(0,r.useSelector)(E.getSmartTransactionsOptInStatus),Ke=(0,r.useSelector)(E.getSmartTransactionsEnabled),Qe=(0,r.useSelector)(E.getSwapsSTXLoading),Xe=(0,r.useSelector)(E.getCurrentSmartTransactionsError),Ze=(0,r.useSelector)(E.getSmartTransactionsError),ze=(0,r.useSelector)(E.getSmartTransactionFees,i.isEqual),Je=(0,r.useSelector)(E.getCurrentSmartTransactionsEnabled),et=(0,r.useSelector)(E.getSwapsNetworkConfig,r.shallowEqual),tt=We.trade;let at;Me&&(at=(0,g.useGasFeeInputs)(P.GasRecommendations.high,{userFeeLevel:Se||P.GasRecommendations.high}));const{isBestQuote:nt}=We,rt=null==Le?void 0:Le.sourceToken,st={reg_tx_fee_in_usd:undefined,reg_tx_fee_in_eth:undefined,reg_tx_max_fee_in_usd:undefined,reg_tx_max_fee_in_eth:undefined,stx_fee_in_usd:undefined,stx_fee_in_eth:undefined,stx_max_fee_in_usd:undefined,stx_max_fee_in_eth:undefined},ot=(null==We?void 0:We.gasEstimateWithRefund)||`0x${(0,H.decimalToHex)((null==We?void 0:We.averageGas)||0)}`,it=(null==We?void 0:We.gasEstimate)||"0x0",lt=new o.default(it,16).times((null==We?void 0:We.gasMultiplier)||E.FALLBACK_GAS_MULTIPLIER,10).round(0).toString(16),ct=null!=We&&We.gasEstimate?lt:`0x${(0,H.decimalToHex)((null==We?void 0:We.maxGas)||0)}`,ut=we||ct;let dt,ft,pt;if(Me){const{maxFeePerGas:e,maxPriorityFeePerGas:t,gasFeeEstimates:{estimatedBaseFee:a="0"}}=at;dt=ye||(0,H.decGWEIToHexWEI)(e),ft=ke||(0,H.decGWEIToHexWEI)(t),pt=(0,H.addHexes)((0,H.decGWEIToHexWEI)(a),ft)}let mt=(0,U.calcGasTotal)(ut,dt||be);null!==ue&&(mt=(0,H.sumHexes)(mt||"0x0",ue||"0x0"));const{tokensWithBalances:gt}=(0,O.useTokenTracker)(Ae,!0),ht=rt===He.address?He:gt.find((({address:e})=>(0,L.isEqualCaseInsensitive)(e,rt))),_t=ht||We.sourceTokenInfo,Et=(null==gt?void 0:gt.length)&&(0,U.calcTokenAmount)(_t.balance||"0x0",_t.decimals).toFixed(9),vt=gt&&ht===undefined,Tt=(0,j.parseStandardTokenTransactionData)(null==je?void 0:je.data),bt=Tt&&(0,F.getTokenValueParam)(Tt),wt=bt&&(null==_t?void 0:_t.decimals)!==undefined&&(0,U.calcTokenAmount)(bt,_t.decimals).toFixed(9),yt=null==je?void 0:je.gas,kt=(0,n.useMemo)((()=>(0,N.quotesToRenderableData)(ve,Me?pt:be,Re,Ie,yt,Ne,Be,Ke&&Ye&&(null==ze?void 0:ze.tradeTxFees),$e,fe)),[ve,be,pt,Me,Re,Ie,yt,Ne,Be,null==ze?void 0:ze.tradeTxFees,$e,Ke,Ye,fe]),St=kt.find((e=>e.aggId===We.aggregator)),{destinationTokenDecimals:Ct,destinationTokenSymbol:Nt,destinationTokenValue:Ot,destinationIconUrl:Rt,sourceTokenDecimals:Pt,sourceTokenSymbol:xt,sourceTokenValue:It,sourceTokenIconUrl:At}=St;let{feeInFiat:Mt,feeInEth:Dt,rawEthFee:Lt,feeInUsd:jt}=(0,N.getRenderableNetworkFeesForQuote)({tradeGas:ot,approveGas:yt,gasPrice:Me?pt:be,currentCurrency:Ie,conversionRate:Re,USDConversionRate:Pe,tradeValue:qe,sourceSymbol:xt,sourceAmount:We.sourceAmount,chainId:Be,nativeCurrencySymbol:$e,multiLayerL1FeeTotal:ue});st.reg_tx_fee_in_usd=Number(jt),st.reg_tx_fee_in_eth=Number(Lt);const Ft=(0,N.getRenderableNetworkFeesForQuote)({tradeGas:ut,approveGas:yt,gasPrice:dt||be,currentCurrency:Ie,conversionRate:Re,USDConversionRate:Pe,tradeValue:qe,sourceSymbol:xt,sourceAmount:We.sourceAmount,chainId:Be,nativeCurrencySymbol:$e,multiLayerL1FeeTotal:ue});let{feeInFiat:Ut,feeInEth:Wt,rawEthFee:qt,feeInUsd:Gt}=Ft;if(st.reg_tx_max_fee_in_usd=Number(Gt),st.reg_tx_max_fee_in_eth=Number(qt),Je&&Ye&&null!=ze&&ze.tradeTxFees){var Ht;const e=(null==ze?void 0:ze.tradeTxFees.feeEstimate)+((null==ze||null===(Ht=ze.approvalTxFees)||void 0===Ht?void 0:Ht.feeEstimate)||0),t=e*et.stxMaxFeeMultiplier;({feeInFiat:Mt,feeInEth:Dt,rawEthFee:Lt,feeInUsd:jt}=(0,N.getFeeForSmartTransaction)({chainId:Be,currentCurrency:Ie,conversionRate:Re,USDConversionRate:Pe,nativeCurrencySymbol:$e,feeInWeiDec:e})),st.stx_fee_in_usd=Number(jt),st.stx_fee_in_eth=Number(Lt),st.estimated_gas=null==ze?void 0:ze.tradeTxFees.gasLimit,({feeInFiat:Ut,feeInEth:Wt,rawEthFee:qt,feeInUsd:Gt}=(0,N.getFeeForSmartTransaction)({chainId:Be,currentCurrency:Ie,conversionRate:Re,USDConversionRate:Pe,nativeCurrencySymbol:$e,feeInWeiDec:t})),st.stx_max_fee_in_usd=Number(Gt),st.stx_max_fee_in_eth=Number(qt)}const Bt=new o.default(We.sourceAmount),$t=new o.default(We.trade.value||0,10).plus(new o.default(mt,16)),Vt=((null==gt?void 0:gt.length)||De)&&Bt.gt(new o.default(_t.balance||"0x0")),Yt=$t.gt(new o.default(Oe||"0x0")),Kt=Vt?(0,U.toPrecisionWithoutTrailingZeros)((0,U.calcTokenAmount)(Bt,_t.decimals).minus(Et).toString(10),6):null,Qt=Yt?(0,U.toPrecisionWithoutTrailingZeros)($t.minus(Oe,16).div("1000000000000000000",10).toString(10),6):null;let Xt;null!=Ze&&Ze.balanceNeededWei&&(Xt=(0,H.decWEIToDecETH)(Ze.balanceNeededWei-Ze.currentBalanceWei));const Zt=(0,r.useSelector)(E.getDestinationTokenInfo,i.isEqual);(0,n.useEffect)((()=>{Je&&Ye?Vt?Z((0,E.setBalanceError)(!0)):De&&!Vt&&Z((0,E.setBalanceError)(!1)):Vt||Yt?Z((0,E.setBalanceError)(!0)):!De||Vt||Yt||Z((0,E.setBalanceError)(!1))}),[Vt,Yt,De,Z,Je,Ye]),(0,n.useEffect)((()=>{const e=Date.now()-Te;e>Ge&&!ee?(te(!0),Z((0,b.safeRefetchQuotes)())):e>Ge&&(Z((0,b.setSwapsErrorKey)(R.QUOTES_EXPIRED_ERROR)),X.push(y.SWAPS_ERROR_ROUTE))}),[Te,ee,Z,X,Ge]),(0,n.useEffect)((()=>{!le&&wt&&ce(wt)}),[le,wt]);const zt=(!Je||!Ye)&&Qt,Jt=Je&&Ye&&Xt,ea=(De||Kt||zt||Jt)&&!oe,ta=(0,r.useSelector)(v.isHardwareWallet),aa=(0,r.useSelector)(v.getHardwareWalletType),na=Object.values(ve).length,ra=(0,n.useRef)(),sa=(0,n.useMemo)((()=>({token_from:xt,token_from_amount:It,token_to:Nt,token_to_amount:Ot,request_type:null==Le?void 0:Le.balanceError,slippage:null==Le?void 0:Le.slippage,custom_slippage:2!==(null==Le?void 0:Le.slippage),response_time:null==Le?void 0:Le.responseTime,best_quote_source:null==Ue?void 0:Ue.aggregator,available_quotes:na,is_hardware_wallet:ta,hardware_wallet_type:aa,stx_enabled:Ke,current_stx_enabled:Je,stx_user_opt_in:Ye})),[xt,It,Nt,Ot,null==Le?void 0:Le.balanceError,null==Le?void 0:Le.slippage,null==Le?void 0:Le.responseTime,null==Ue?void 0:Ue.aggregator,na,ta,aa,Ke,Je,Ye]),oa=()=>{J({event:"Edit Spend Limit Opened",category:D.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{...sa,custom_spend_limit_set:le===wt,custom_spend_limit_amount:le===wt?null:wt}})},ia=(0,n.useCallback)((()=>{J({event:"Best Quote Reviewed",category:D.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{...sa,network_fees:Mt}})}),[J,sa,Mt]),la=(0,n.useCallback)((()=>{J({event:"View Quote Page Loaded",category:D.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{...sa,response_time:me-Ve}})}),[J,sa,me,Ve]);(0,n.useEffect)((()=>{!ra.current&&[xt,It,Nt,Ot,Le,Ue,na,Mt].every((e=>null!==e&&e!==undefined))&&(ra.current=!0,ia())}),[Le,Ue,na,Mt,Nt,Ot,xt,It,ia]);const ca=We.fee,ua=vt?z("swapTokenBalanceUnavailable",[xt]):z("swapApproveNeedMoreTokens",[n.default.createElement("span",{key:"swapApproveNeedMoreTokens-1",className:"view-quote__bold"},Kt||Xt||Qt),Kt&&xt!==He.symbol?xt:He.symbol]),da=null==We||null===(a=We.priceSlippage)||void 0===a?void 0:a.bucket,fa=(0,m.usePrevious)(da);(0,n.useEffect)((()=>{ge&&fa===P.GasRecommendations.medium&&da===P.GasRecommendations.high&&he(!1)}),[da,ge,fa]);let pa=null;const ma=(0,f.useEthFiatAmount)((null==We||null===($=We.priceSlippage)||void 0===$?void 0:$.sourceAmountInETH)||0,{showFiat:!0}),ga=(0,f.useEthFiatAmount)((null==We||null===(V=We.priceSlippage)||void 0===V?void 0:V.destinationAmountInETH)||0,{showFiat:!0}),ha=!ma||!ga||Boolean(null==We||null===(K=We.priceSlippage)||void 0===K?void 0:K.calculationError);let _a=0;null!=We&&null!==(Q=We.priceSlippage)&&void 0!==Q&&Q.ratio&&(_a=parseFloat(new o.default(We.priceSlippage.ratio,10).minus(1,10).times(100,10).toFixed(2),10));const Ea=!vt&&!ea&&We&&(_e.includes(da)||ha);Ea&&(pa=n.default.createElement(B.default,{usedQuote:We,sourceTokenValue:It,destinationTokenValue:Ot,priceSlippageFromSource:ma,priceSlippageFromDestination:ga,priceDifferencePercentage:_a,priceSlippageUnknownFiatValue:ha,onAcknowledgementClick:()=>{he(!0)},acknowledged:ge}));const va=Ea&&!ge,Ta=ea||Ea,ba=Boolean(ae||De||vt||va||Me&&pt===undefined||!Me&&(null===be||be===undefined)||Je&&(Xe||Ze)||Je&&Ye&&!(null!=ze&&ze.tradeTxFees));return(0,n.useEffect)((()=>{if(Je&&Ye&&!Vt){const e={from:tt.from,to:tt.to,value:tt.value,data:tt.data,gas:tt.gas,chainId:Be};Y=setInterval((()=>{Qe||Z((0,E.fetchSwapsSmartTransactionFees)({unsignedTransaction:e,approveTxParams:je,fallbackOnNotEnoughFunds:!1}))}),et.stxGetTransactionsRefreshTime),Z((0,E.fetchSwapsSmartTransactionFees)({unsignedTransaction:e,approveTxParams:je,fallbackOnNotEnoughFunds:!1}))}else Y&&clearInterval(Y);return()=>clearInterval(Y)}),[Z,Je,Ye,tt.data,tt.from,tt.value,tt.gas,tt.to,Be,et.stxGetTransactionsRefreshTime,Vt]),(0,n.useEffect)((()=>{Z((0,b.setSwapsQuotesPollingLimitEnabled)(!0)),Ve&&la()}),[Z,la,Ve]),(0,n.useEffect)((()=>{!Je&&Xe&&ae&&ne(!1)}),[Je,Xe,ae]),(0,n.useEffect)((()=>{if(!xe||null==We||!We.multiLayerL1TradeFeeTotal)return;(async()=>{try{let e="0x0";je&&(e=await(0,G.default)({txParams:{...je,gasPrice:(0,W.addHexPrefix)(je.gasPrice),value:"0x0"},chainId:Be}),pe(e));const t=(0,H.sumHexes)(We.multiLayerL1TradeFeeTotal,e);de(t)}catch(e){(0,c.captureException)(e),de(null),pe(null)}})()}),[tt,je,xe,Be,We]),(0,n.useEffect)((()=>{Je&&Ye&&Z({type:w.SET_SMART_TRANSACTIONS_ERROR,payload:null})}),[Je,Ye,Z]),n.default.createElement("div",{className:"view-quote"},n.default.createElement("div",{className:(0,l.default)("view-quote__content",{"view-quote__content_modal":va})},re&&n.default.createElement(d.default,{quoteDataRows:kt,onClose:()=>se(!1),onSubmit:e=>Z((0,E.swapsQuoteSelected)(e)),swapToSymbol:Nt,initialAggId:We.aggregator,onQuoteDetailsIsOpened:()=>{J({event:"Quote Details Opened",category:D.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{...sa,other_quote_selected:(null==We?void 0:We.aggregator)!==(null==Ue?void 0:Ue.aggregator),other_quote_selected_source:(null==We?void 0:We.aggregator)===(null==Ue?void 0:Ue.aggregator)?null:null==We?void 0:We.aggregator}})},hideEstimatedGasFee:Ke&&Ye}),n.default.createElement("div",{className:(0,l.default)("view-quote__warning-wrapper",{"view-quote__warning-wrapper--thin":!Ta})},pa,(ea||vt)&&n.default.createElement(C.default,{message:ua,onClose:()=>ie(!0)})),n.default.createElement("div",{className:"view-quote__countdown-timer-container"},n.default.createElement(x.default,{timeStarted:Te,warningTime:"0:10",labelKey:"swapNewQuoteIn"})),n.default.createElement(k.default,{sourceValue:(0,q.calcTokenValue)(It,Pt),sourceDecimals:Pt,sourceSymbol:xt,destinationValue:(0,q.calcTokenValue)(Ot,Ct),destinationDecimals:Ct,destinationSymbol:Nt,sourceIconUrl:At,destinationIconUrl:Rt}),Je&&Ye&&!(null!=ze&&ze.tradeTxFees)&&!ea&&n.default.createElement(M.default,{marginTop:0,marginBottom:10},n.default.createElement(A.default,null)),(!Je||!Ye||(null==ze?void 0:ze.tradeTxFees))&&n.default.createElement("div",{className:(0,l.default)("view-quote__fee-card-container",{"view-quote__fee-card-container--three-rows":je&&(!De||oe)})},n.default.createElement(_.default,{primaryFee:{fee:Dt,maxFee:Wt},secondaryFee:{fee:Mt,maxFee:Ut},hideTokenApprovalRow:!je||De&&!oe,tokenApprovalSourceTokenSymbol:xt,onTokenApprovalClick:()=>{oa(),Z((0,b.showModal)({name:"EDIT_APPROVAL_PERMISSION",decimals:_t.decimals,origin:"MetaMask",setCustomAmount:e=>{const t=""===e?le:e,a=(0,S.getCustomTxParamsData)(je.data,{customPermissionAmount:t,decimals:_t.decimals});null!=t&&t.length&&je.data!==a&&Z((0,b.setCustomApproveTxData)(a))},tokenAmount:le,customTokenAmount:le===wt?null:wt,tokenBalance:Et,tokenSymbol:_t.symbol,requiredMinimum:(0,U.calcTokenAmount)(We.sourceAmount,_t.decimals)}))},metaMaskFee:String(ca),numberOfQuotes:Object.values(ve).length,onQuotesClick:()=>{J({event:"All Available Quotes Opened",category:D.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{...sa,other_quote_selected:(null==We?void 0:We.aggregator)!==(null==Ue?void 0:Ue.aggregator),other_quote_selected_source:(null==We?void 0:We.aggregator)===(null==Ue?void 0:Ue.aggregator)?null:null==We?void 0:We.aggregator}}),se(!0)},chainId:Be,isBestQuote:nt,maxPriorityFeePerGasDecGWEI:(0,H.hexWEIToDecGWEI)(ft),maxFeePerGasDecGWEI:(0,H.hexWEIToDecGWEI)(dt)}))),n.default.createElement(I.default,{onSubmit:()=>{ne(!0),De?Zt.symbol===He.symbol?X.push(y.DEFAULT_ROUTE):X.push(`${y.ASSET_ROUTE}/${Zt.address}`):Je&&Ye&&null!=ze&&ze.tradeTxFees?Z((0,E.signAndSendSwapsSmartTransaction)({unsignedTransaction:tt,trackEvent:J,history:X,additionalTrackingParams:st})):Z((0,E.signAndSendTransactions)(X,J,st))},submitText:z(Je&&Ye&&Qe?"preparingSwap":"swap"),hideCancel:!0,disabled:ba,className:Ta?"view-quote__thin-swaps-footer":"",showTopBorder:!0}))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=V(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=$(e("bignumber.js")),i=e("lodash"),l=$(e("classnames")),c=e("@sentry/browser"),u=e("../../../contexts/i18n"),d=$(e("../select-quote-popover")),f=e("../../../hooks/useEthFiatAmount"),p=e("../../../hooks/useEqualityCheck"),m=e("../../../hooks/usePrevious"),g=e("../../../hooks/gasFeeInput/useGasFeeInputs"),h=e("../../../contexts/metametrics"),_=$(e("../fee-card")),E=e("../../../ducks/swaps/swaps"),v=e("../../../selectors"),T=e("../../../ducks/metamask/metamask"),b=e("../../../store/actions"),w=e("../../../store/actionConstants"),y=e("../../../helpers/constants/routes"),k=$(e("../main-quote-summary")),S=e("../../confirm-approve/confirm-approve.util"),C=$(e("../../../components/ui/actionable-message/actionable-message")),N=e("../swaps.util"),O=e("../../../hooks/useTokenTracker"),R=e("../../../../shared/constants/swaps"),P=e("../../../../shared/constants/gas"),x=$(e("../countdown-timer")),I=$(e("../swaps-footer")),A=$(e("../../../components/ui/pulse-loader")),M=$(e("../../../components/ui/box")),D=e("../../../../shared/constants/metametrics"),L=e("../../../../shared/modules/string-utils"),j=e("../../../../shared/modules/transaction.utils"),F=e("../../../../shared/lib/metamask-controller-utils"),U=e("../../../../shared/lib/transactions-controller-utils"),W=e("../../../../app/scripts/lib/util"),q=e("../../../../shared/lib/swaps-utils"),G=$(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),H=e("../../../../shared/modules/conversion.utils"),B=$(e("./view-quote-price-difference"));function $(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(V=function(e){return e?a:t})(e)}let Y}}},{package:"$root$",file:"ui\\pages\\swaps\\view-quote\\view-quote.js"}],[4296,{"../../../shared/constants/network":3264,"../../../shared/constants/tokens":3270,"../../../shared/lib/transactions-controller-utils":3279,"../../components/app/approve-content-card/approve-content-card":3339,"../../components/app/confirm-page-container":3372,"../../components/app/custom-spending-cap/custom-spending-cap":3395,"../../components/app/modals/contract-details-modal/contract-details-modal":3475,"../../components/app/network-account-balance-header/network-account-balance-header":3512,"../../components/ui/box/box":3708,"../../components/ui/button":3713,"../../components/ui/contract-token-values/contract-token-values":3727,"../../components/ui/dialog":3733,"../../components/ui/page-container":3824,"../../components/ui/review-spending-cap/review-spending-cap":3837,"../../components/ui/typography/typography":3872,"../../components/ui/url-icon/url-icon":3877,"../../contexts/gasFee":3878,"../../contexts/i18n":3879,"../../ducks/app/app":3886,"../../ducks/confirm-transaction/confirm-transaction.duck":3887,"../../ducks/history/history":3891,"../../helpers/constants/design-system":3902,"../../helpers/utils/util":3941,"../../selectors":4306,"../../store/actions":4313,"../confirm-approve/confirm-approve.util":3994,"bignumber.js":1650,"prop-types":2833,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=L;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=M(e("prop-types")),i=M(e("bignumber.js")),l=M(e("../../components/ui/box/box")),c=M(e("../../components/app/network-account-balance-header/network-account-balance-header")),u=M(e("../../components/ui/url-icon/url-icon")),d=M(e("../../components/ui/typography/typography")),f=e("../../helpers/constants/design-system"),p=e("../../contexts/i18n"),m=M(e("../../components/ui/contract-token-values/contract-token-values")),g=M(e("../../components/ui/button")),h=M(e("../../components/ui/review-spending-cap/review-spending-cap")),_=e("../../components/ui/page-container"),E=M(e("../../components/app/modals/contract-details-modal/contract-details-modal")),v=e("../../selectors"),T=e("../../../shared/constants/network"),b=e("../../store/actions"),w=e("../../ducks/confirm-transaction/confirm-transaction.duck"),y=e("../../ducks/history/history"),k=M(e("../../components/app/approve-content-card/approve-content-card")),S=M(e("../../components/app/custom-spending-cap/custom-spending-cap")),C=M(e("../../components/ui/dialog")),N=e("../../contexts/gasFee"),O=e("../confirm-approve/confirm-approve.util"),R=e("../../ducks/app/app"),P=e("../../helpers/utils/util"),x=e("../../../shared/lib/transactions-controller-utils"),I=e("../../../shared/constants/tokens"),A=e("../../components/app/confirm-page-container");function M(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function L({origin:e,siteImage:t,showCustomizeGasModal:a,useNonceField:o,currentCurrency:M,nativeCurrency:D,ethTransactionTotal:L,fiatTransactionTotal:j,hexTransactionTotal:F,txData:U,isMultiLayerFeeNetwork:W,supportsEIP1559:q,userAddress:G,tokenAddress:H,data:B,isSetApproveForAll:$,isApprovalOrRejection:V,decimals:Y,dappProposedTokenAmount:K,currentTokenBalance:Q,toAddress:X,tokenSymbol:Z}){const z=(0,n.useContext)(p.I18nContext),J=(0,r.useDispatch)(),ee=(0,s.useHistory)(),te=(0,r.useSelector)(y.getMostRecentOverviewPage),[ae,ne]=(0,n.useState)(!1),[re,se]=(0,n.useState)(!1),[oe,ie]=(0,n.useState)("0"!==K),[le,ce]=(0,n.useState)(""),ue=(0,r.useSelector)(v.getCurrentAccountWithSendEtherInfo),de=(0,r.useSelector)(v.getNetworkIdentifier),fe=(0,r.useSelector)(v.getRpcPrefsForCurrentProvider),pe=(0,r.useSelector)(v.getCustomTokenAmount),me=(0,r.useSelector)(v.getUnapprovedTxCount),ge=(0,r.useSelector)(v.getUnapprovedTransactions),he=e=>e.replace(/,/gu,".");let _e=I.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(pe)?he(pe).toString():"0";const Ee=(0,x.calcTokenAmount)(I.MAX_TOKEN_ALLOWANCE_AMOUNT,Y);if(pe.length>1&&Number(pe)){new i.default(pe).greaterThan(Ee)&&(_e=0)}const ve=_e?(0,O.getCustomTxParamsData)(B,{customPermissionAmount:_e,decimals:Y}):null;let Te={...U};ve&&(Te={...Te,txParams:{...Te.txParams,data:ve}});const be=(0,r.useSelector)((e=>(0,v.transactionFeeSelector)(e,Te))),we=(0,r.useSelector)((e=>(0,v.getKnownMethodData)(e,B))),{balanceError:ye}=(0,N.useGasFeeContext)(),ke=oe&&(""===pe||""!==le),Se=!oe&&ye,Ce=T.NETWORK_TO_NAME_MAP[Te.chainId]||de,Ne=()=>{se(!1),ie(!0)},Oe=""===pe,Re=n.default.createElement(l.default,{marginTop:4,key:H},n.default.createElement(m.default,{tokenName:Z,address:H,chainId:Te.chainId,rpcPrefs:fe}));return n.default.createElement(l.default,{className:"token-allowance-container page-container"},n.default.createElement(l.default,null,n.default.createElement(A.ConfirmPageContainerNavigation,null)),n.default.createElement(l.default,{paddingLeft:4,paddingRight:4,alignItems:f.ALIGN_ITEMS.CENTER,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.ROW,justifyContent:f.JUSTIFY_CONTENT.SPACE_BETWEEN},n.default.createElement(l.default,null,!oe&&n.default.createElement(g.default,{type:"inline",onClick:()=>Ne()},n.default.createElement(d.default,{variant:f.TYPOGRAPHY.H6,color:f.COLORS.TEXT_MUTED,fontWeight:f.FONT_WEIGHT.BOLD},"<"," ",z("back")))),n.default.createElement(l.default,{textAlign:f.TEXT_ALIGN.END},n.default.createElement(d.default,{variant:f.TYPOGRAPHY.H7,color:f.COLORS.TEXT_MUTED,fontWeight:f.FONT_WEIGHT.BOLD},oe?1:2," ",z("ofTextNofM")," 2"))),n.default.createElement(c.default,{networkName:Ce,accountName:ue.name,accountBalance:Q,tokenName:Z,accountAddress:G,chainId:Te.chainId}),n.default.createElement(l.default,{display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.ROW,justifyContent:f.JUSTIFY_CONTENT.CENTER},n.default.createElement(l.default,{display:f.DISPLAY.FLEX,alignItems:f.ALIGN_ITEMS.CENTER,marginTop:6,marginRight:12,marginBottom:8,marginLeft:12,paddingTop:2,paddingRight:4,paddingBottom:2,paddingLeft:2,borderColor:f.COLORS.BORDER_MUTED,borderStyle:f.BORDER_STYLE.SOLID,borderWidth:1,className:"token-allowance-container__icon-display-content"},n.default.createElement(u.default,{className:"token-allowance-container__icon-display-content__siteimage-identicon",fallbackClassName:"token-allowance-container__icon-display-content__siteimage-identicon",name:e,url:t}),n.default.createElement(d.default,{variant:f.TYPOGRAPHY.H6,fontWeight:f.FONT_WEIGHT.NORMAL,color:f.COLORS.TEXT_ALTERNATIVE,boxProps:{marginLeft:1,marginTop:2}},e))),n.default.createElement(l.default,{marginLeft:4,marginRight:4},n.default.createElement(d.default,{variant:f.TYPOGRAPHY.H3,fontWeight:f.FONT_WEIGHT.BOLD,align:f.TEXT_ALIGN.CENTER},oe?z("setSpendingCap",[Re]):n.default.createElement(l.default,null,"0"===pe||Oe?z("revokeSpendingCap",[Re]):n.default.createElement(l.default,null,z("reviewSpendingCap"),Re)))),n.default.createElement(l.default,{marginTop:1,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.ROW,justifyContent:f.JUSTIFY_CONTENT.CENTER},n.default.createElement(g.default,{type:"link",onClick:()=>ne(!0),className:"token-allowance-container__verify-link"},n.default.createElement(d.default,{variant:f.TYPOGRAPHY.H6,color:f.COLORS.PRIMARY_DEFAULT},z("verifyContractDetails")))),n.default.createElement(l.default,{margin:[4,4,3,4]},oe?n.default.createElement(S.default,{tokenName:Z,currentTokenBalance:Q,dappProposedValue:K,siteOrigin:e,passTheErrorText:e=>ce(e),decimals:Y}):n.default.createElement(h.default,{tokenName:Z,currentTokenBalance:Q,tokenValue:isNaN(parseFloat(pe))?K:he(pe),onEdit:()=>Ne()})),!oe&&ye&&n.default.createElement(C.default,{type:"error",className:"send__error-dialog"},z("insufficientFundsForGas")),!oe&&n.default.createElement(l.default,{className:"token-allowance-container__card-wrapper"},n.default.createElement(k.default,{symbol:n.default.createElement("i",{className:"fa fa-tag"}),title:z("transactionFee"),showEdit:!0,showAdvanceGasFeeOptions:!0,onEditClick:a,renderTransactionDetailsContent:!0,noBorder:o||!re,supportsEIP1559:q,isMultiLayerFeeNetwork:W,ethTransactionTotal:L,nativeCurrency:D,fullTxData:Te,hexTransactionTotal:F,fiatTransactionTotal:j,currentCurrency:M})),n.default.createElement(l.default,{display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.ROW,justifyContent:f.JUSTIFY_CONTENT.CENTER},n.default.createElement(g.default,{type:"link",onClick:()=>se(!re),className:"token-allowance-container__view-details"},n.default.createElement(d.default,{variant:f.TYPOGRAPHY.H6,color:f.COLORS.PRIMARY_DEFAULT,marginRight:1},z("viewDetails")),re?n.default.createElement("i",{className:"fa fa-sm fa-angle-up"}):n.default.createElement("i",{className:"fa fa-sm fa-angle-down"}))),re?n.default.createElement(l.default,{display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,alignItems:f.ALIGN_ITEMS.CENTER,className:"token-allowance-container__full-tx-content"},n.default.createElement(l.default,{className:"token-allowance-container__data"},n.default.createElement(k.default,{symbol:n.default.createElement("i",{className:"fa fa-file"}),title:z("data"),renderDataContent:!0,noBorder:!0,supportsEIP1559:q,isSetApproveForAll:$,isApprovalOrRejection:V,data:ve||B}))):null,n.default.createElement(_.PageContainerFooter,{cancelText:z("reject"),submitText:z(oe?"next":"approveButtonText"),onCancel:()=>(J((0,b.updateCustomNonce)("")),J((0,R.setCustomTokenAmount)("")),void J((0,b.cancelTx)(Te)).then((()=>{J((0,w.clearConfirmTransaction)()),ee.push(te)}))),onSubmit:()=>oe?(se(!1),void ie(!1)):(()=>{const{name:e}=we;be.gasEstimationObject.baseFeePerGas&&(Te.estimatedBaseFee=be.gasEstimationObject.baseFeePerGas),e&&(Te.contractMethodName=e),K&&(Te.dappProposedTokenAmount=K,Te.originalApprovalAmount=K),pe?(Te.customTokenAmount=pe,Te.finalApprovalAmount=pe):K!==undefined&&(Te.finalApprovalAmount=K),Q&&(Te.currentTokenBalance=Q),J((0,b.updateCustomNonce)("")),J((0,b.updateAndApproveTx)(Te)).then((()=>{J((0,w.clearConfirmTransaction)()),ee.push(te)}))})(),disabled:ke||Se},me>1&&n.default.createElement(g.default,{type:"link",onClick:e=>{e.preventDefault(),J((0,b.showModal)({name:"REJECT_TRANSACTIONS",unapprovedTxCount:me,onSubmit:async()=>{await J((0,b.cancelTxs)((0,P.valuesFor)(ge))),J((0,w.clearConfirmTransaction)()),ee.push(te)}}))}},z("rejectTxsN",[me]))),ae&&n.default.createElement(E.default,{tokenName:Z,onClose:()=>ne(!1),tokenAddress:H,toAddress:X,chainId:Te.chainId,rpcPrefs:fe,origin:e,siteImage:t}))}L.propTypes={origin:o.default.string,siteImage:o.default.string,showCustomizeGasModal:o.default.func,useNonceField:o.default.bool,currentCurrency:o.default.string,nativeCurrency:o.default.string,ethTransactionTotal:o.default.string,fiatTransactionTotal:o.default.string,hexTransactionTotal:o.default.string,txData:o.default.object,isMultiLayerFeeNetwork:o.default.bool,supportsEIP1559:o.default.bool,userAddress:o.default.string,tokenAddress:o.default.string,data:o.default.string,isSetApproveForAll:o.default.bool,isApprovalOrRejection:o.default.bool,decimals:o.default.string,dappProposedTokenAmount:o.default.string,currentTokenBalance:o.default.string,toAddress:o.default.string,tokenSymbol:o.default.string}}}},{package:"$root$",file:"ui\\pages\\token-allowance\\token-allowance.js"}],[4297,{"./token-details-page":4298},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./token-details-page"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui\\pages\\token-details\\index.js"}],[4298,{"../../../shared/constants/network":3264,"../../../shared/modules/string-utils":3295,"../../components/ui/box":3709,"../../components/ui/button":3713,"../../components/ui/icon/copy-icon.component":3755,"../../components/ui/identicon":3787,"../../components/ui/tooltip":3867,"../../components/ui/typography":3871,"../../contexts/i18n":3879,"../../ducks/metamask/metamask":3894,"../../helpers/constants/design-system":3902,"../../helpers/constants/routes":3906,"../../hooks/useCopyToClipboard":3955,"../../hooks/useTokenFiatAmount":3973,"../../hooks/useTokenTracker":3974,"../../selectors":4306,"../../store/actions":4313,react:3032,"react-redux":2985,"react-router-dom":3005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t;const a=(0,r.useDispatch)(),y=(0,s.useHistory)(),k=(0,n.useContext)(u.I18nContext),S=(0,r.useSelector)(o.getTokens),C=(0,r.useSelector)(i.getTokenList),{address:N}=(0,s.useParams)(),O=C[N.toLowerCase()],R=null==O||null===(e=O.aggregators)||void 0===e?void 0:e.join(", "),P=S.find((({address:e})=>(0,w.isEqualCaseInsensitive)(e,N))),{tokensWithBalances:x}=(0,d.useTokenTracker)([P]),I=null===(t=x[0])||void 0===t?void 0:t.string,A=(0,f.useTokenFiatAmount)(null==P?void 0:P.address,I,null==P?void 0:P.symbol),M=(0,r.useSelector)((e=>({nickname:e.metamask.provider.nickname,type:e.metamask.provider.type}))),{nickname:D,type:L}=M,[j,F]=(0,l.useCopyToClipboard)();if(!P)return n.default.createElement(s.Redirect,{to:{pathname:g.DEFAULT_ROUTE}});return n.default.createElement(v.default,{className:"page-container token-details"},n.default.createElement(v.default,{marginLeft:5,marginRight:6},n.default.createElement(T.default,{fontWeight:b.FONT_WEIGHT.BOLD,margin:0,marginTop:4,variant:b.TYPOGRAPHY.H6,color:b.COLORS.TEXT_DEFAULT,className:"token-details__title"},k("tokenDetails"),n.default.createElement(_.default,{type:"link",onClick:()=>y.push(`${g.ASSET_ROUTE}/${P.address}`),className:"token-details__closeButton"})),n.default.createElement(v.default,{display:b.DISPLAY.FLEX,marginTop:4},n.default.createElement(T.default,{align:b.TEXT_ALIGN.CENTER,fontWeight:b.FONT_WEIGHT.BOLD,margin:0,marginRight:5,variant:b.TYPOGRAPHY.H4,color:b.COLORS.TEXT_DEFAULT,className:"token-details__token-value"},I||""),n.default.createElement(v.default,{marginTop:1},n.default.createElement(c.default,{diameter:32,address:P.address,image:O?O.iconUrl:P.image}))),n.default.createElement(T.default,{margin:0,marginTop:4,variant:b.TYPOGRAPHY.H7,color:b.COLORS.TEXT_ALTERNATIVE},A||""),n.default.createElement(T.default,{margin:0,marginTop:6,variant:b.TYPOGRAPHY.H9,color:b.COLORS.TEXT_ALTERNATIVE,fontWeight:b.FONT_WEIGHT.BOLD},k("tokenContractAddress")),n.default.createElement(v.default,{display:b.DISPLAY.FLEX},n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H7,margin:0,marginTop:2,color:b.COLORS.TEXT_DEFAULT,overflowWrap:b.OVERFLOW_WRAP.BREAK_WORD,className:"token-details__token-address"},P.address),n.default.createElement(h.default,{position:"bottom",title:k(j?"copiedExclamation":"copyToClipboard"),containerClassName:"token-details__copy-icon"},n.default.createElement(_.default,{type:"link",className:"token-details__copyIcon",onClick:()=>{F(P.address)}},n.default.createElement(E.default,{size:11,color:"var(--color-primary-default)"})))),n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H9,margin:0,marginTop:4,color:b.COLORS.TEXT_ALTERNATIVE,fontWeight:b.FONT_WEIGHT.BOLD},k("tokenDecimalTitle")),n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H7,margin:0,marginTop:1,color:b.COLORS.TEXT_DEFAULT},P.decimals),n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H9,margin:0,marginTop:4,color:b.COLORS.TEXT_ALTERNATIVE,fontWeight:b.FONT_WEIGHT.BOLD},k("network")),n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H7,margin:1,marginTop:0,color:b.COLORS.TEXT_DEFAULT},L===m.NETWORK_TYPES.RPC?null!=D?D:k("privateNetwork"):k(L)),R&&n.default.createElement(n.default.Fragment,null,n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H9,margin:0,marginTop:4,color:b.COLORS.TEXT_ALTERNATIVE,fontWeight:b.FONT_WEIGHT.BOLD},k("tokenList")),n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H7,margin:0,marginTop:1,color:b.COLORS.TEXT_DEFAULT},`${R}.`)),n.default.createElement(_.default,{type:"secondary",className:"token-details__hide-token-button",onClick:()=>{a((0,p.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:P,history:y}))}},n.default.createElement(T.default,{variant:b.TYPOGRAPHY.H6,color:b.COLORS.PRIMARY_DEFAULT},k("hideToken")))))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(e("react")),r=e("react-redux"),s=e("react-router-dom"),o=e("../../ducks/metamask/metamask"),i=e("../../selectors"),l=e("../../hooks/useCopyToClipboard"),c=y(e("../../components/ui/identicon")),u=e("../../contexts/i18n"),d=e("../../hooks/useTokenTracker"),f=e("../../hooks/useTokenFiatAmount"),p=e("../../store/actions"),m=e("../../../shared/constants/network"),g=e("../../helpers/constants/routes"),h=y(e("../../components/ui/tooltip")),_=y(e("../../components/ui/button")),E=y(e("../../components/ui/icon/copy-icon.component")),v=y(e("../../components/ui/box")),T=y(e("../../components/ui/typography")),b=e("../../helpers/constants/design-system"),w=e("../../../shared/modules/string-utils");function y(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui\\pages\\token-details\\token-details-page.js"}],[4299,{"./unlock-page.container":4301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){var n;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=((n=e("./unlock-page.container"))&&n.__esModule?n:{default:n}).default;a.default=r}}},{package:"$root$",file:"ui\\pages\\unlock-page\\index.js"}],[430,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.version=void 0,a.version="solidity/5.7.0"}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/solidity",file:"node_modules\\@ethersproject\\solidity\\lib\\_version.js"}]],[],{});